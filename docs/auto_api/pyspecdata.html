<<<<<<< HEAD


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pyspecdata package &mdash; pySpecData 0.9.5.1.7 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> pySpecData
          

          
          </a>

          
            
            
              <div class="version">
                0.9.5.1.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">List of Modules and Sub-Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook.html">LaTeX Notebook Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nddata.html">ND-Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fitdata.html">the fitdata class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../figlist.html">The Figure List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../units.html">Units</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pySpecData</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>pyspecdata package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/auto_api/pyspecdata.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pyspecdata-package">
<h1>pyspecdata package<a class="headerlink" href="#pyspecdata-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyspecdata.axis_manipulation.html">pyspecdata.axis_manipulation package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation.inhomog_coords">pyspecdata.axis_manipulation.inhomog_coords module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation.register_axis">pyspecdata.axis_manipulation.register_axis module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation.secsy">pyspecdata.axis_manipulation.secsy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation.shear">pyspecdata.axis_manipulation.shear module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyspecdata.fourier.html">pyspecdata.fourier package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.convolve">pyspecdata.fourier.convolve module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.ft">pyspecdata.fourier.ft module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.ft_shift">pyspecdata.fourier.ft_shift module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.ftshift">pyspecdata.fourier.ftshift module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.ift">pyspecdata.fourier.ift module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.shear">pyspecdata.fourier.shear module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyspecdata.load_files.html">pyspecdata.load_files package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.acert">pyspecdata.load_files.acert module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.bruker_esr">pyspecdata.load_files.bruker_esr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.bruker_nmr">pyspecdata.load_files.bruker_nmr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.open_subpath">pyspecdata.load_files.open_subpath module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.prospa">pyspecdata.load_files.prospa module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyspecdata.plot_funcs.html">pyspecdata.plot_funcs package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.plot_funcs.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.plot_funcs.html#module-pyspecdata.plot_funcs.image">pyspecdata.plot_funcs.image module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.plot_funcs.html#module-pyspecdata.plot_funcs">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pyspecdata.core">
<span id="pyspecdata-core-module"></span><h2>pyspecdata.core module<a class="headerlink" href="#module-pyspecdata.core" title="Permalink to this headline">¶</a></h2>
<p>Provides the core components of pyspecdata.
Currently, this is a very large file that we will slowly break down into separate modules or packages.</p>
<p>The classes <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">nddata</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">nddata_hdf</span></code>, <a class="reference internal" href="#pyspecdata.core.ndshape" title="pyspecdata.core.ndshape"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndshape</span></code></a>, the
function <a class="reference internal" href="#pyspecdata.core.plot" title="pyspecdata.core.plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot()</span></code></a>, and the class <a class="reference internal" href="#pyspecdata.core.fitdata" title="pyspecdata.core.fitdata"><code class="xref py py-class docutils literal notranslate"><span class="pre">fitdata</span></code></a>
are the core components of the N-Dimensional processing routines.
Start by familiarizing yourself with those.</p>
<p>The <a class="reference internal" href="../generated/pyspecdata.core.figlist.html#pyspecdata.core.figlist" title="pyspecdata.core.figlist"><code class="xref py py-class docutils literal notranslate"><span class="pre">figlist</span></code></a> is the base class for “Figure lists.”
Figure lists allows you to organize plots and text and to refer to plots
by name, rather than number.
They are designed so that same code can be used seamlessly from within
ipython, jupyter, a python script, or a python environment within latex
(JMF can also distribute latex code for this – nice python based
installer is planned).
The user does not initialize the figlist class directly,
but rather initializes <code class="docutils literal notranslate"><span class="pre">figlist_var</span></code>.
At the end of this file,
there is a snippet of code that sets
<code class="docutils literal notranslate"><span class="pre">figlist_var</span></code> to choice that’s appropriate for the working environment
(<em>i.e.</em>, python, latex environment, <a href="#id1"><span class="problematic" id="id2">*</span></a>etc.)</p>
<p>There are many helper and utility functions that need to be sorted an documented by JMF,
and can be ignored.
These are somewhat wide-ranging in nature.
For example, <a class="reference internal" href="#pyspecdata.core.box_muller" title="pyspecdata.core.box_muller"><code class="xref py py-func docutils literal notranslate"><span class="pre">box_muller()</span></code></a> is a helper function (based on numerical recipes) used by <a class="reference internal" href="#pyspecdata.core.nddata.add_noise" title="pyspecdata.core.nddata.add_noise"><code class="xref py py-func docutils literal notranslate"><span class="pre">nddata.add_noise()</span></code></a>,
while h5 functions are helper functions for using pytables in a fashion that
will hopefull be intuitive to those familiar with SQL, etc.</p>
<dl class="exception">
<dt id="pyspecdata.core.CustomError">
<em class="property">exception </em><code class="descclassname">pyspecdata.core.</code><code class="descname">CustomError</code><span class="sig-paren">(</span><em>*value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.CustomError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.addlabels">
<code class="descclassname">pyspecdata.core.</code><code class="descname">addlabels</code><span class="sig-paren">(</span><em>labelstring</em>, <em>x</em>, <em>y</em>, <em>labels</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.addlabels" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – use plot_label_points</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.apply_oom">
<code class="descclassname">pyspecdata.core.</code><code class="descname">apply_oom</code><span class="sig-paren">(</span><em>average_oom</em>, <em>numbers</em>, <em>prev_label=''</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.apply_oom" title="Permalink to this definition">¶</a></dt>
<dd><p>scale numbers by the order of magnitude average_oom and change the
label prev_label by adding the appropriate SI prefix</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.applyto_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">applyto_rec</code><span class="sig-paren">(</span><em>myfunc</em>, <em>myarray</em>, <em>mylist</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.applyto_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>apply myfunc to myarray with the intention of collapsing it to a smaller number of values</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.autolegend">
<code class="descclassname">pyspecdata.core.</code><code class="descname">autolegend</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.autolegend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.autopad_figure">
<code class="descclassname">pyspecdata.core.</code><code class="descname">autopad_figure</code><span class="sig-paren">(</span><em>pad=0.2</em>, <em>centered=False</em>, <em>figname='unknown'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.autopad_figure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.box_muller">
<code class="descclassname">pyspecdata.core.</code><code class="descname">box_muller</code><span class="sig-paren">(</span><em>length</em>, <em>return_complex=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.box_muller" title="Permalink to this definition">¶</a></dt>
<dd><p>algorithm to generate normally distributed noise</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.colormap">
<code class="descclassname">pyspecdata.core.</code><code class="descname">colormap</code><span class="sig-paren">(</span><em>points</em>, <em>colors</em>, <em>n=256</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.colormap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.concat">
<code class="descclassname">pyspecdata.core.</code><code class="descname">concat</code><span class="sig-paren">(</span><em>datalist</em>, <em>dimname</em>, <em>chop=False</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.concat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.contour_plot">
<code class="descclassname">pyspecdata.core.</code><code class="descname">contour_plot</code><span class="sig-paren">(</span><em>xvals</em>, <em>yvals</em>, <em>zvals</em>, <em>color='k'</em>, <em>alpha=1.0</em>, <em>npts=300</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.contour_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.copy_maybe_none">
<code class="descclassname">pyspecdata.core.</code><code class="descname">copy_maybe_none</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.copy_maybe_none" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.decorate_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">decorate_rec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.decorate_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate the rows in A with information in B –&gt; if names overlap,
keep the ones in A
b_ind and a_ind can be either a single key, or a list of keys;
if more than one element in B matches that in A, include both options!!</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.dp">
<code class="descclassname">pyspecdata.core.</code><code class="descname">dp</code><span class="sig-paren">(</span><em>number</em>, <em>decimalplaces</em>, <em>scientific=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.dp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.emptyfunction">
<code class="descclassname">pyspecdata.core.</code><code class="descname">emptyfunction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.emptyfunction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.emptytest">
<code class="descclassname">pyspecdata.core.</code><code class="descname">emptytest</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.emptytest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.expand_x">
<code class="descclassname">pyspecdata.core.</code><code class="descname">expand_x</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.expand_x" title="Permalink to this definition">¶</a></dt>
<dd><p>expand the axes.  If an argument is passed, then it refers to the position relative to the current coordinates.  Values can be:
:0: set this side of the axis to 0
:None: leave this side of the axis alone
:a double: rescale the distance from the center of the axis to this side by this number</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.expand_y">
<code class="descclassname">pyspecdata.core.</code><code class="descname">expand_y</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.expand_y" title="Permalink to this definition">¶</a></dt>
<dd><p>expand the axes.  If an argument is passed, then it refers to the position relative to the current coordinates.  Values can be:
:0: set this side of the axis to 0
:None: leave this side of the axis alone
:a double: rescale the distance from the center of the axis to this side by this number</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.explain_error">
<code class="descclassname">pyspecdata.core.</code><code class="descname">explain_error</code><span class="sig-paren">(</span><em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.explain_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows you to wrap existing errors with more explanation</p>
<blockquote>
<div><p>For example:</p>
<p>&gt;    except BaseException  as e:
&gt;        raise IndexError(“I can’t find the node “+pathstring+explain_error(e))
&gt;                + ‘</p>
</div></blockquote>
<p>‘.join([‘&gt;      ‘+j for j in str(e).split(‘
‘)]))# this indents</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.fa">
<code class="descclassname">pyspecdata.core.</code><code class="descname">fa</code><span class="sig-paren">(</span><em>input</em>, <em>dtype='complex128'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fa" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.core.figlist">
<em class="property">class </em><code class="descclassname">pyspecdata.core.</code><code class="descname">figlist</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="pyspecdata.core.figlist.basename">
<code class="descname">basename</code><a class="headerlink" href="#pyspecdata.core.figlist.basename" title="Permalink to this definition">¶</a></dt>
<dd><p>A basename that can be changed to generate different sets of figures with different basenames.
For example, this is useful if you are looping over different sets of data,
and generating the same set of figures for each set of data (which would correspond to a basename).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.figurelist">
<code class="descname">figurelist</code><a class="headerlink" href="#pyspecdata.core.figlist.figurelist" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the figure names</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.figdict">
<code class="descname">figdict</code><a class="headerlink" href="#pyspecdata.core.figlist.figdict" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary containing the figurelist and the figure numbers or objects that they correspond to.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.propdict">
<code class="descname">propdict</code><a class="headerlink" href="#pyspecdata.core.figlist.propdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Maintains various properties for each element in figurelist.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.adjust_spines">
<code class="descname">adjust_spines</code><span class="sig-paren">(</span><em>spines</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.adjust_spines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.check_units">
<code class="descname">check_units</code><span class="sig-paren">(</span><em>testdata</em>, <em>x_index</em>, <em>y_index</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.check_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.generate_ticks">
<code class="descname">generate_ticks</code><span class="sig-paren">(</span><em>plotdata</em>, <em>axes</em>, <em>rescale</em>, <em>z_norm=None</em>, <em>y_rescale=1</em>, <em>text_scale=0.05</em>, <em>verbose=False</em>, <em>follow_surface=False</em>, <em>lensoffset=0.005</em>, <em>line_width=0.001</em>, <em>tube_radius=0.001</em>, <em>fine_grid=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.generate_ticks" title="Permalink to this definition">¶</a></dt>
<dd><p>generate 3d ticks and grid for mayavi</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.get_fig_number">
<code class="descname">get_fig_number</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.get_fig_number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.get_num_figures">
<code class="descname">get_num_figures</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.get_num_figures" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.grid">
<code class="descname">grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.grid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.header">
<code class="descname">header</code><span class="sig-paren">(</span><em>number_above</em>, <em>input_string</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.image">
<code class="descname">image</code><span class="sig-paren">(</span><em>A</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Called as <cite>fl.image()</cite> where <cite>fl</cite> is the <cite>figlist_var</cite>
object</p>
<p>Note that this code just wraps the figlist properties, and
the heavy lifting is done by the <cite>image(</cite> function.
Together, the effect is as follows:</p>
<ul>
<li><p class="first"><cite>check_units</cite> converts to human-readable units, and
makes sure they match the units already used in the plot.</p>
</li>
<li><p class="first">if <cite>A</cite> has more than two dimensions, the final dimension in
<cite>A.dimlabels</cite> is used as the column dimension, and a
direct-product of all non-column dimensions (a Kronecker
product, such that the innermost index comes the latest in
the list <cite>A.dimlabels</cite>) is used as the row dimension. A
white/black line is drawn after the innermost index used to
create the direct product is finished iterating.</p>
</li>
<li><p class="first">If <cite>A</cite> consists of complex data, then an HSV plot
(misnomer, actually an HV plot) is used:
- convert to polar form: <span class="math notranslate nohighlight">\(z=\rho \exp(i \phi)\)</span>
- <span class="math notranslate nohighlight">\(\phi\)</span> determines the color (Hue)</p>
<blockquote>
<div><ul class="simple">
<li>Color wheel is cyclical, like <span class="math notranslate nohighlight">\(\exp(i \phi)\)</span></li>
<li>red is taken as <span class="math notranslate nohighlight">\(\phi=0\)</span>, purely real and positive</li>
<li>green-blue is <span class="math notranslate nohighlight">\(pi\)</span> radians out of phase with red and
therefore negative real</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first"><span class="math notranslate nohighlight">\(\rho\)</span> determines the intensity (value)
- Depending on whether or not <cite>black</cite> is set (either as a</p>
<blockquote>
<div><p>keyword argument, or <cite>fl.black</cite>, the background will be
black with high <span class="math notranslate nohighlight">\(\rho\)</span> values “lit up” (intended for
screen plotting) or the background will be white with
the high <span class="math notranslate nohighlight">\(\rho\)</span> values “colored in” (intended for
printing)</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p class="first">If the data type (<cite>dtype</cite>) of the data in <cite>A</cite> is real
(typically achieved by calling <cite>abs(A)</cite> or
<cite>A.runcopy(real)</cite>), then <cite>A</cite> is plotted with a colormap and
corresponding colorbar.</p>
</li>
<li><p class="first">If no title has been given, it’s set to the name of the
current plot in the figurelist</p>
</li>
</ul>
<dl class="attribute">
<dt id="pyspecdata.core.figlist.A">
<code class="descname">A</code><a class="headerlink" href="#pyspecdata.core.figlist.A" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata">nddata</a> or numpy array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.x">
<code class="descname">x</code><a class="headerlink" href="#pyspecdata.core.figlist.x" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the x axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Optional[double] or Optional[scalar]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.y">
<code class="descname">y</code><a class="headerlink" href="#pyspecdata.core.figlist.y" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the y axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Optional[double] or Optional[scalar]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.x_first">
<code class="descname">x_first</code><a class="headerlink" href="#pyspecdata.core.figlist.x_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Since it’s designed to represent matrices, an image plot
by defaults is “transposed” relative to all other plots.
If you want the first dimension on the x-axis (<em>e.g.</em>, if
you are plotting a contour plot on top of an image), then set
<cite>x_first</cite> to <cite>True</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.spacing">
<code class="descname">spacing</code><a class="headerlink" href="#pyspecdata.core.figlist.spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the size of the white/black line drawn
Defaults to 1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.ax">
<code class="descname">ax</code><a class="headerlink" href="#pyspecdata.core.figlist.ax" title="Permalink to this definition">¶</a></dt>
<dd><p>the Axis object where the plot should go.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">matplotlib Axes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">all remaning</code></dt>
<dd><p>are passed through to matplotlib <cite>imshow</cite></p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.origin">
<code class="descname">origin</code><a class="headerlink" href="#pyspecdata.core.figlist.origin" title="Permalink to this definition">¶</a></dt>
<dd><p>upper and lower are passed to matplotlib.
Flip is for 2D nmr, and flips the data manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">{‘upper’, ‘lower’, ‘flip’}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">.. code-block:: python</code></dt>
<dd><p>from pyspecdata import *
fl = figlist_var()</p>
<p>t = r_[-1:1:300j]
x = nddata(t,[-1],[‘x’]).labels(‘x’,t)
y = nddata(t,[-1],[‘y’]).labels(‘y’,t)</p>
<p>z = x**2 + 2*y**2
print “dimlabels of z:”,z.dimlabels</p>
<p>fl.next(‘image with contours’)
fl.image(z,x_first = True) #  x_first is needed to align
#                             with the contour plot
z.contour(colors = ‘w’,alpha = 0.75)</p>
<p>fl.next(‘simple plot’) #  just to show that x is the same
#                         here as well
fl.plot(z[‘y’:(0,0.01)])</p>
<p>fl.show(‘compare_image_contour_150911.pdf’)</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.label_point">
<code class="descname">label_point</code><span class="sig-paren">(</span><em>data</em>, <em>axis</em>, <em>value</em>, <em>thislabel</em>, <em>show_point=True</em>, <em>xscale=1</em>, <em>**new_kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.label_point" title="Permalink to this definition">¶</a></dt>
<dd><p>only works for 1D data: assume you’ve passed a single-point nddata, and label it</p>
<p>xscale gives the unit scaling</p>
<p>..todo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Improve</span> <span class="n">the</span> <span class="n">unit</span> <span class="n">scaling</span><span class="p">,</span> <span class="n">so</span> <span class="n">that</span> <span class="n">this</span> <span class="n">would</span> <span class="n">also</span> <span class="n">work</span><span class="o">.</span>

<span class="n">Allow</span> <span class="n">it</span> <span class="n">to</span> <span class="n">include</span> <span class="n">a</span> <span class="nb">format</span> <span class="n">string</span> <span class="n">that</span> <span class="n">would</span> <span class="n">use</span> <span class="n">the</span> <span class="n">value</span><span class="o">.</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>show_point</strong> (<em>bool</em>) – Defaults to <cite>True</cite>. Actually generate a point (circle), <em>vs.</em>
just the label.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.marked_text">
<code class="descname">marked_text</code><span class="sig-paren">(</span><em>marker</em>, <em>input_text=''</em>, <em>sep='\n'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.marked_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a named <cite>marker</cite> where we can place text.   If <cite>marker</cite>
has been used, goes back and places text there.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.mesh">
<code class="descname">mesh</code><span class="sig-paren">(</span><em>plotdata</em>, <em>Z_normalization=None</em>, <em>equal_scale=True</em>, <em>lensoffset=0.001</em>, <em>show_contours=False</em>, <em>grey_surf=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.mesh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.next">
<code class="descname">next</code><span class="sig-paren">(</span><em>input_name</em>, <em>legend=False</em>, <em>boundaries=None</em>, <em>twinx=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to the figure given by input_name, which is used not only as
a string-based name for the figure, but also as a default title and as
a base name for resulting figure files.</p>
<p><strong>In the future, we actually want this to track the appropriate axis object!</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>legend</strong> (<em>bool</em>) – If this is set, a legend is created <em>outside</em> the figure.</li>
<li><strong>twinx</strong> (<em>{0</em><em>,</em><em>1}</em>) – <table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">1:</th><td class="field-body">plots on an overlayed axis (the matplotlib twinx) whose y axis
is labeled on the right when you set this for the first time, you
can also set a <cite>color</cite> kwarg that controls the coloring of the
right axis.</td>
</tr>
<tr class="field-even field"><th class="field-name">0:</th><td class="field-body">used to switch back to the left (default) axis</td>
</tr>
</tbody>
</table>
</li>
<li><strong>boundaries</strong> – <strong>need to add description</strong></li>
<li><strong>kwargs</strong> (<em>dict</em>) – Any other keyword arguments are passed to the matplotlib (mayavi)
figure() function that’s used to switch (create) figures.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.phaseplot_finalize">
<code class="descname">phaseplot_finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.phaseplot_finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs plot decorations that are typically desired for a manual phasing plot.  This assumes that the <code class="docutils literal notranslate"><span class="pre">y</span></code>-axis is given in units of half-cycles ($pi$ radians).</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.plot" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>linestyle</strong> (<em>{':'</em><em>,</em><em>'--'</em><em>,</em><em>'.'</em><em>,</em><em>'etc.'}</em>) – the style of the line</li>
<li><strong>plottype</strong> (<em>{'semilogy'</em><em>,</em><em>'semilogx'</em><em>,</em><em>'loglog'}</em>) – Select a logarithmic plotting style.</li>
<li><strong>nosemilog</strong> (<em>True</em>) – Typically, if you supply a log-spaced axis,
a semilogx plot will be automatically selected.
This overrides that behavior.
Defaults to False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.pop_marker">
<code class="descname">pop_marker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.pop_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.push_marker">
<code class="descname">push_marker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.push_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.setprops">
<code class="descname">setprops</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.setprops" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.show_prep">
<code class="descname">show_prep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.show_prep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.text">
<code class="descname">text</code><span class="sig-paren">(</span><em>mytext</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.twinx">
<code class="descname">twinx</code><span class="sig-paren">(</span><em>autopad=False</em>, <em>orig=False</em>, <em>color=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.twinx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.use_autolegend">
<code class="descname">use_autolegend</code><span class="sig-paren">(</span><em>value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.use_autolegend" title="Permalink to this definition">¶</a></dt>
<dd><p>No argument sets to true if it’s not already set</p>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist_var">
<code class="descclassname">pyspecdata.core.</code><code class="descname">figlist_var</code><a class="headerlink" href="#pyspecdata.core.figlist_var" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="../generated/pyspecdata.core.figlist.html#pyspecdata.core.figlist" title="pyspecdata.core.figlist"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.figlist</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.figlistini">
<code class="descclassname">pyspecdata.core.</code><code class="descname">figlistini</code><span class="sig-paren">(</span><em>first_figure</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlistini" title="Permalink to this definition">¶</a></dt>
<dd><p>processes a figure list argument:
typically, you want to have a figure_list keyword argument for every function, which is by default set to None, then call this on the argument – it always returns a figure list, creating a new one if required
similarly, somewhere I have another guy that processes the output, so that if it’s set to None, it will by default dump and show the figure list,
and not return a figure list in the output</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.figlistini_old">
<code class="descclassname">pyspecdata.core.</code><code class="descname">figlistini_old</code><span class="sig-paren">(</span><em>first_figure</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlistini_old" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.figlistret">
<code class="descclassname">pyspecdata.core.</code><code class="descname">figlistret</code><span class="sig-paren">(</span><em>first_figure</em>, <em>figure_list</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlistret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.core.fitdata">
<em class="property">class </em><code class="descclassname">pyspecdata.core.</code><code class="descname">fitdata</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
<dl class="method">
<dt id="pyspecdata.core.fitdata.add_inactive_p">
<code class="descname">add_inactive_p</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.add_inactive_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.analytical_covariance">
<code class="descname">analytical_covariance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.analytical_covariance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.bootstrap">
<code class="descname">bootstrap</code><span class="sig-paren">(</span><em>points</em>, <em>swap_out=None</em>, <em>seedval=10347</em>, <em>minbounds={}</em>, <em>maxbounds={}</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.bootstrap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full copy of this instance.</p>
<p>Because methods typically change the data in place, you might want to
use this frequently.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>boolean</em>) – <p>Default to True.
False doesn’t copy the data – this is for internal use,
<em>e.g.</em> when you want to copy all the metadata and perform a
calculation on the data.</p>
<p>The code for this also provides the definitive list of the
nddata metadata.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.covar">
<code class="descname">covar</code><span class="sig-paren">(</span><em>*names</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.covar" title="Permalink to this definition">¶</a></dt>
<dd><p>give the covariance for the different symbols</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.covarmat">
<code class="descname">covarmat</code><span class="sig-paren">(</span><em>*names</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.covarmat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.errfunc">
<code class="descname">errfunc</code><span class="sig-paren">(</span><em>p</em>, <em>x</em>, <em>y</em>, <em>sigma</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.errfunc" title="Permalink to this definition">¶</a></dt>
<dd><p>just the error function</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.eval">
<code class="descname">eval</code><span class="sig-paren">(</span><em>taxis</em>, <em>set=None</em>, <em>set_to=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>after we have fit, evaluate the fit function along the axis taxis
set and set_to allow you to forcibly set a specific symbol to a specific value –&gt; however, this does not affect the class, but only the return value</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>set=None</em>, <em>set_to=None</em>, <em>force_analytical=False</em>, <em>silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>actually run the fit</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.fitfunc">
<code class="descname">fitfunc</code><span class="sig-paren">(</span><em>p</em>, <em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.fitfunc" title="Permalink to this definition">¶</a></dt>
<dd><p>this wraps fitfunc_raw (which gives the actual form of the fit function) to take care of forced variables</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.gen_indices">
<code class="descname">gen_indices</code><span class="sig-paren">(</span><em>this_set</em>, <em>set_to</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.gen_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>pass this this_set and this_set_to parameters, and it will return:
indices,values,mask
indices –&gt; gives the indices that are forced
values –&gt; the values they are forced to
mask –&gt; p[mask] are actually active in the fit</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.gen_symbolic">
<code class="descname">gen_symbolic</code><span class="sig-paren">(</span><em>function_name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.gen_symbolic" title="Permalink to this definition">¶</a></dt>
<dd><p>generates the symbolic representations the function</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.guess">
<code class="descname">guess</code><span class="sig-paren">(</span><em>verbose=False</em>, <em>super_verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.guess" title="Permalink to this definition">¶</a></dt>
<dd><p>provide the guess for our parameters; by default, based on pseudoinverse</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.latex">
<code class="descname">latex</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.latex" title="Permalink to this definition">¶</a></dt>
<dd><p>show the latex string for the function, with all the symbols substituted by their values</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.linear">
<code class="descname">linear</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.linear" title="Permalink to this definition">¶</a></dt>
<dd><p>return the linear-form function, either smoothly along the fit function, or on the raw data, depending on whether or not the taxis argument is given
can take optional arguments and pass them on to eval</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.makereal">
<code class="descname">makereal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.makereal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.output">
<code class="descname">output</code><span class="sig-paren">(</span><em>*name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.output" title="Permalink to this definition">¶</a></dt>
<dd><p>give the fit value of a particular symbol</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.parameter_derivatives">
<code class="descname">parameter_derivatives</code><span class="sig-paren">(</span><em>xvals</em>, <em>set=None</em>, <em>set_to=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.parameter_derivatives" title="Permalink to this definition">¶</a></dt>
<dd><p>return a matrix containing derivatives of the parameters, can set dict set, or keys set, vals set_to</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.parameter_gradient">
<code class="descname">parameter_gradient</code><span class="sig-paren">(</span><em>p</em>, <em>x</em>, <em>y</em>, <em>sigma</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.parameter_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>this gives the specific format wanted by leastsq</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.pinv">
<code class="descname">pinv</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.pinv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.remove_inactive_p">
<code class="descname">remove_inactive_p</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.remove_inactive_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>previous</em>, <em>new</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.rename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.settoguess">
<code class="descname">settoguess</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.settoguess" title="Permalink to this definition">¶</a></dt>
<dd><p>a debugging function, to easily plot the initial guess</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.gensearch">
<code class="descclassname">pyspecdata.core.</code><code class="descname">gensearch</code><span class="sig-paren">(</span><em>labelname</em>, <em>format='%0.3f'</em>, <em>value=None</em>, <em>precision=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.gensearch" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – use h5gensearch</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.gridandtick">
<code class="descclassname">pyspecdata.core.</code><code class="descname">gridandtick</code><span class="sig-paren">(</span><em>ax</em>, <em>rotation=(0</em>, <em>0)</em>, <em>precision=(2</em>, <em>2)</em>, <em>labelstring=(''</em>, <em>'')</em>, <em>gridcolor=None</em>, <em>formatonly=False</em>, <em>fixed_y_locator=None</em>, <em>logarithmic=False</em>, <em>use_grid=True</em>, <em>spines=None</em>, <em>y=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.gridandtick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.gridon">
<code class="descclassname">pyspecdata.core.</code><code class="descname">gridon</code><span class="sig-paren">(</span><em>gridcolor=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.gridon" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5addrow">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5addrow</code><span class="sig-paren">(</span><em>bottomnode</em>, <em>tablename</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5addrow" title="Permalink to this definition">¶</a></dt>
<dd><p>add a row to a table, creating it if necessary, but don’t add if the data matches the search condition indicated by <cite>match_row</cite>
<cite>match_row</cite> can be either text or a dictionary – in the latter case it’s passed to h5searchstring</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5attachattributes">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5attachattributes</code><span class="sig-paren">(</span><em>node</em>, <em>listofattributes</em>, <em>myvalues</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5attachattributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5child">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5child</code><span class="sig-paren">(</span><em>thisnode</em>, <em>childname</em>, <em>clear=False</em>, <em>create=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5child" title="Permalink to this definition">¶</a></dt>
<dd><p>grab the child, optionally clearing it and/or (by default) creating it</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5inlist">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5inlist</code><span class="sig-paren">(</span><em>columnname</em>, <em>mylist</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5inlist" title="Permalink to this definition">¶</a></dt>
<dd><p>returns rows where the column named columnname is in the value of mylist</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5join">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5join</code><span class="sig-paren">(</span><em>firsttuple</em>, <em>secondtuple</em>, <em>additional_search=''</em>, <em>select_fields=None</em>, <em>pop_fields=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5join" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5loaddict">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5loaddict</code><span class="sig-paren">(</span><em>thisnode</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5loaddict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5nodebypath">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5nodebypath</code><span class="sig-paren">(</span><em>h5path</em>, <em>verbose=False</em>, <em>force=False</em>, <em>only_lowest=False</em>, <em>check_only=False</em>, <em>directory='.'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5nodebypath" title="Permalink to this definition">¶</a></dt>
<dd><p>return the node based on an absolute path, including the filename</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5remrows">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5remrows</code><span class="sig-paren">(</span><em>bottomnode</em>, <em>tablename</em>, <em>searchstring</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5remrows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5searchstring">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5searchstring</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5searchstring" title="Permalink to this definition">¶</a></dt>
<dd><p>generate robust search strings
:parameter fieldname,value:
search AROUND a certain value (overcomes some type conversion issues) optional arguments are the format specifier and the fractional precision:
<strong>OR</strong>
:parameter field_and_value_dictionary:
generate a search string that matches one or more criteria</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5table">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5table</code><span class="sig-paren">(</span><em>bottomnode</em>, <em>tablename</em>, <em>tabledata</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5table" title="Permalink to this definition">¶</a></dt>
<dd><p>create the table, or if tabledata is None, just check if it exists</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.issympy">
<code class="descclassname">pyspecdata.core.</code><code class="descname">issympy</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.issympy" title="Permalink to this definition">¶</a></dt>
<dd><p>tests if something is sympy (based on the module name)</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.join_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">join_rec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.join_rec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.lambda_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">lambda_rec</code><span class="sig-paren">(</span><em>myarray</em>, <em>myname</em>, <em>myfunction</em>, <em>*varargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.lambda_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>make a new field “myname” which consists of “myfunction” evaluated with the fields given by “myargs” as arguments
the new field is always placed after the last argument name
if myname is in myargs, the original row is popped</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.lookup_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">lookup_rec</code><span class="sig-paren">(</span><em>A</em>, <em>B</em>, <em>indexpair</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.lookup_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>look up information about A in table B (i.e. chemical by index, etc)
indexpair is either the name of the index
or – if it’s differently named – the pair of indices
given in (A,B) respectively</p>
<p>This will just drop any fields in B that are also in A,
and the output uses the first indexname</p>
<p>note that it it seems like the join_rec function above may be more efficient!!</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.lrecordarray">
<code class="descclassname">pyspecdata.core.</code><code class="descname">lrecordarray</code><span class="sig-paren">(</span><em>*x</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.lrecordarray" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.lsafe">
<code class="descclassname">pyspecdata.core.</code><code class="descname">lsafe</code><span class="sig-paren">(</span><em>*string</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.lsafe" title="Permalink to this definition">¶</a></dt>
<dd><p>replacement for normal lsafe – no escaping</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.lsafen">
<code class="descclassname">pyspecdata.core.</code><code class="descname">lsafen</code><span class="sig-paren">(</span><em>*string</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.lsafen" title="Permalink to this definition">¶</a></dt>
<dd><p>see lsafe, but with an added double newline</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.make_bar_graph_indices">
<code class="descclassname">pyspecdata.core.</code><code class="descname">make_bar_graph_indices</code><span class="sig-paren">(</span><em>mystructarray</em>, <em>list_of_text_fields</em>, <em>recursion_depth=0</em>, <em>verbose=False</em>, <em>spacing=0.1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.make_bar_graph_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a recursive function that is used as part of textlabel_bargraph; it does NOT work without the sorting given at the beginning of that function</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.make_ndarray">
<code class="descclassname">pyspecdata.core.</code><code class="descname">make_ndarray</code><span class="sig-paren">(</span><em>array_to_conv</em>, <em>name_forprint='unknown'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.make_ndarray" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.make_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">make_rec</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.make_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>input,names or a single argument, which is a dictionarynstrlen = 100 gives length of the strings (which need to be specified in record arrays)nyou can also specify (especially useful with the dictionary format) the list order = [str1,str2,…] which orders the output records with the field containing str1 first, then the field containing str2, then any remaining fields</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.maprep">
<code class="descclassname">pyspecdata.core.</code><code class="descname">maprep</code><span class="sig-paren">(</span><em>*mylist</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.maprep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.meanstd_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">meanstd_rec</code><span class="sig-paren">(</span><em>myarray</em>, <em>mylist</em>, <em>verbose=False</em>, <em>standard_error=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.meanstd_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>this is something like applyto_rec, except that it applies the mean and creates new rows for the “error,” where it puts the standard deviation</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.mybasicfunction">
<code class="descclassname">pyspecdata.core.</code><code class="descname">mybasicfunction</code><span class="sig-paren">(</span><em>first_figure=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.mybasicfunction" title="Permalink to this definition">¶</a></dt>
<dd><p>this gives the format for doing the image thing
note also
nextfigure(fl,’name’)
and
nextfigure({‘lplotproperty’:value})</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.mydiff">
<code class="descclassname">pyspecdata.core.</code><code class="descname">mydiff</code><span class="sig-paren">(</span><em>data</em>, <em>axis=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.mydiff" title="Permalink to this definition">¶</a></dt>
<dd><p>this will replace diff with a version that has the same number of indices, with the last being the copy of the first</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.myfilter">
<code class="descclassname">pyspecdata.core.</code><code class="descname">myfilter</code><span class="sig-paren">(</span><em>x</em>, <em>center=250000.0</em>, <em>sigma=100000.0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.myfilter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.core.nddata">
<em class="property">class </em><code class="descclassname">pyspecdata.core.</code><code class="descname">nddata</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the detailed API reference.
For an introduction on how to use ND-Data, see the <a class="reference internal" href="../nddata.html#nddata-summary-label"><span class="std std-ref">Main ND-Data Documentation</span></a>.</p>
<dl class="attribute">
<dt id="pyspecdata.core.nddata.C">
<code class="descname">C</code><a class="headerlink" href="#pyspecdata.core.nddata.C" title="Permalink to this definition">¶</a></dt>
<dd><p>shortcut for copy</p>
<dl class="docutils">
<dt>..todo::</dt>
<dd>We should offer “N”, which generates something like a copy,
but which is sets the equivalent of “nopop”.
For example, currently, you need to do something like
<code class="docutils literal notranslate"><span class="pre">d.C.argmax('t2')</span></code>,
which is very inefficient, since it copies the whole array.
So, instead, we should do
<code class="docutils literal notranslate"><span class="pre">d.N.argmax('t2')</span></code>, which tells argmax and all other
functions not to overwrite “self” but to return a new object.
This would cause things like “run_nopop” to become obsolete.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.add_noise">
<code class="descname">add_noise</code><span class="sig-paren">(</span><em>intensity</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.add_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Gaussian (box-muller) noise to the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>intensity</strong> (<em>double OR function</em>) – If a double, gives the standard deviation of the noise.
If a function, used to calculate the standard deviation of the noise from the data:
<em>e.g.</em> <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">max(abs(x))/10.</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.aligndata">
<code class="descname">aligndata</code><span class="sig-paren">(</span><em>arg</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.aligndata" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a fundamental method used by all of the arithmetic operations.
It uses the dimension labels of <cite>self</cite> (the current instance) and <cite>arg</cite>
(an nddata passed to this method) to generate two corresponding output
nddatas that I refer to here, respectively, as <cite>A</cite> and <cite>B</cite>.  <cite>A</cite> and
<cite>B</cite> have dimensions that are “aligned” – that is, they are identical
except for singleton dimensions (note that numpy automatically tiles
singleton dimensions).  Regardless of how the dimensions of <cite>self.data</cite>
and <cite>arg.data</cite> (the underlying numpy data) were ordered, <cite>A.data</cite> and
<cite>B.data</cite> are now ordered identically, where dimensions with the same
label (<cite>.dimlabel</cite>) correspond to the same numpy index.  This allows
you do do math.</p>
<p>Note that, currently, both <cite>A</cite> and <cite>B</cite> are given a full set of axis
labels, even for singleton dimensions.  This is because we’re assuming
you’re going to do math with them, and that the singleton dimensions
will be expanded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arg</strong> (<a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata"><em>nddata</em></a><em> or </em><em>ndarray</em>) – The nddata that you want to align to <cite>self</cite>.
If arg is an ndarray, it will try to match dimensions to self based
on the length of the dimension.
<strong>Note:</strong> currently there is an issue where this will only really
work for 1D data, since it first makes an nddata instance based on
arg, which apparently collapses multi-D data to 1D data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>A</strong> (<em>nddata</em>) – realigned version of <cite>self</cite></li>
<li><strong>B</strong> (<em>nddata</em>) – realigned version of <cite>arg</cite> (the argument)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.nddata.angle">
<code class="descname">angle</code><a class="headerlink" href="#pyspecdata.core.nddata.angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the angle component of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.argmax">
<code class="descname">argmax</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.argmax" title="Permalink to this definition">¶</a></dt>
<dd><p>find the max along a particular axis, and get rid of that axis, replacing it with the index number of the max value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>raw_index</strong> (<em>bool</em>) – return the raw (ndarray) numerical index, rather than the corresponding axis value
Note that the result returned is still, however, an nddata (rather than numpy ndarray) object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.argmin">
<code class="descname">argmin</code><span class="sig-paren">(</span><em>*axes</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.argmin" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>argmin(‘axisname’)</cite> find the min along a particular axis, and get rid of that
axis, replacing it with the index number of the max value.
If <cite>argmin()</cite>: return a dictionary giving the coordinates of the overall minimum point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>raw_index</strong> (<em>bool</em>) – Return the raw (ndarray) numerical index, rather than the corresponding axis value.
Note that the result returned is still, however, an nddata (rather than numpy ndarray) object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.axis">
<code class="descname">axis</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.axis" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a 1-D axis for further manipulation</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.axlen">
<code class="descname">axlen</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.axlen" title="Permalink to this definition">¶</a></dt>
<dd><p>return the size (length) of an axis, by name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>axis</strong> (<em>str</em>) – name of the axis whos length you are interested in</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.axn">
<code class="descname">axn</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.axn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the index number for the axis with the name “axis”</p>
<p>This is used by many other methods.
As a simple example,
self.:func:<cite>axlen`(axis) (the axis length) returns
``shape(self.data)[self.axn(axis)]`</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>axis</strong> (<em>str</em>) – name of the axis</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.cdf">
<code class="descname">cdf</code><span class="sig-paren">(</span><em>normalized=True</em>, <em>max_bins=500</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.cdf" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the Cumulative Distribution Function for the data along <cite>axis_name</cite></p>
<p>only for 1D data right now</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">A new nddata object with an axis labeled <cite>values</cite>, and data corresponding to the CDF.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.check_axis_coords_errors">
<code class="descname">check_axis_coords_errors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.check_axis_coords_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.chunk">
<code class="descname">chunk</code><span class="sig-paren">(</span><em>axisin</em>, <em>*otherargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.chunk" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>“Chunking” is defined here to be the opposite of taking a direct product, increasing the number of dimensions by the inverse of the process by which taking a direct product decreases the number of dimensions.  This function chunks axisin into multiple new axes arguments.:</dt>
<dd>axesout – gives the names of the output axes
shapesout – optional – if not given, it assumes equal length – if given, one of the values can be -1, which is assumed length</dd>
</dl>
<p>When there are axes, it assumes that the axes of the new dimensions
are nested – <em>e.g.</em>, it will chunk a dimension with axis:
[1,2,3,4,5,6,7,8,9,10]
into dimensions with axes:
[0,1,2,3,4], [1,6]</p>
<dl class="docutils">
<dt>..todo::</dt>
<dd>Deal with this efficiently when we move to new-style axes</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.chunk_auto">
<code class="descname">chunk_auto</code><span class="sig-paren">(</span><em>axis_name</em>, <em>which_field</em>, <em>verbose=False</em>, <em>dimname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.chunk_auto" title="Permalink to this definition">¶</a></dt>
<dd><p>assuming that axis “axis_name” is currently labeled with a structured array, choose one field (“which_field”) of that structured array to generate a new dimension
Note that for now, by definition, no error is allowed on the axes.
However, once I upgrade to using structured arrays to handle axis and data errors, I will want to deal with that appropriately here.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.circshift">
<code class="descname">circshift</code><span class="sig-paren">(</span><em>axis</em>, <em>amount</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.circshift" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.contiguous">
<code class="descname">contiguous</code><span class="sig-paren">(</span><em>lambdafunc</em>, <em>axis=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Return contiguous blocks that satisfy the condition given by <cite>lambdafunc</cite></p>
<p>this function returns the start and stop positions along the
axis for the contiguous blocks for which lambdafunc returns
true
<strong>Currently only supported for 1D data</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">adapted from stackexchange post <a class="reference external" href="http://stackoverflow.com/questions/4494404/find-large-number-of-consecutive-values-fulfilling-condition-in-a-numpy-array">http://stackoverflow.com/questions/4494404/find-large-number-of-consecutive-values-fulfilling-condition-in-a-numpy-array</a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lambdafunc</strong> (<em>types.FunctionType</em>) – If only one argument (lambdafunc) is given,
then lambdafunc is
a function that accepts a copy of the current nddata object
(<cite>self</cite>) as the argument.
If two arguments are given,
the second is <cite>axis</cite>, and lambdafunc has two arguments,
<cite>self</cite> and the value of <cite>axis</cite>.</li>
<li><strong>axis</strong> (<em>{None</em><em>,</em><em>str}</em>) – the name of the axis along which you want to find contiguous
blocks</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>retval</strong> – An <span class="math notranslate nohighlight">\(N\times 2\)</span> matrix, where the <span class="math notranslate nohighlight">\(N\)</span> rows correspond to pairs of axis
label that give ranges over which <cite>lambdafunc</cite> evaluates to <cite>True</cite>.
These are ordered according to descending range width.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>&gt; #{{{ debugging block
&gt; sum_for_contiguous = abs(forplot).mean(‘t1’)
&gt; fl.next(“test contiguous”)
&gt; forplot = sum_for_contiguous.copy().set_error(None)
&gt; fl.plot(forplot,alpha = 0.25,linewidth = 3)
&gt; print “this is what the max looks like”,0.5*sum_for_contiguous.set_error(None).runcopy(max,’t2’)
&gt; print sum_for_contiguous &gt; 0.5*sum_for_contiguous.runcopy(max,’t2’)
&gt; retval = sum_for_contiguous.contiguous(quarter_of_max,’t2’)
&gt; print “contiguous range / 1e6:”,retval/1e6
&gt; for j in range(retval.shape[0]):
&gt;     a,b = retval[j,:]
&gt;     fl.plot(forplot[‘t2’:(a,b)])
&gt; fl.show()
&gt; exit()
&gt; #}}}</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.contour">
<code class="descname">contour</code><span class="sig-paren">(</span><em>labels=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.contour" title="Permalink to this definition">¶</a></dt>
<dd><p>Contour plot – kwargs are passed to the matplotlib
<cite>contour</cite> function.</p>
<p>See docstring of <cite>figlist_var.image()</cite> for an example</p>
<dl class="attribute">
<dt id="pyspecdata.core.nddata.labels">
<code class="descname">labels</code><a class="headerlink" href="#pyspecdata.core.nddata.labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not the levels should be labeled.
Defaults to True</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.convolve">
<code class="descname">convolve</code><span class="sig-paren">(</span><em>axisname</em>, <em>filterwidth</em>, <em>convfunc=&lt;function &lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a convolution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>axisname</strong> (<em>str</em>) – apply the convolution along <cite>axisname</cite></li>
<li><strong>filterwidth</strong> (<em>double</em>) – width of the convolution function.</li>
<li><strong>convfunc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – A function that takes two arguments – the first are the axis coordinates and the second is <cite>filterwidth</cite>.
Default is a normalized Gaussian of width (<span class="math notranslate nohighlight">\(\sigma\)</span>)
<cite>filterwidth</cite>
<span class="math notranslate nohighlight">\(\frac{1}{2 \sigma^2}\exp\left( - \frac{x^2}{2 \sigma^2} \right)\)</span>
For example if you want a complex lorentzian with <cite>filterwidth</cite> controlled by the rate $R$,
<em>i.e.</em>
<span class="math notranslate nohighlight">\(\frac{-1}{-i 2 \pi f - R}\)</span>
then <code class="docutils literal notranslate"><span class="pre">convfunc</span> <span class="pre">=</span> <span class="pre">lambda</span> <span class="pre">f,R:</span> <span class="pre">-1./(-1j*2*pi*f-R)</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><em>data=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full copy of this instance.</p>
<p>Because methods typically change the data in place, you might want to
use this frequently.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>boolean</em>) – <p>Default to True.
False doesn’t copy the data – this is for internal use,
<em>e.g.</em> when you want to copy all the metadata and perform a
calculation on the data.</p>
<p>The code for this also provides the definitive list of the
nddata metadata.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.copy_props">
<code class="descname">copy_props</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.copy_props" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy all properties (see <a class="reference internal" href="#pyspecdata.core.nddata.get_prop" title="pyspecdata.core.nddata.get_prop"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_prop()</span></code></a>) from another nddata
object – note that these include properties pertaining the the FT
status of various dimensions.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.copyaxes">
<code class="descname">copyaxes</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.copyaxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.cropped_log">
<code class="descname">cropped_log</code><span class="sig-paren">(</span><em>subplot_axes=None</em>, <em>magnitude=4</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.cropped_log" title="Permalink to this definition">¶</a></dt>
<dd><p>For the purposes of plotting, this generates a copy where I take the log, spanning “magnitude” orders of magnitude
This is designed to be called as abs(instance).cropped_log(), so it doesn’t make a copy</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.diff">
<code class="descname">diff</code><span class="sig-paren">(</span><em>thisaxis</em>, <em>backwards=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.diff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.dot">
<code class="descname">dot</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensor dot of self with arg – dot all matching dimension labels.  This can be used to do matrix multiplication, but note that the order of doesn’t matter, since the dimensions that are contracted are determined by matching the dimension names, not the order of the dimension.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">],</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">27</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">tensordot</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">27</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">tensordot</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="p">((</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">)))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.extend">
<code class="descname">extend</code><span class="sig-paren">(</span><em>axis</em>, <em>extent</em>, <em>fill_with=0</em>, <em>tolerance=1e-05</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>axis</cite> is uniformly ascending with spacing <span class="math notranslate nohighlight">\(dx\)</span>,
then extend by adding a point every <span class="math notranslate nohighlight">\(dx\)</span> until the axis
includes the point <cite>extent</cite>.  Fill the newly created datapoints with <cite>fill_with</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>axis</strong> (<em>str</em>) – name of the axis to extend</li>
<li><strong>extent</strong> (<em>double</em>) – extend the axis <cite>axis</cite> out to this point</li>
<li><strong>fill_with</strong> (<em>double</em>) – fill the new data points with this value (defaults to 0)</li>
<li><strong>tolerance</strong> (<em>double</em>) – when checking for ascending axis labels, etc.,
values/differences must match to within tolerance
(assumed to represent the actual precision, given
various errors, etc.)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.extend_for_shear">
<code class="descname">extend_for_shear</code><span class="sig-paren">(</span><em>altered_axis</em>, <em>propto_axis</em>, <em>skew_amount</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.extend_for_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>this is propto_axis helper function for <cite>.fourier.shear</cite></p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.fld">
<code class="descname">fld</code><span class="sig-paren">(</span><em>dict_in</em>, <em>noscalar=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.fld" title="Permalink to this definition">¶</a></dt>
<dd><p>flatten dictionary – return list</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.fourier_shear">
<code class="descname">fourier_shear</code><span class="sig-paren">(</span><em>altered_axis</em>, <em>propto_axis</em>, <em>by_amount</em>, <em>zero_fill=False</em>, <em>start_in_conj=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.fourier_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>the fourier shear method – see .shear() documentation</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.fromaxis">
<code class="descname">fromaxis</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.fromaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an nddata object from one of the axis labels.</p>
<p>Can be used in one of several ways:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">self.fromaxis('axisname')</span></code>: Returns an nddata where <cite>retval.data</cite> consists of the given axis values.</li>
<li><code class="docutils literal notranslate"><span class="pre">self.fromaxis('axisname',inputfunc)</span></code>: use <cite>axisname</cite> as the input for <cite>inputfunc</cite>, and load the result into <cite>retval.data</cite></li>
<li><code class="docutils literal notranslate"><span class="pre">self.fromaxis(inputsymbolic)</span></code>: Evaluate <cite>inputsymbolic</cite> and load the result into <cite>retval.data</cite></li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>axisname</strong> (<em>str | list</em>) – The axis (or list of axes) to that is used as the argument of <cite>inputfunc</cite> or the function represented by <cite>inputsymbolic</cite>.
If this is the only argument, it cannot be a list.</li>
<li><strong>inputsymbolic</strong> (<em>sympy.Expr</em>) – A sympy expression whose only symbols are the names of axes.
It is preferred, though not required, that this is passed
without an <cite>axisname</cite> argument – the axis names are then
inferred from the symbolic expression.</li>
<li><strong>inputfunc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – A function (typically a lambda function) that taxes the values of the axis given by <cite>axisname</cite> as input.</li>
<li><strong>overwrite</strong> (<em>bool</em>) – Defaults to <cite>False</cite>. If set to <cite>True</cite>, it overwrites <cite>self</cite> with <cite>retval</cite>.</li>
<li><strong>as_array</strong> (<em>bool</em>) – Defaults to <cite>False</cite>. If set to <cite>True</cite>, <cite>retval</cite> is a properly dimensioned numpy ndarray rather than an nddata.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>retval</strong> – An expression calculated from the axis(es) given by <cite>axisname</cite> or inferred from <cite>inputsymbolic</cite>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">nddata | ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.ft">
<code class="descname">ft</code><span class="sig-paren">(</span><em>axes</em>, <em>tolerance=1e-05</em>, <em>cosine=False</em>, <em>verbose=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ft" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs a Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="docutils">
<dt>It adjusts normalization and units so that the result conforms to</dt>
<dd><span class="math notranslate nohighlight">\(\tilde{s}(f)=\int_{x_min}^{x_max} s(t) e^{-i 2 \pi f t} dt\)</span></dd>
</dl>
<p>Note that, as noted in the <a class="reference internal" href="#pyspecdata.core.nddata.ift" title="pyspecdata.core.nddata.ift"><code class="xref py py-func docutils literal notranslate"><span class="pre">ift()</span></code></a> documentation,
the inverse transform doesn’t correspond to the equivalent
expression for the IFT.</p>
<p><strong>pre-FT</strong>, we use the axis to cyclically permute <span class="math notranslate nohighlight">\(t=0\)</span> to the first index</p>
<p><strong>post-FT</strong>, we assume that the data has previously been IFT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard fftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.</li>
<li><strong>automix</strong> (<em>double</em>) – <cite>automix</cite> can be set to the approximate frequency value.  This is
useful for the specific case where the data has been captured on a
sampling scope, and it’s severely aliased over.</li>
<li><strong>cosine</strong> (<em>boolean</em>) – yields a sum of the fft and ifft, for a cosine transform</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.ft_clear_startpoints">
<code class="descname">ft_clear_startpoints</code><span class="sig-paren">(</span><em>axis</em>, <em>t=None</em>, <em>f=None</em>, <em>nearest=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ft_clear_startpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears memory of where the origins in the time and frequency domain are.
This is useful, <em>e.g.</em> when you want to ift and center about time=0.
By setting shift=True you can also manually set the points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>t</strong> (<em>float</em><em>, </em><em>'current'</em><em>, </em><em>'reset'</em><em>, or </em><em>None</em>) – keyword arguments <cite>t</cite> and <cite>f</cite> can be set by (1) manually setting
the start point (2) using the string ‘current’ to leave the
current setting a lone (3) ‘reset’, which clears the startpoint
and (4) None, which will be changed to ‘current’ when the other is set to a number or ‘rest’ if both are set to None.</li>
<li><strong>t</strong> – see <cite>t</cite></li>
<li><strong>nearest</strong> (<em>bool</em>) – <p>Shifting the startpoint can only be done
by an integral number of datapoints
(<em>i.e.</em> an integral number of dwell
times, dt, in the time domain or
integral number of df in the frequency
domain).
While it is possible to shift by a
non-integral number of datapoints,
this is done by applying a
phase-dependent shift in the inverse
domain.
Applying such a axis-dependent shift
can have vary unexpected effects if the
data in the inverse domain is aliased,
and is therefore heavily discouraged.
(For example, consider what happens if
we attempt to apply a
frequency-dependent phase shift to data
where a peak at 110 Hz is aliased and
appears at the 10 Hz position.)</p>
<p>Setting <cite>nearest</cite> to <strong>True</strong>
will choose a startpoint at the closest
integral datapoint to what you have
specified.</p>
<p>Setting <cite>nearest</cite> to <strong>False</strong>
will explicitly override the safeties –
essentially telling the code that you
know the data is not aliased in the
inverse domain and/or are willing to
deal with the consequences.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.ft_state_to_str">
<code class="descname">ft_state_to_str</code><span class="sig-paren">(</span><em>*axes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ft_state_to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string that lists the FT domain for the given axes.</p>
<p><span class="math notranslate nohighlight">\(u\)</span> refers to the original domain (typically time) and <span class="math notranslate nohighlight">\(v\)</span> refers to the FT’d domain (typically frequency)
If no axes are passed as arguments, it does this for all axes.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.ftshift">
<code class="descname">ftshift</code><span class="sig-paren">(</span><em>axis</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ftshift" title="Permalink to this definition">¶</a></dt>
<dd><p>FT-based shift.  Currently only works in time domain.</p>
<p>This was previously made obsolete, but is now a demo of how to use the ft properties.
It is not the most efficient way to do this.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.get_covariance">
<code class="descname">get_covariance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>this returns the covariance matrix of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.get_error">
<code class="descname">get_error</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_error" title="Permalink to this definition">¶</a></dt>
<dd><p>get a copy of the errors
either set_error(‘axisname’,error_for_axis) or set_error(error_for_data)</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.get_ft_prop">
<code class="descname">get_ft_prop</code><span class="sig-paren">(</span><em>axis</em>, <em>propname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_ft_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if no <cite>propname</cite> is given, this just sets the <cite>FT</cite> property, which tells if a dimension is frequency or time domain</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.get_plot_color">
<code class="descname">get_plot_color</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_plot_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.get_prop">
<code class="descname">get_prop</code><span class="sig-paren">(</span><em>propname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>return arbitrary ND-data properties (typically acquisition parameters <em>etc.</em>) by name (<cite>propname</cite>)</p>
<p>In order to allow ND-data to store acquisition parameters and other info that accompanies the data,
but might not be structured in a gridded format, nddata instances
always have a <cite>other_info</cite> dictionary attribute,
which stores these properties by name.</p>
<p>If the property doesn’t exist, this returns <cite>None</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>propname</strong> (<em>str</em>) – <p>Name of the property that you’re want returned.
If this is left out or set to “None” (not given), the names of the available
properties are returned.
If no exact match is found, and propname contains a . or * or [, it’s
assumed to be a regular expression.
If several such matches are found, the error message is informative.</p>
<span class="target" id="index-0"></span><div class="admonition-todo admonition">
<p class="first admonition-title">Todo</p>
<p class="last">have it recursively search dictionaries (e.g. bruker acq)</p>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">The value of the property (can by any type) or <cite>None</cite> if the property doesn’t exist.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.get_units">
<code class="descname">get_units</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.getaxis">
<code class="descname">getaxis</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.getaxis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.getaxisshape">
<code class="descname">getaxisshape</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.getaxisshape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.gnuplot_save">
<code class="descname">gnuplot_save</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.gnuplot_save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.hdf5_write">
<code class="descname">hdf5_write</code><span class="sig-paren">(</span><em>h5path</em>, <em>directory='.'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.hdf5_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the nddata to an HDF5 file.</p>
<p><cite>h5path</cite> is the name of the file followed by the node path where
you want to put it – it does <strong>not</strong> include the directory where
the file lives.
The directory can be passed to the <cite>directory</cite> argument.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>h5path</strong> (<em>str</em>) – The name of the file followed by the node path where
you want to put it – it does <strong>not</strong> include the directory where
the file lives.
(Because HDF5 files contain an internal directory-like group
structure.)</li>
<li><strong>directory</strong> (<em>str</em>) – the directory where the HDF5 file lives.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.histogram">
<code class="descname">histogram</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.histogram" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.human_units">
<code class="descname">human_units</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.human_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.ift">
<code class="descname">ift</code><span class="sig-paren">(</span><em>axes</em>, <em>n=False</em>, <em>tolerance=1e-05</em>, <em>verbose=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ift" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs a Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="docutils">
<dt>It adjusts normalization and units so that the result conforms to</dt>
<dd><span class="math notranslate nohighlight">\(s(t)=t_{dw} \int_{x_min}^{x_max} \tilde{s}(t) e^{i 2 \pi f t} df\)</span></dd>
</dl>
<p>Where <span class="math notranslate nohighlight">\(t_{dw}=\frac{1}{\Delta f}\)</span>, is the dwell time (with <span class="math notranslate nohighlight">\(\Delta f\)</span> the spectral width).</p>
<p><em>Why do we do this?</em> Note that while the analytical integral this corresponds to is normalized, performing
<a class="reference internal" href="#pyspecdata.core.nddata.ft" title="pyspecdata.core.nddata.ft"><code class="xref py py-func docutils literal notranslate"><span class="pre">ft()</span></code></a> followed by <a class="reference internal" href="#pyspecdata.core.nddata.ift" title="pyspecdata.core.nddata.ift"><code class="xref py py-func docutils literal notranslate"><span class="pre">ift()</span></code></a> on a discrete sequence is NOT completely invertible
(due to integration of the implied comb function??),
and would require division by a factor of $Delta f$ (the spectral width) in order
to retrieve the original function</p>
<p><strong>pre-IFT</strong>, we use the axis to cyclically permute $f=0$ to the first index</p>
<p><strong>post-IFT</strong>, we assume that the data has previously been FT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard ifftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <p><cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.   It uses the
<cite>start_time</cite> ft property to determine the start of the axis.  To
do this, it assumes that it is a stationary signal
(convolved with infinite comb function).
The value of <cite>start_time</cite> can differ from by a non-integral multiple of
<span class="math notranslate nohighlight">\(\Delta t\)</span>, though the routine will check whether or not it is safe to
do this.</p>
<dl class="docutils">
<dt>..note ::</dt>
<dd>In the code, this is controlled by <cite>p2_post</cite> (the integral
<span class="math notranslate nohighlight">\(\Delta t\)</span> and <cite>p2_post_discrepancy</cite> – the non-integral.</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.nddata.imag">
<code class="descname">imag</code><a class="headerlink" href="#pyspecdata.core.nddata.imag" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the imag component of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.indices">
<code class="descname">indices</code><span class="sig-paren">(</span><em>axis_name</em>, <em>values</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string of indeces that most closely match the axis labels corresponding to values. Filter them to make sure they are unique.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.inhomog_coords">
<code class="descname">inhomog_coords</code><span class="sig-paren">(</span><em>direct_dim</em>, <em>indirect_dim</em>, <em>tolerance=1e-05</em>, <em>method='linear'</em>, <em>plot_name=None</em>, <em>fl=None</em>, <em>debug_kwargs={}</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.inhomog_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the “inhomogeneity transform,” which rotates the data by <span class="math notranslate nohighlight">\(45^{\circ}\)</span>, and then mirrors the portion with <span class="math notranslate nohighlight">\(t_2&lt;0\)</span> in order to transform from a <span class="math notranslate nohighlight">\((t_1,t_2)\)</span> coordinate system to a <span class="math notranslate nohighlight">\((t_{inh},t_{homog})\)</span> coordinate system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>direct_dim</strong> (<em>str</em>) – Label of the direct dimension (typically <span class="math notranslate nohighlight">\(t_2\)</span>)</li>
<li><strong>indirect_dim</strong> (<em>str</em>) – Label of the indirect dimension (typically <span class="math notranslate nohighlight">\(t_1\)</span>)</li>
<li><strong>method</strong> (<em>'linear'</em><em>, </em><em>'fourier'</em>) – The interpolation method used to rotate the data and to mirror the data.
<strong>Note</strong> currently, both use a fourier-based mirroring method.</li>
<li><strong>plot_name</strong> (<em>str</em>) – the base name for the plots that are generated</li>
<li><strong>fl</strong> (<em>figlist_var</em>) – </li>
<li><strong>debug_kwargs</strong> (<em>dict</em>) – <p>with keys:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2"><cite>correct_overlap</cite>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">if False, doesn’t correct for the overlap error that occurs during mirroring</td>
</tr>
</tbody>
</table>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.integrate">
<code class="descname">integrate</code><span class="sig-paren">(</span><em>thisaxis</em>, <em>backwards=False</em>, <em>cumulative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>this performs an integration – which is similar to a sum, except that it takes the axis into account, i.e., it performs:
$int f(x) dx$
rather than
$sum_i f(x_i)$</p>
<p>Gaussian quadrature, etc, is planned for a future version.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.interp">
<code class="descname">interp</code><span class="sig-paren">(</span><em>axis</em>, <em>axisvalues</em>, <em>past_bounds=None</em>, <em>verbose=False</em>, <em>return_func=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.interp" title="Permalink to this definition">¶</a></dt>
<dd><p>interpolate data values given axis values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_func</strong> (<em>boolean</em>) – defaults to False.  If True, it returns a function that accepts
axis values and returns a data value.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.invinterp">
<code class="descname">invinterp</code><span class="sig-paren">(</span><em>axis</em>, <em>values</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.invinterp" title="Permalink to this definition">¶</a></dt>
<dd><p>interpolate axis values given data values</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.item">
<code class="descname">item</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.item" title="Permalink to this definition">¶</a></dt>
<dd><p>like numpy item – returns a number when zero-dimensional</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">labels</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span></dt>
<dd><p>label the dimensions, given in listofstrings with the axis labels given in listofaxes – listofaxes must be a numpy array;
you can pass either a dictionary or a axis name (string)/axis label (numpy array) pair</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.like">
<code class="descname">like</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.like" title="Permalink to this definition">¶</a></dt>
<dd><p>provide “zeros_like” and “ones_like” functionality</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>float</em>) – 1 is “ones_like” 0 is “zeros_like”, etc.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.linear_shear">
<code class="descname">linear_shear</code><span class="sig-paren">(</span><em>along_axis</em>, <em>propto_axis</em>, <em>shear_amnt</em>, <em>zero_fill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.linear_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>the linear shear – see <cite>self.shear</cite> for documentation</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.matchdims">
<code class="descname">matchdims</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.matchdims" title="Permalink to this definition">¶</a></dt>
<dd><p>add any dimensions to self that are not present in other</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.matrices_3d">
<code class="descname">matrices_3d</code><span class="sig-paren">(</span><em>also1d=False</em>, <em>invert=False</em>, <em>max_dimsize=1024</em>, <em>downsample_self=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.matrices_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>returns X,Y,Z,x_axis,y_axis
matrices X,Y,Z, are suitable for a variety of mesh plotting, etc, routines
x_axis and y_axis are the x and y axes</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.mayavi_surf">
<code class="descname">mayavi_surf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mayavi_surf" title="Permalink to this definition">¶</a></dt>
<dd><p>use the mayavi surf function, assuming that we’ve already loaded mlab
during initialization</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.mean">
<code class="descname">mean</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Take the mean and set the error to the standard deviation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_error</strong> (<em>bool</em>) – whether or note to return the standard deviation as an error</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.mean_all_but">
<code class="descname">mean_all_but</code><span class="sig-paren">(</span><em>listofdims</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mean_all_but" title="Permalink to this definition">¶</a></dt>
<dd><p>take the mean over all dimensions not in the list</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.mean_nopop">
<code class="descname">mean_nopop</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mean_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.mean_weighted">
<code class="descname">mean_weighted</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mean_weighted" title="Permalink to this definition">¶</a></dt>
<dd><p>perform  the weighted mean along <cite>axisname</cite> (use $sigma$ from $sigma = $self.get_error() do generate $1/sigma$ weights)
for now, it clears the error of <cite>self</cite>, though it would be easy to calculate the new error, since everything is linear</p>
<p>unlike other functions, this creates working objects that are themselves nddata objects
this strategy is easier than coding out the raw numpy math, but probably less efficient</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.meshplot">
<code class="descname">meshplot</code><span class="sig-paren">(</span><em>stride=None</em>, <em>alpha=1.0</em>, <em>onlycolor=False</em>, <em>light=None</em>, <em>rotation=None</em>, <em>cmap=&lt;matplotlib.colors.LinearSegmentedColormap object&gt;</em>, <em>ax=None</em>, <em>invert=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.meshplot" title="Permalink to this definition">¶</a></dt>
<dd><p>takes both rotation and light as elevation, azimuth
only use the light kwarg to generate a black and white shading display</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.mkd">
<code class="descname">mkd</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mkd" title="Permalink to this definition">¶</a></dt>
<dd><p>make dictionary format</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.multimin">
<code class="descname">multimin</code><span class="sig-paren">(</span><em>minfunc</em>, <em>axisname</em>, <em>filterwidth</em>, <em>numberofmins</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.multimin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.name">
<code class="descname">name</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.name" title="Permalink to this definition">¶</a></dt>
<dd><p>args:
.name(newname) –&gt; Name the object (for storage, etc)
.name() –&gt; Return the name</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.nnls">
<code class="descname">nnls</code><span class="sig-paren">(</span><em>dimname</em>, <em>newaxis_dict</em>, <em>kernel_func</em>, <em>l=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.nnls" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform regularized non-negative least-squares “fit” on self.</p>
<p>Capable of solving for solution in 1 or 2 dimensions.</p>
<p>We seek to minimize
<span class="math notranslate nohighlight">\(Q = \| Ax - b \|_2 + \|\lambda x\|_2\)</span>
in order to obtain solution vector <span class="math notranslate nohighlight">\(x\)</span> subject to non-negativity constraint
given input matrix <span class="math notranslate nohighlight">\(A\)</span>, the kernel, and input vector <span class="math notranslate nohighlight">\(b\)</span>, the data.</p>
<p>The first term assesses agreement between the fit <span class="math notranslate nohighlight">\(Ax\)</span> and the data <span class="math notranslate nohighlight">\(b\)</span>,
and the second term accounts for noise with the regularization parameter <span class="math notranslate nohighlight">\(\lambda\)</span>
according to Tikhonov regularization.</p>
<p>To perform regularized minimization in 2 dimensions, set <cite>l</cite> to <a href="#id3"><span class="problematic" id="id4">:str:`BRD`</span></a> and provide a
tuple of parameters <a href="#id5"><span class="problematic" id="id6">:str:`dimname`</span></a>, <a href="#id7"><span class="problematic" id="id8">:nddata:`newaxis_dict`</span></a>, and <a href="#id9"><span class="problematic" id="id10">:function:`kernel_func`</span></a>.
Algorithm described in Venkataramanan et al. 2002 is performed which determines optimal <span class="math notranslate nohighlight">\(\lambda\)</span>
for the data (DOI:10.1109/78.995059).</p>
<p>See: <a class="reference external" href="https://en.wikipedia.org/wiki/Non-negative_least_squares">Wikipedia page on NNLS</a>,
<a class="reference external" href="https://en.wikipedia.org/wiki/Tikhonov_regularization">Wikipedia page on Tikhonov regularization</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dimname</strong> (<em>str</em>) – Name of the “data” dimension that is to be replaced by a
distribution (the “fit” dimension);
<em>e.g.</em> if you are regularizing a set of functions
<span class="math notranslate nohighlight">\(\exp(-\tau*R_1)\)</span>, then this is <span class="math notranslate nohighlight">\(\tau\)</span></li>
<li><strong>newaxis_dict</strong> (<em>dict</em><em> or </em><a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata"><em>nddata</em></a>) – a dictionary whose key is the name of the “fit” dimension
(<span class="math notranslate nohighlight">\(R_1\)</span> in the example above)
and whose value is an array with the new axis labels.
OR
this can be a 1D nddata
– if it has an axis, the axis will be used to create the
fit axis; if it has no axis, the data will be used</li>
<li><strong>kernel_func</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – a function giving the kernel for the regularization.
The first argument is the “data” variable
and the second argument is the “fit” variable
(in the example above, this would be something like
<code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x,y:</span> <span class="pre">exp(-x*y)</span></code>)</li>
<li><strong>l</strong> (<em>double</em><em> (</em><em>default 0</em><em>) or </em><em>str</em>) – the regularization parameter
<span class="math notranslate nohighlight">\(lambda\)</span> – if this is set to 0, the algorithm reverts to
standard nnls.
If this is set to <a href="#id11"><span class="problematic" id="id12">:str:`BRD`</span></a>, then algorithm expects tuple of each parameter
described above in order to perform a 2-dimensional fit.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The regularized result.
For future use, both the kernel (as an nddata, in a property called
“nnls_kernel”) and the residual (as an nddata, in a property called
“nnls_residual”) are stored as properties of the nddata.
The regularized dimension is always last
(innermost).
If <a href="#id13"><span class="problematic" id="id14">:str:`BRD`</span></a> is specified, then the individual, uncompressed kernels <span class="math notranslate nohighlight">\(K_{1}\)</span> and <span class="math notranslate nohighlight">\(K_{2}\)</span> are returned as properties of the nddata “K1” and “K2” respectively. The number of singular values used to compressed each kernel is returned in properties of the nddata called, respectively, “s1” and “s2”.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.normalize">
<code class="descname">normalize</code><span class="sig-paren">(</span><em>axis</em>, <em>first_figure=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.normalize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.oldtimey">
<code class="descname">oldtimey</code><span class="sig-paren">(</span><em>alpha=0.5</em>, <em>ax=None</em>, <em>linewidth=None</em>, <em>sclinewidth=20.0</em>, <em>light=True</em>, <em>rotation=None</em>, <em>invert=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.oldtimey" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.plot_labels">
<code class="descname">plot_labels</code><span class="sig-paren">(</span><em>labels</em>, <em>fmt=None</em>, <em>**kwargs_passed</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.plot_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>this only works for one axis now</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.polyfit">
<code class="descname">polyfit</code><span class="sig-paren">(</span><em>axis</em>, <em>order=1</em>, <em>force_y_intercept=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.polyfit" title="Permalink to this definition">¶</a></dt>
<dd><p>polynomial fitting routine – return the coefficients and the fit
..note:</p>
<blockquote>
<div>later, should probably branch this off as a new type of fit class</div></blockquote>
<dl class="docutils">
<dt>..warning:</dt>
<dd>for some reason, this version doesn’t use orthogonal polynomials,
as the numpy routine does – we had diagnosed and determined that
that creates noticeably different results, so fix that here.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>axis</strong> (<em>str</em>) – name of the axis that you want to fit along
(not sure if this is currently tested for multi-dimensional data,
but the idea should be that multiple fits would be returned.)</li>
<li><strong>order</strong> (<em>int</em>) – the order of the polynomial to be fit</li>
<li><strong>force_y_intercept</strong> (<em>double</em><em> or </em><em>None</em>) – force the y intercept to a particular value (e.g. 0)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>c</strong> (<em>ndarray</em>) – a standard numpy array containing the coefficients (in ascending polynomial order)</li>
<li><strong>formult</strong> (<em>nddata</em>) – an nddata containing the result of the fit</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.popdim">
<code class="descname">popdim</code><span class="sig-paren">(</span><em>dimname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.popdim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.random_mask">
<code class="descname">random_mask</code><span class="sig-paren">(</span><em>axisname</em>, <em>threshold=None</em>, <em>inversion=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.random_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a random mask with about ‘threshold’ of the points thrown out</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.nddata.real">
<code class="descname">real</code><a class="headerlink" href="#pyspecdata.core.nddata.real" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the real component of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.register_axis">
<code class="descname">register_axis</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.register_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate the data so that the given axes are in register with a set of specified values. Does not change the spacing of the axis labels.</p>
<p>It finds the axis label position that is closest to the values given in <cite>arg</cite>, then interpolates (Fourier/sinc method) the data onto a new, slightly shifted, axis that passes exactly through the value given.
To do this, it uses
<a class="reference internal" href="#pyspecdata.core.nddata.ft_clear_startpoints" title="pyspecdata.core.nddata.ft_clear_startpoints"><code class="xref py py-func docutils literal notranslate"><span class="pre">.ft_clear_startpoints()</span></code></a>
and uses
<a class="reference internal" href="#pyspecdata.core.nddata.set_ft_prop" title="pyspecdata.core.nddata.set_ft_prop"><code class="xref py py-func docutils literal notranslate"><span class="pre">.set_ft_prop()</span></code></a>
to override the “not aliased” flag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arg</strong> (<em>dict</em><em> (</em><em>key</em><em>,</em><em>value = str</em><em>,</em><em>double</em><em>)</em>) – A list of the dimensions that you want to place in register, and the values you want them registered to.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>previous</em>, <em>new</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.rename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.reorder">
<code class="descname">reorder</code><span class="sig-paren">(</span><em>*axes</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.reorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorder the dimensions
the first arguments are a list of dimensions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>*axes</strong> (<em>str</em>) – Accept any number of arguments that gives the dimensions, in the
order that you want thee.</li>
<li><strong>first</strong> (<em>bool</em>) – (default True)
Put this list of dimensions first, while False puts them last (where they then come in the order given).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.replicate_units">
<code class="descname">replicate_units</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.replicate_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.repwlabels">
<code class="descname">repwlabels</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.repwlabels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.retaxis">
<code class="descname">retaxis</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.retaxis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run a standard numpy function on the nddata:</p>
<p><code class="docutils literal notranslate"><span class="pre">d.run(func,'axisname')</span></code> will run function <cite>func</cite> (<em>e.g.</em> a
lambda function) along axis named ‘axisname’</p>
<p><code class="docutils literal notranslate"><span class="pre">d.run(func)</span></code> will run function <cite>func</cite> on the data</p>
<p><strong>in general</strong>: if the result of func reduces a dimension size to
1, the ‘axisname’ dimension will be “popped” (it will not exist in
the result) – if this is not what you want, use <code class="docutils literal notranslate"><span class="pre">run_nopop</span></code></p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.run_avg">
<code class="descname">run_avg</code><span class="sig-paren">(</span><em>thisaxisname</em>, <em>decimation=20</em>, <em>centered=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.run_avg" title="Permalink to this definition">¶</a></dt>
<dd><p>a simple running average</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.run_nopop">
<code class="descname">run_nopop</code><span class="sig-paren">(</span><em>func</em>, <em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.run_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.runcopy">
<code class="descname">runcopy</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.runcopy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.secsy_transform">
<code class="descname">secsy_transform</code><span class="sig-paren">(</span><em>direct_dim</em>, <em>indirect_dim</em>, <em>has_indirect=True</em>, <em>method='fourier'</em>, <em>truncate=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.secsy_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the time-domain data backwards by the echo time.</p>
<p>As opposed to <code class="xref py py-func docutils literal notranslate"><span class="pre">secsy_transform_manual</span></code>, this calls on on <code class="xref py py-func docutils literal notranslate"><span class="pre">skew</span></code>,
rather than directly manipulating the phase of the function, which can lead to aliasing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>has_indirect</strong> (<em>bool</em>) – <p>(This option is largely specific to data loaded by <code class="xref py py-func docutils literal notranslate"><span class="pre">acert_hdf5</span></code>)</p>
<p>Does the data actually have an indirect dimension?
If not, assume that there is a constant echo time,
that can be retrieved with <code class="docutils literal notranslate"><span class="pre">.get_prop('te')</span></code>.</p>
</li>
<li><strong>truncate</strong> (<em>bool</em>) – If this is set, <cite>register_axis &lt;pyspecdata.axis_manipulation.register_axis&gt;</cite> to <span class="math notranslate nohighlight">\(t_{direct}=0\)</span>,
and then throw out the data for which <span class="math notranslate nohighlight">\(t_{direct}&lt;0\)</span>.</li>
<li><strong>method</strong> (<em>str</em>) – The shear method (linear or fourier).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.secsy_transform_manual">
<code class="descname">secsy_transform_manual</code><span class="sig-paren">(</span><em>direct_dim</em>, <em>indirect_dim</em>, <em>has_indirect=True</em>, <em>truncate=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.secsy_transform_manual" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the time-domain data backwards by the echo time.
As opposed to <code class="xref py py-func docutils literal notranslate"><span class="pre">secsy_transform</span></code>, this directlly manipulates the phase of the function, rather than calling on <code class="xref py py-func docutils literal notranslate"><span class="pre">skew</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>has_indirect</strong> (<em>bool</em>) – <p>(This option is largely specific to data loaded by <code class="xref py py-func docutils literal notranslate"><span class="pre">acert_hdf5</span></code>)</p>
<p>Does the data actually have an indirect dimension?
If not, assume that there is a constant echo time,
that can be retrieved with <code class="docutils literal notranslate"><span class="pre">.get_prop('te')</span></code>.</p>
</li>
<li><strong>truncate</strong> (<em>bool</em>) – If this is set, <cite>register_axis &lt;pyspecdata.axis_manipulation.register_axis&gt;</cite> to <span class="math notranslate nohighlight">\(t_{direct}=0\)</span>,
and then throw out the data for which <span class="math notranslate nohighlight">\(t_{direct}&lt;0\)</span>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.set_error">
<code class="descname">set_error</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_error" title="Permalink to this definition">¶</a></dt>
<dd><p>set the errors: either</p>
<p><cite>set_error(‘axisname’,error_for_axis)</cite> or <cite>set_error(error_for_data)</cite></p>
<p><cite>error_for_data</cite> can be a scalar, in which case, <strong>all</strong> the data errors are set to <cite>error_for_data</cite></p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.set_ft_prop">
<code class="descname">set_ft_prop</code><span class="sig-paren">(</span><em>axis</em>, <em>propname=None</em>, <em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_ft_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if <cite>propname</cite> is a boolean, and <cite>value</cite> is True (the default), it’s assumed that propname is actually None, and that <cite>value</cite> is set to the <cite>propname</cite> argument (this allows us to set the <cite>FT</cite> property more easily)</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.set_plot_color">
<code class="descname">set_plot_color</code><span class="sig-paren">(</span><em>thiscolor</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_plot_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.set_prop">
<code class="descname">set_prop</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>set a ‘property’ of the nddata
This is where you can put all unstructured information (e.g. experimental parameters, etc)</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.set_to">
<code class="descname">set_to</code><span class="sig-paren">(</span><em>otherinst</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Set data inside the current instance to that of the other instance.</p>
<p>Goes through the list of attributes specified in copy,
and assigns them to the element of the current instance.</p>
<p>This is to be used:</p>
<ul class="simple">
<li>for constructing classes that inherit nddata with additional methods.</li>
<li>for overwriting the current data with the result of a slicing operation</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.set_units">
<code class="descname">set_units</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.setaxis">
<code class="descname">setaxis</code><span class="sig-paren">(</span><em>axis</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.setaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>set the value of the axis if you pass a function as the <cite>value</cite>, it will use the existing axis labels as the argument of the function, and then put the result into the axis labels</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.shear">
<code class="descname">shear</code><span class="sig-paren">(</span><em>along_axis</em>, <em>propto_axis</em>, <em>shear_amnt</em>, <em>zero_fill=True</em>, <em>start_in_conj=False</em>, <em>method='linear'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.shear" title="Permalink to this definition">¶</a></dt>
<dd><p>Shear the data <span class="math notranslate nohighlight">\(s\)</span>:</p>
<p><span class="math notranslate nohighlight">\(s(x',y,z) = s(x+ay,y,z)\)</span></p>
<p>where <span class="math notranslate nohighlight">\(x\)</span> is the <cite>altered_axis</cite> and <span class="math notranslate nohighlight">\(y\)</span> is the
<cite>propto_axis</cite>.  (Actually typically 2D, but <span class="math notranslate nohighlight">\(z\)</span> included
just to illustrate other dimensions that aren’t involved)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>method</strong> (<em>{'fourier'</em><em>,</em><em>'linear'}</em>) – <dl class="docutils">
<dt>fourier</dt>
<dd>Use the Fourier shift theorem (<em>i.e.</em>, sinc interpolation).  A
shear is equivalent to the following in the conjugate domain:<p>..math: <cite>tilde{s}(f_x,f’_y,z) = tilde{s}(f_x,f_y-af_x,f_z)</cite></p>
<p class="last">Because of this, the algorithm <strong>also</strong>
automatically <cite>extend`s the data in `f_y</cite> axis.
Equivalently, it increases the resolution
(decreases the interval between points) in the
<cite>propto_axis</cite> dimension.  This prevents aliasing
in the conjugate domain, which will corrupt the
data <em>w.r.t.</em> successive transformations. It does
this whether or not <cite>zero_fill</cite> is set
(<cite>zero_fill</cite> only controls filling in the
“current” dimension)</p>
</dd>
<dt>linear</dt>
<dd>Use simple linear interpolation.</dd>
</dl>
</li>
<li><strong>altered_axis</strong> (<em>str</em>) – The coordinate for which data is altered, <em>i.e.</em>
..math: <cite>x</cite> such that ..math: <cite>f(x+ay,y)</cite>.</li>
<li><strong>by_amount</strong> (<em>double</em>) – The amount of the shear (..math: <cite>a</cite> in the previous)</li>
<li><strong>propto_axis</strong> (<em>str</em>) – The shift along the <cite>altered_axis</cite> dimension is
proportional to the shift along <cite>propto_axis</cite>.
The position of data relative to the <cite>propto_axis</cite> is not
changed.
Note that by the shift theorem, in the frequency domain,
an equivalent magnitude, opposite sign, shear is applied
with the <cite>propto_axis</cite> and <cite>altered_axis</cite> dimensions
flipped.</li>
<li><strong>start_in_conj</strong> (<em>{False</em><em>, </em><em>True}</em><em>, </em><em>optional</em>) – <p>Defaults to False</p>
<p>For efficiency, one can replace a double (I)FT call followed by a
shear call with a single shear call where <cite>start_in_conj</cite> is set.</p>
<p><cite>self</cite> before the call is given in the conjugate domain  (<em>i.e.</em>,
<span class="math notranslate nohighlight">\(f\)</span> <em>vs.</em> <span class="math notranslate nohighlight">\(t\)</span>) along both dimensions from the one that’s
desired.  This means: (1) <cite>self</cite> after the function call transformed
into the conjugate domain from that before the call and (2)
<cite>by_amount</cite>, <cite>altered_axis</cite>, and <cite>propto_axis</cite> all refer to the shear
in the conjugate domain that the data is in at the end of the
function call.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.smoosh">
<code class="descname">smoosh</code><span class="sig-paren">(</span><em>dimstocollapse</em>, <em>dimname=0</em>, <em>noaxis=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.smoosh" title="Permalink to this definition">¶</a></dt>
<dd><p>Collapse (smoosh) multiple dimensions into one dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dimstocollapse</strong> (<em>list of strings</em>) – the dimensions you want to collapse to one result dimension</li>
<li><strong>dimname</strong> (<em>None</em><em>, </em><em>string</em><em>, </em><em>integer</em><em> (</em><em>default 0</em><em>)</em>) – <p>if dimname is:</p>
<ul>
<li>None: create a new (direct product) name,</li>
<li>a number: an index to the <code class="docutils literal notranslate"><span class="pre">dimstocollapse</span></code> list.  The resulting smooshed dimension will be named <code class="docutils literal notranslate"><span class="pre">dimstocollapse[dimname]</span></code>. Because the default is the number 0, the new dimname will be the first dimname given in the list.</li>
<li>a string: the name of the resulting smooshed dimension (can be part of the <code class="docutils literal notranslate"><span class="pre">dimstocollapse</span></code> list or not)</li>
</ul>
</li>
<li><strong>noaxis</strong> (<em>bool</em>) – if set, then just skip calculating the axis for the new dimension,
which otherwise is typically a complicated record array</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>self</strong> (<em>nddata</em>) – the dimensions <cite>dimstocollapse</cite> are smooshed into a single dimension,
whose name is determined by <cite>dimname</cite>.
The axis for the resulting, smooshed dimension is a structured
array consisting of two fields that give the labels along the
original axes.</li>
<li><em>..todo::</em> – when we transition to axes that are stored using a
slice/linspace-like format,
allow for smooshing to determine a new axes that is standard
(not a structured array) and that increases linearly.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.sort">
<code class="descname">sort</code><span class="sig-paren">(</span><em>axisname</em>, <em>reverse=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.sort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.sort_and_xy">
<code class="descname">sort_and_xy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.sort_and_xy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.squeeze">
<code class="descname">squeeze</code><span class="sig-paren">(</span><em>return_dropped=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.squeeze" title="Permalink to this definition">¶</a></dt>
<dd><p>squeeze singleton dimensions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_dropped</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – return a list of the dimensions that were dropped as a second argument</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><em>self</em></li>
<li><strong>return_dropped</strong> (<em>list</em>) – (optional, only if return_dropped is True)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><em>axes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.sum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.sum_nopop">
<code class="descname">sum_nopop</code><span class="sig-paren">(</span><em>axes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.sum_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.to_ppm">
<code class="descname">to_ppm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.to_ppm" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that converts from Hz to ppm using Bruker parameters</p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p>Figure out what the units of PHC1 in Topspin are (degrees per <em>what??</em>), and apply those as well.</p>
<p class="last">make this part of an inherited bruker class</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.unitify_axis">
<code class="descname">unitify_axis</code><span class="sig-paren">(</span><em>axis_name</em>, <em>is_axis=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.unitify_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>this just generates an axis label with appropriate units</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.units_texsafe">
<code class="descname">units_texsafe</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.units_texsafe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.unset_prop">
<code class="descname">unset_prop</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.unset_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a ‘property’</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.nddata.want_to_prospa_decim_correct">
<code class="descname">want_to_prospa_decim_correct</code><em class="property"> = False</em><a class="headerlink" href="#pyspecdata.core.nddata.want_to_prospa_decim_correct" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.waterfall">
<code class="descname">waterfall</code><span class="sig-paren">(</span><em>alpha=0.3</em>, <em>ax=None</em>, <em>rotation=None</em>, <em>color='b'</em>, <em>edgecolor='k'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.waterfall" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.core.nddata_hdf5">
<em class="property">class </em><code class="descclassname">pyspecdata.core.</code><code class="descname">nddata_hdf5</code><span class="sig-paren">(</span><em>pathstring</em>, <em>directory='.'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.ndgrid">
<code class="descclassname">pyspecdata.core.</code><code class="descname">ndgrid</code><span class="sig-paren">(</span><em>*input</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.ndgrid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.core.ndshape">
<em class="property">class </em><code class="descclassname">pyspecdata.core.</code><code class="descname">ndshape</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.ndshape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyspecdata.ndshape.ndshape_base" title="pyspecdata.ndshape.ndshape_base"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.ndshape.ndshape_base</span></code></a></p>
<p>The ndshape class, including the allocation method</p>
<dl class="method">
<dt id="pyspecdata.core.ndshape.alloc">
<code class="descname">alloc</code><span class="sig-paren">(</span><em>dtype='complex128'</em>, <em>labels=False</em>, <em>format=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.ndshape.alloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the shape object to allocate an empty nddata object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> – Needs documentation</li>
<li><strong>format</strong> (<em>0</em><em>, </em><em>1</em><em>, or </em><em>None</em>) – What goes in the allocated array.
<cite>None</cite> uses numpy empty.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.newcol_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">newcol_rec</code><span class="sig-paren">(</span><em>A</em>, <em>new_dtypes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.newcol_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>add new, empty (i.e. random numbers) fields to A, as given by new_dtypes
–&gt; note that there are deeply nested numpy functions to do this, but the options are confusing, and I think the way these work is efficient</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.nextfigure">
<code class="descclassname">pyspecdata.core.</code><code class="descname">nextfigure</code><span class="sig-paren">(</span><em>figurelist</em>, <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nextfigure" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – now use class</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.normal_attrs">
<code class="descclassname">pyspecdata.core.</code><code class="descname">normal_attrs</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.normal_attrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.obs">
<code class="descclassname">pyspecdata.core.</code><code class="descname">obs</code><span class="sig-paren">(</span><em>*x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.obs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.obsn">
<code class="descclassname">pyspecdata.core.</code><code class="descname">obsn</code><span class="sig-paren">(</span><em>*x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.obsn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.othergridandtick">
<code class="descclassname">pyspecdata.core.</code><code class="descname">othergridandtick</code><span class="sig-paren">(</span><em>ax</em>, <em>rotation=(0</em>, <em>0)</em>, <em>precision=(2</em>, <em>2)</em>, <em>labelstring=(''</em>, <em>'')</em>, <em>gridcolor=None</em>, <em>y=True</em>, <em>x=True</em>, <em>spines=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.othergridandtick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.pinvr">
<code class="descclassname">pyspecdata.core.</code><code class="descname">pinvr</code><span class="sig-paren">(</span><em>C</em>, <em>alpha</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.pinvr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.plot">
<code class="descclassname">pyspecdata.core.</code><code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>The base plotting function that wraps around matplotlib to do a couple convenient things.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>label_format_string</strong> (<em>str</em>) – If supplied, it formats the values of the other dimension to turn them into a label string.</li>
<li><strong>human_units</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.plot_color_counter">
<code class="descclassname">pyspecdata.core.</code><code class="descname">plot_color_counter</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.plot_color_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Try not to use this function any more – the version-to-version support for capturing and setting color cycles in matplotlib is very very bad.  (And, the cycler object in newer versions of matplolib is confusing.) So, just import <cite>cycle</cite> from <cite>itertools</cite>, and use it to build a cycle that you directly call to set your properties.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>previous description:</p>
<p>if passed an argument: make it so that the next line will have the properties given by the argument</p>
<p class="last">if not passed an argument: just return the current plot properties,so that I can cycle back to it</p>
</div>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.plot_label_points">
<code class="descclassname">pyspecdata.core.</code><code class="descname">plot_label_points</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>labels</em>, <em>**kwargs_passed</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.plot_label_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.plot_updown">
<code class="descclassname">pyspecdata.core.</code><code class="descname">plot_updown</code><span class="sig-paren">(</span><em>data</em>, <em>axis</em>, <em>color1</em>, <em>color2</em>, <em>symbol=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.plot_updown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.reorder_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">reorder_rec</code><span class="sig-paren">(</span><em>myarray</em>, <em>listofnames</em>, <em>first=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.reorder_rec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.sech">
<code class="descclassname">pyspecdata.core.</code><code class="descname">sech</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.sech" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.showtype">
<code class="descclassname">pyspecdata.core.</code><code class="descname">showtype</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.showtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.spectrogram">
<code class="descclassname">pyspecdata.core.</code><code class="descname">spectrogram</code><span class="sig-paren">(</span><em>waveform</em>, <em>f_start</em>, <em>f_stop</em>, <em>npoints_fdom=40</em>, <em>tdom_div=2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.spectrogram" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.sqrt">
<code class="descclassname">pyspecdata.core.</code><code class="descname">sqrt</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.sqrt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.core.subplot_dim">
<em class="property">class </em><code class="descclassname">pyspecdata.core.</code><code class="descname">subplot_dim</code><span class="sig-paren">(</span><em>firstdim</em>, <em>seconddim</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.subplot_dim" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="pyspecdata.core.subplot_dim.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>args</em>, <em>x=''</em>, <em>g=True</em>, <em>y=''</em>, <em>t=''</em>, <em>a=''</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.subplot_dim.set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.core.testclass">
<em class="property">class </em><code class="descclassname">pyspecdata.core.</code><code class="descname">testclass</code><a class="headerlink" href="#pyspecdata.core.testclass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.text_on_plot">
<code class="descclassname">pyspecdata.core.</code><code class="descname">text_on_plot</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>thistext</em>, <em>coord='axes'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.text_on_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.textlabel_bargraph">
<code class="descclassname">pyspecdata.core.</code><code class="descname">textlabel_bargraph</code><span class="sig-paren">(</span><em>mystructarray</em>, <em>othersort=None</em>, <em>spacing=0.1</em>, <em>verbose=False</em>, <em>ax=None</em>, <em>tickfontsize=8</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.textlabel_bargraph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.unmake_ndarray">
<code class="descclassname">pyspecdata.core.</code><code class="descname">unmake_ndarray</code><span class="sig-paren">(</span><em>array_to_conv</em>, <em>name_forprint='unknown'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.unmake_ndarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert this item to an ndarray</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.whereblocks">
<code class="descclassname">pyspecdata.core.</code><code class="descname">whereblocks</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.whereblocks" title="Permalink to this definition">¶</a></dt>
<dd><p>returns contiguous chunks where the condition is true
but, see the “contiguous” method, which is more OO</p>
</dd></dl>

</div>
<div class="section" id="module-pyspecdata.datadir">
<span id="pyspecdata-datadir-module"></span><h2>pyspecdata.datadir module<a class="headerlink" href="#module-pyspecdata.datadir" title="Permalink to this headline">¶</a></h2>
<p>Allows the user to run the same code on different machines,
even though the location of the raw spectral data might change.</p>
<p>This is controlled by the <code class="docutils literal notranslate"><span class="pre">~/.pyspecdata</span></code> or <code class="docutils literal notranslate"><span class="pre">~/_pyspecdata</span></code> config file.</p>
<dl class="class">
<dt id="pyspecdata.datadir.MyConfig">
<em class="property">class </em><code class="descclassname">pyspecdata.datadir.</code><code class="descname">MyConfig</code><a class="headerlink" href="#pyspecdata.datadir.MyConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Provides an easy interface to the pyspecdata configuration file.
Only one instance _my_config should be created – this instance is used by
the other functions in this module.</p>
<dl class="attribute">
<dt id="pyspecdata.datadir.MyConfig.config_vars">
<code class="descname">config_vars</code><em class="property"> = None</em><a class="headerlink" href="#pyspecdata.datadir.MyConfig.config_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>The dictionary that stores the current settings – keep these in a dictionary, which should be faster than reading from environ, or from a file.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.datadir.MyConfig.get_setting">
<code class="descname">get_setting</code><span class="sig-paren">(</span><em>this_key</em>, <em>environ=None</em>, <em>default=None</em>, <em>section='General'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.MyConfig.get_setting" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a settings from the “General” group.
If the file does not exist, or the option is not set, then set the option, creating the file as needed.
The option is determined in the following order:</p>
<blockquote>
<div><ul class="simple">
<li>The value in the <cite>config_vars</cite> dictionary.</li>
<li>The value of the environment variable named <cite>environ</cite>.</li>
<li>The value stored in the configuration file at <code class="docutils literal notranslate"><span class="pre">~/.pyspecdata</span></code> (<code class="docutils literal notranslate"><span class="pre">~/_pyspecdata</span></code> on Windows).</li>
<li>The value given by the <cite>default</cite> argument.  If <cite>default</cite> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, then return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>this_key</strong> (<em>str</em>) – The name of the settings that we want to retrieve.</li>
<li><strong>environ</strong> (<em>str</em>) – If the value corresponding to <cite>this_key</cite> is not present in the
<cite>self.config_vars</cite> dictionary, look for an environment variable
called <cite>environ</cite> that stores the value of <cite>this_key</cite>.  If this is
not set, it’s set from the config file or the default argument.</li>
<li><strong>default</strong> (<em>str</em>) – <p>If the value for <cite>this_key</cite> is not in
<cite>self.config_vars</cite>, not in the environment variable
called <cite>environ</cite>, and not in the config file, set it
to this value, and ask for user response to confirm.
Then, set the config file value, the environment, and the
<cite>self.config_vars</cite> value to the result.</p>
<p>For platform compatibility, leading period characters are converted
to <cite>self.hide_start</cite>, and ‘/’ are converted to <cite>os.path.sep</cite>.</p>
</li>
<li><strong>section</strong> (<em>str</em>) – Look in this section of the config file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">The value corresponding to <cite>this_key</cite>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.datadir.MyConfig.hide_start">
<code class="descname">hide_start</code><em class="property"> = None</em><a class="headerlink" href="#pyspecdata.datadir.MyConfig.hide_start" title="Permalink to this definition">¶</a></dt>
<dd><p>This filename prefix denotes a configuration file on the OS.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.datadir.MyConfig.set_setting">
<code class="descname">set_setting</code><span class="sig-paren">(</span><em>this_section</em>, <em>this_key</em>, <em>this_value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.MyConfig.set_setting" title="Permalink to this definition">¶</a></dt>
<dd><p>set <cite>this_key</cite> to <cite>this_value</cite> inside section <cite>this_section</cite>, creating it if necessary</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.datadir.dirformat">
<code class="descclassname">pyspecdata.datadir.</code><code class="descname">dirformat</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.dirformat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.datadir.getDATADIR">
<code class="descclassname">pyspecdata.datadir.</code><code class="descname">getDATADIR</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.getDATADIR" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the base directory where you put all your data.  If arguments
are passed, it returns the directory underneath the data directory, ending
in a trailing (back)slash</p>
<p>It is determined by a call to <cite>MyConfig.get_setting</cite> with the setting name
<cite>data_directory</cite> and the environment variable set to <code class="docutils literal notranslate"><span class="pre">PYTHON_DATA_DIR</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>exp_type</strong> (<em>str</em>) – <p>A string identifying the experiment type.
It searches for <cite>exp_type</cite> in this order:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>Look in the <code class="docutils literal notranslate"><span class="pre">ExpTypes</span></code> section of the config file.</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Note that by using this, you can store data in locations other</dt>
<dd>than your main data directory.
For example, consider the following section of the
<code class="docutils literal notranslate"><span class="pre">~/.pyspecdata</span></code> config file:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">[ExpTypes]</span>
<span class="pre">alternate_base</span> <span class="pre">=</span> <span class="pre">/opt/other_data</span>
<span class="pre">alternate_type_one</span> <span class="pre">=</span> <span class="pre">%(alternate_base)s/type_one</span>
<span class="pre">`</span></code>
which would find data with <cite>exp_type</cite> <code class="docutils literal notranslate"><span class="pre">alternate_type_one</span></code> in
<code class="docutils literal notranslate"><span class="pre">/opt/other_data/type_one</span></code>.</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>use <cite>os.walk</cite> to search for a directory with this name</dt>
<dd>inside the directory identified by <cite>experimental_data</cite>.
excluding things that start with ‘.’, ‘_’ or
containing ‘.hfssresults’, always choosing the
thing that’s highest up in the tree.
If it doesn’t find a directory inside <cite>experimental_data</cite>, it will
search inside all the directories already listed in <cite>ExpTypes</cite>.
Currently, in both attempts, it will only walk 2 levels deep (since NMR directories
can be rather complex, and otherwise it would take forever).</dd>
</dl>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.datadir.get_notebook_dir">
<code class="descclassname">pyspecdata.datadir.</code><code class="descname">get_notebook_dir</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.get_notebook_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the notebook directory.  If arguments are passed, it returns the directory underneath the notebook directory, ending in a trailing (back)slash</p>
<p>It is determined by a call to <cite>MyConfig.get_setting</cite> with the environment variable set to <code class="docutils literal notranslate"><span class="pre">PYTHON_NOTEBOOK_DIR</span></code> and default <code class="docutils literal notranslate"><span class="pre">~/notebook</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.datadir.grab_data_directory">
<code class="descclassname">pyspecdata.datadir.</code><code class="descname">grab_data_directory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.grab_data_directory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-pyspecdata.figlist">
<span id="pyspecdata-figlist-module"></span><h2>pyspecdata.figlist module<a class="headerlink" href="#module-pyspecdata.figlist" title="Permalink to this headline">¶</a></h2>
<p>Contains the figure list class</p>
<p>The figure list gives us three things:</p>
<ul>
<li><p class="first">Automatically handle the display and scaling of nddata units.</p>
</li>
<li><p class="first">Refer to plots by name, rather than number (matplotlib has a mechanism for this, which we ignore)</p>
</li>
<li><p class="first">A “basename” allowing us to generate multiple sets of plots for different datasets – <em>e.g.</em> 5 plots with 5 names plotted for 3 different datasets and labeled by 3 different basenames to give 15 plots total</p>
</li>
<li><p class="first">Ability to run the same code from the command line or from within a python environment inside latex.
*   this is achieved by choosing figlist (default gui) and figlistl (inherits</p>
<blockquote>
<div><p>from figlist – renders to latex – the <a class="reference internal" href="#pyspecdata.figlist.figlist.show" title="pyspecdata.figlist.figlist.show"><code class="xref py py-func docutils literal notranslate"><span class="pre">figlist.show()</span></code></a> method is
changed)</p>
</div></blockquote>
<ul class="simple">
<li>potential planned future ability to handle html</li>
</ul>
</li>
<li><p class="first">Ability to handle mayavi plots and matplotlib plots (switch to glumpy, etc.?)
*   potential planned future ability to handle gnuplot</p>
</li>
</ul>
<div class="admonition-todo admonition" id="index-2">
<p class="first admonition-title">Todo</p>
<p>Currently the “items” that the list tracks correspond to either plot formatting directives (see <a class="reference internal" href="#pyspecdata.figlist.figlist.setprops" title="pyspecdata.figlist.figlist.setprops"><code class="xref py py-func docutils literal notranslate"><span class="pre">figlist.setprops()</span></code></a>), text, or figures.</p>
<p>We should scrap most elements of the current implementation of figlist and rebuild it</p>
<ul class="last">
<li><p class="first">currently the figlist is set up to use a context block.  We will not only keep this, but also make it so the individual axes.  Syntax (following a <code class="docutils literal notranslate"><span class="pre">fl</span> <span class="pre">=</span> <span class="pre">figlist_var()</span></code> should look like this: <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">fl['my</span> <span class="pre">plot</span> <span class="pre">name']</span> <span class="pre">as</span> <span class="pre">p:</span></code> and contents of the block would then be <code class="docutils literal notranslate"><span class="pre">p.plot(...)</span></code>, <em>etc.</em></p>
</li>
<li><p class="first">define an “organization” function of the figlist block.  This allows us
to use standard matplotlib commands to set up and organize the axes, using
standard matplotlib commands (twinx, subplot, etc.)</p>
</li>
<li><p class="first">figlist will still have a “next” function, but its purpose will be to simply:
*   grab the current axis using matplotlib gca() (assuming the id of the axis isn’t yet assigned to an existing figlist_axis – see below)
*   otherwise, if the name argument to “next” has not yet been called,</p>
<blockquote>
<div><p>call matplotlib’s figure(), followed by subplot(111), then do the
previous bullet point</p>
</div></blockquote>
<ul class="simple">
<li>the next function is only intended to be called explicitly from within the organization function</li>
</ul>
</li>
<li><p class="first">figlist will consist simply of a list of figlist_axis objects (a new object type), which have the following attributes:
*   type – indicating the type of object:</p>
<blockquote>
<div><ul class="simple">
<li>axis (default)</li>
<li>text (raw latex (or html))</li>
<li>H1 (first level header – translates to latex section)</li>
<li>H2 (second level…)</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first">the name of the plot</p>
</li>
<li><p class="first">a matplotlib or mayavi axes object</p>
</li>
<li><p class="first">the units associated with the axes</p>
</li>
<li><p class="first">a collection.OrderedDict giving the nddata that are associated with the plot, by name.
*   If these do not have a name, they will be automatically assigned a name.
*   The name should be used by the new “plot” method to generate</p>
<blockquote>
<div><p>the “label” for the legend, and can be subsequently used to quickly
replace data – e.g. in a Qt application.</p>
</div></blockquote>
</li>
<li><p class="first">a dictionary giving any arguments to the pyspecdata.core.plot (or countour, waterfall, etc) function</p>
</li>
<li><p class="first">the title – by default the name of the plot – can be a setter</p>
</li>
<li><p class="first">the result of the id(…) function, called on the axes object –&gt;
this can be used to determine if the axes has been used yet</p>
</li>
<li><p class="first">do not use check_units – the plot method (or contour, waterfall,
etc.) will only add the nddata objects to the OrderedDict, add the
arguments to the argument dictionary, then exit
*   In the event that more than one plot method is called, the name of the underlying nddaata should be changed</p>
</li>
<li><p class="first">a boolean legend_suppress attribute</p>
</li>
<li><p class="first">a boolean legend_internal attribute (to place the legend internally, rather than outside the axis)</p>
</li>
<li><p class="first">a show method that is called by the figlistl show method.  This
will determine the appropriate units and use them to determine the
units and scale of the axes, and then go through and call
pyspecdata.core.plot on each dataset
(in matplotlib, this should be done with a formatting statement rather than by manipulating the axes themselves)
and finally call autolegend, unless the legend is supressed</p>
</li>
</ul>
</li>
<li><p class="first">The “plottype” (currently an argument to the plot function) should be an attribute of the axis object</p>
</li>
</ul>
</div>
<dl class="class">
<dt id="pyspecdata.figlist.figlist">
<em class="property">class </em><code class="descclassname">pyspecdata.figlist.</code><code class="descname">figlist</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.basename">
<code class="descname">basename</code><a class="headerlink" href="#pyspecdata.figlist.figlist.basename" title="Permalink to this definition">¶</a></dt>
<dd><p>A basename that can be changed to generate different sets of figures with different basenames.
For example, this is useful if you are looping over different sets of data,
and generating the same set of figures for each set of data (which would correspond to a basename).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.figurelist">
<code class="descname">figurelist</code><a class="headerlink" href="#pyspecdata.figlist.figlist.figurelist" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the figure names</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.figdict">
<code class="descname">figdict</code><a class="headerlink" href="#pyspecdata.figlist.figlist.figdict" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary containing the figurelist and the figure numbers or objects that they correspond to.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.propdict">
<code class="descname">propdict</code><a class="headerlink" href="#pyspecdata.figlist.figlist.propdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Maintains various properties for each element in figurelist.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.adjust_spines">
<code class="descname">adjust_spines</code><span class="sig-paren">(</span><em>spines</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.adjust_spines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.check_units">
<code class="descname">check_units</code><span class="sig-paren">(</span><em>testdata</em>, <em>x_index</em>, <em>y_index</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.check_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.generate_ticks">
<code class="descname">generate_ticks</code><span class="sig-paren">(</span><em>plotdata</em>, <em>axes</em>, <em>rescale</em>, <em>z_norm=None</em>, <em>y_rescale=1</em>, <em>text_scale=0.05</em>, <em>verbose=False</em>, <em>follow_surface=False</em>, <em>lensoffset=0.005</em>, <em>line_width=0.001</em>, <em>tube_radius=0.001</em>, <em>fine_grid=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.generate_ticks" title="Permalink to this definition">¶</a></dt>
<dd><p>generate 3d ticks and grid for mayavi</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.get_fig_number">
<code class="descname">get_fig_number</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.get_fig_number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.grid">
<code class="descname">grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.grid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.header">
<code class="descname">header</code><span class="sig-paren">(</span><em>number_above</em>, <em>input_string</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.image">
<code class="descname">image</code><span class="sig-paren">(</span><em>A</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Called as <cite>fl.image()</cite> where <cite>fl</cite> is the <cite>figlist_var</cite>
object</p>
<p>Note that this code just wraps the figlist properties, and
the heavy lifting is done by the <cite>image(</cite> function.
Together, the effect is as follows:</p>
<ul>
<li><p class="first"><cite>check_units</cite> converts to human-readable units, and
makes sure they match the units already used in the plot.</p>
</li>
<li><p class="first">if <cite>A</cite> has more than two dimensions, the final dimension in
<cite>A.dimlabels</cite> is used as the column dimension, and a
direct-product of all non-column dimensions (a Kronecker
product, such that the innermost index comes the latest in
the list <cite>A.dimlabels</cite>) is used as the row dimension. A
white/black line is drawn after the innermost index used to
create the direct product is finished iterating.</p>
</li>
<li><p class="first">If <cite>A</cite> consists of complex data, then an HSV plot
(misnomer, actually an HV plot) is used:
- convert to polar form: <span class="math notranslate nohighlight">\(z=\rho \exp(i \phi)\)</span>
- <span class="math notranslate nohighlight">\(\phi\)</span> determines the color (Hue)</p>
<blockquote>
<div><ul class="simple">
<li>Color wheel is cyclical, like <span class="math notranslate nohighlight">\(\exp(i \phi)\)</span></li>
<li>red is taken as <span class="math notranslate nohighlight">\(\phi=0\)</span>, purely real and positive</li>
<li>green-blue is <span class="math notranslate nohighlight">\(pi\)</span> radians out of phase with red and
therefore negative real</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first"><span class="math notranslate nohighlight">\(\rho\)</span> determines the intensity (value)
- Depending on whether or not <cite>black</cite> is set (either as a</p>
<blockquote>
<div><p>keyword argument, or <cite>fl.black</cite>, the background will be
black with high <span class="math notranslate nohighlight">\(\rho\)</span> values “lit up” (intended for
screen plotting) or the background will be white with
the high <span class="math notranslate nohighlight">\(\rho\)</span> values “colored in” (intended for
printing)</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p class="first">If the data type (<cite>dtype</cite>) of the data in <cite>A</cite> is real
(typically achieved by calling <cite>abs(A)</cite> or
<cite>A.runcopy(real)</cite>), then <cite>A</cite> is plotted with a colormap and
corresponding colorbar.</p>
</li>
<li><p class="first">If no title has been given, it’s set to the name of the
current plot in the figurelist</p>
</li>
</ul>
<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.A">
<code class="descname">A</code><a class="headerlink" href="#pyspecdata.figlist.figlist.A" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata">nddata</a> or numpy array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.x">
<code class="descname">x</code><a class="headerlink" href="#pyspecdata.figlist.figlist.x" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the x axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Optional[double] or Optional[scalar]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.y">
<code class="descname">y</code><a class="headerlink" href="#pyspecdata.figlist.figlist.y" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the y axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Optional[double] or Optional[scalar]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.x_first">
<code class="descname">x_first</code><a class="headerlink" href="#pyspecdata.figlist.figlist.x_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Since it’s designed to represent matrices, an image plot
by defaults is “transposed” relative to all other plots.
If you want the first dimension on the x-axis (<em>e.g.</em>, if
you are plotting a contour plot on top of an image), then set
<cite>x_first</cite> to <cite>True</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.spacing">
<code class="descname">spacing</code><a class="headerlink" href="#pyspecdata.figlist.figlist.spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the size of the white/black line drawn
Defaults to 1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.ax">
<code class="descname">ax</code><a class="headerlink" href="#pyspecdata.figlist.figlist.ax" title="Permalink to this definition">¶</a></dt>
<dd><p>the Axis object where the plot should go.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">matplotlib Axes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">all remaning</code></dt>
<dd><p>are passed through to matplotlib <cite>imshow</cite></p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.origin">
<code class="descname">origin</code><a class="headerlink" href="#pyspecdata.figlist.figlist.origin" title="Permalink to this definition">¶</a></dt>
<dd><p>upper and lower are passed to matplotlib.
Flip is for 2D nmr, and flips the data manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">{‘upper’, ‘lower’, ‘flip’}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">.. code-block:: python</code></dt>
<dd><p>from pyspecdata import *
fl = figlist_var()</p>
<p>t = r_[-1:1:300j]
x = nddata(t,[-1],[‘x’]).labels(‘x’,t)
y = nddata(t,[-1],[‘y’]).labels(‘y’,t)</p>
<p>z = x**2 + 2*y**2
print “dimlabels of z:”,z.dimlabels</p>
<p>fl.next(‘image with contours’)
fl.image(z,x_first = True) #  x_first is needed to align
#                             with the contour plot
z.contour(colors = ‘w’,alpha = 0.75)</p>
<p>fl.next(‘simple plot’) #  just to show that x is the same
#                         here as well
fl.plot(z[‘y’:(0,0.01)])</p>
<p>fl.show(‘compare_image_contour_150911.pdf’)</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.label_point">
<code class="descname">label_point</code><span class="sig-paren">(</span><em>data</em>, <em>axis</em>, <em>value</em>, <em>thislabel</em>, <em>show_point=True</em>, <em>xscale=1</em>, <em>**new_kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.label_point" title="Permalink to this definition">¶</a></dt>
<dd><p>only works for 1D data: assume you’ve passed a single-point nddata, and label it</p>
<p>xscale gives the unit scaling</p>
<p>..todo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Improve</span> <span class="n">the</span> <span class="n">unit</span> <span class="n">scaling</span><span class="p">,</span> <span class="n">so</span> <span class="n">that</span> <span class="n">this</span> <span class="n">would</span> <span class="n">also</span> <span class="n">work</span><span class="o">.</span>

<span class="n">Allow</span> <span class="n">it</span> <span class="n">to</span> <span class="n">include</span> <span class="n">a</span> <span class="nb">format</span> <span class="n">string</span> <span class="n">that</span> <span class="n">would</span> <span class="n">use</span> <span class="n">the</span> <span class="n">value</span><span class="o">.</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>show_point</strong> (<em>bool</em>) – Defaults to <cite>True</cite>. Actually generate a point (circle), <em>vs.</em>
just the label.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.marked_text">
<code class="descname">marked_text</code><span class="sig-paren">(</span><em>marker</em>, <em>input_text=''</em>, <em>sep='\n'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.marked_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a named <cite>marker</cite> where we can place text.   If <cite>marker</cite>
has been used, goes back and places text there.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.mesh">
<code class="descname">mesh</code><span class="sig-paren">(</span><em>plotdata</em>, <em>Z_normalization=None</em>, <em>equal_scale=True</em>, <em>lensoffset=0.001</em>, <em>show_contours=False</em>, <em>grey_surf=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.mesh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.next">
<code class="descname">next</code><span class="sig-paren">(</span><em>input_name</em>, <em>legend=False</em>, <em>boundaries=None</em>, <em>twinx=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to the figure given by input_name, which is used not only as
a string-based name for the figure, but also as a default title and as
a base name for resulting figure files.</p>
<p><strong>In the future, we actually want this to track the appropriate axis object!</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>legend</strong> (<em>bool</em>) – If this is set, a legend is created <em>outside</em> the figure.</li>
<li><strong>twinx</strong> (<em>{0</em><em>,</em><em>1}</em>) – <table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">1:</th><td class="field-body">plots on an overlayed axis (the matplotlib twinx) whose y axis
is labeled on the right when you set this for the first time, you
can also set a <cite>color</cite> kwarg that controls the coloring of the
right axis.</td>
</tr>
<tr class="field-even field"><th class="field-name">0:</th><td class="field-body">used to switch back to the left (default) axis</td>
</tr>
</tbody>
</table>
</li>
<li><strong>boundaries</strong> – <strong>need to add description</strong></li>
<li><strong>kwargs</strong> (<em>dict</em>) – Any other keyword arguments are passed to the matplotlib (mayavi)
figure() function that’s used to switch (create) figures.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.phaseplot_finalize">
<code class="descname">phaseplot_finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.phaseplot_finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs plot decorations that are typically desired for a manual phasing plot.  This assumes that the <code class="docutils literal notranslate"><span class="pre">y</span></code>-axis is given in units of half-cycles ($pi$ radians).</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.plot" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>linestyle</strong> (<em>{':'</em><em>,</em><em>'--'</em><em>,</em><em>'.'</em><em>,</em><em>'etc.'}</em>) – the style of the line</li>
<li><strong>plottype</strong> (<em>{'semilogy'</em><em>,</em><em>'semilogx'</em><em>,</em><em>'loglog'}</em>) – Select a logarithmic plotting style.</li>
<li><strong>nosemilog</strong> (<em>True</em>) – Typically, if you supply a log-spaced axis,
a semilogx plot will be automatically selected.
This overrides that behavior.
Defaults to False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.pop_marker">
<code class="descname">pop_marker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.pop_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.push_marker">
<code class="descname">push_marker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.push_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.setprops">
<code class="descname">setprops</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.setprops" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.show_prep">
<code class="descname">show_prep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.show_prep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.text">
<code class="descname">text</code><span class="sig-paren">(</span><em>mytext</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.twinx">
<code class="descname">twinx</code><span class="sig-paren">(</span><em>autopad=False</em>, <em>orig=False</em>, <em>color=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.twinx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.use_autolegend">
<code class="descname">use_autolegend</code><span class="sig-paren">(</span><em>value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.use_autolegend" title="Permalink to this definition">¶</a></dt>
<dd><p>No argument sets to true if it’s not already set</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyspecdata.fornotebook">
<span id="pyspecdata-fornotebook-module"></span><h2>pyspecdata.fornotebook module<a class="headerlink" href="#module-pyspecdata.fornotebook" title="Permalink to this headline">¶</a></h2>
<p>This provides <a class="reference internal" href="#pyspecdata.fornotebook.figlistl" title="pyspecdata.fornotebook.figlistl"><code class="xref py py-class docutils literal notranslate"><span class="pre">figlistl</span></code></a>, the Latex figure list.
Any other functions here are helper functions for the class.
<a class="reference internal" href="#pyspecdata.fornotebook.figlist" title="pyspecdata.fornotebook.figlist"><code class="xref py py-class docutils literal notranslate"><span class="pre">figlist</span></code></a> is generally <strong>not chosen manually</strong>,
but <code class="docutils literal notranslate"><span class="pre">figlist_var</span></code> will be assigned to <a class="reference internal" href="#pyspecdata.fornotebook.figlistl" title="pyspecdata.fornotebook.figlistl"><code class="xref py py-class docutils literal notranslate"><span class="pre">figlistl</span></code></a> when
python code is embedded in a python environment inside latex.</p>
<dl class="function">
<dt id="pyspecdata.fornotebook.calcdistance">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">calcdistance</code><span class="sig-paren">(</span><em>freq</em>, <em>optdistance</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.calcdistance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.calcfield">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">calcfield</code><span class="sig-paren">(</span><em>elfreq</em>, <em>elratio=28.113</em>, <em>nmrelratio=1.5167</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.calcfield" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.calcfielddata">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">calcfielddata</code><span class="sig-paren">(</span><em>freq</em>, <em>substance</em>, <em>spec=''</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.calcfielddata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.clear_local">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">clear_local</code><span class="sig-paren">(</span><em>inputdata=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.clear_local" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.cpmgs">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">cpmgs</code><span class="sig-paren">(</span><em>exp</em>, <em>number</em>, <em>tau=None</em>, <em>alpha=None</em>, <em>alphaselect=None</em>, <em>first=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.cpmgs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.cpmgseries">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">cpmgseries</code><span class="sig-paren">(</span><em>filename</em>, <em>plotlabel</em>, <em>tau=None</em>, <em>alpha=None</em>, <em>alphaselect=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.cpmgseries" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.dict_to_txt">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">dict_to_txt</code><span class="sig-paren">(</span><em>mydict</em>, <em>file='data.txt'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.dict_to_txt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.dprint">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">dprint</code><span class="sig-paren">(</span><em>*stuff</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.dprint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.ernstangle">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">ernstangle</code><span class="sig-paren">(</span><em>pulsetime=None</em>, <em>pulsetip=None</em>, <em>Tr=None</em>, <em>T1=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.ernstangle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.esr_saturation">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">esr_saturation</code><span class="sig-paren">(</span><em>file</em>, <em>powerseries</em>, <em>smoothing=0.2</em>, <em>threshold=0.8</em>, <em>figname=None</em>, <em>hn23adjustment=1.0</em>, <em>show_avg=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.esr_saturation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.fornotebook.figlist">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">figlist</code><a class="headerlink" href="#pyspecdata.fornotebook.figlist" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#pyspecdata.fornotebook.figlistl" title="pyspecdata.fornotebook.figlistl"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.fornotebook.figlistl</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.figlisterr">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">figlisterr</code><span class="sig-paren">(</span><em>figurelist</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlisterr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.fornotebook.figlistl">
<em class="property">class </em><code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">figlistl</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlistl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.figlist.html#pyspecdata.core.figlist" title="pyspecdata.core.figlist"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.figlist</span></code></a></p>
<dl class="method">
<dt id="pyspecdata.fornotebook.figlistl.obs">
<code class="descname">obs</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlistl.obs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fornotebook.figlistl.obsn">
<code class="descname">obsn</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlistl.obsn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fornotebook.figlistl.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>string</em>, <em>line_spacing=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlistl.show" title="Permalink to this definition">¶</a></dt>
<dd><p>latexify the series of figures, where “string” gives the base file name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>line_spacing</strong> (<em>bool</em>) – if false, suppress empty lines between output</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.lplot">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">lplot</code><span class="sig-paren">(</span><em>fname</em>, <em>width=0.33</em>, <em>figure=False</em>, <em>dpi=72</em>, <em>grid=False</em>, <em>alsosave=None</em>, <em>gensvg=False</em>, <em>print_string=None</em>, <em>centered=False</em>, <em>equal_aspect=False</em>, <em>autopad=True</em>, <em>bytextwidth=None</em>, <em>showbox=True</em>, <em>boundaries=True</em>, <em>genpng=False</em>, <em>mlab=False</em>, <em>fig=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.lplot" title="Permalink to this definition">¶</a></dt>
<dd><p>used with python.sty instead of savefig</p>
<p>by default, if width is less than 1,
it’s interpreted as bytextwidth = True (i.e. width given as a fraction of the linewidth)
if it’s greater than, the width is interpreted in inches.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.lplotfigures">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">lplotfigures</code><span class="sig-paren">(</span><em>figurelist</em>, <em>string</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.lplotfigures" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete, use the class!</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.lrecordarray">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">lrecordarray</code><span class="sig-paren">(</span><em>recordlist</em>, <em>columnformat=True</em>, <em>smoosh=True</em>, <em>multi=True</em>, <em>resizebox=False</em>, <em>showpipe=True</em>, <em>return_only=False</em>, <em>format='%0.3f'</em>, <em>std_sf=2</em>, <em>scientific_notation=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.lrecordarray" title="Permalink to this definition">¶</a></dt>
<dd><p>generate latex representation of a structured array
if set to True, resizebox will automatically scale down the table so it fits on the page (but it will also scale up a small table to fit the width of the page)
resizebox can also be a fractional number, so that it is resized to a fraction of the page</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.lrecordarray_broken">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">lrecordarray_broken</code><span class="sig-paren">(</span><em>recordlist</em>, <em>rows=30</em>, <em>numwide=5</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.lrecordarray_broken" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.obs">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">obs</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.obs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.obs_repr">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">obs_repr</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.obs_repr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.obsn">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">obsn</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.obsn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.ordplot">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">ordplot</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>labels</em>, <em>formatstring</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.ordplot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.qcalc">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">qcalc</code><span class="sig-paren">(</span><em>freq1</em>, <em>freq2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.qcalc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.save_data">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">save_data</code><span class="sig-paren">(</span><em>inputdata={}</em>, <em>file='data.txt'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.save_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.save_local">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">save_local</code><span class="sig-paren">(</span><em>inputdata={}</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.save_local" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.save_variable">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">save_variable</code><span class="sig-paren">(</span><em>variable</em>, <em>content</em>, <em>disp=True</em>, <em>file='data.txt'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.save_variable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.see_if_math">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">see_if_math</code><span class="sig-paren">(</span><em>recnames</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.see_if_math" title="Permalink to this definition">¶</a></dt>
<dd><p>return latex formatted strings –&gt; ultimately, have this actually check to see if the individual strings are math or not, rather than just assuming that they are.  Do this simply by seeing whether or not the thing starts with a full word (more than two characters) or not.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.show_matrix">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">show_matrix</code><span class="sig-paren">(</span><em>B</em>, <em>plot_name</em>, <em>first_figure=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.show_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.standard_noise_comparison">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">standard_noise_comparison</code><span class="sig-paren">(</span><em>name, path='franck_cnsi/nmr/', data_subdir='reference_data', expnos=[3]</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.standard_noise_comparison" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.thisjobname">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">thisjobname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.thisjobname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.txt_to_dict">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">txt_to_dict</code><span class="sig-paren">(</span><em>file='data.txt'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.txt_to_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-pyspecdata.general_functions">
<span id="pyspecdata-general-functions-module"></span><h2>pyspecdata.general_functions module<a class="headerlink" href="#module-pyspecdata.general_functions" title="Permalink to this headline">¶</a></h2>
<p>These are general functions that need to be accessible to everything inside
pyspecdata.core.  I can’t just put these inside pyspecdata.core, because that
would lead to cyclic imports, and e.g. submodules of pyspecdata can’t find
them.</p>
<dl class="function">
<dt id="pyspecdata.general_functions.autostringconvert">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">autostringconvert</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.autostringconvert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.check_ascending_axis">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">check_ascending_axis</code><span class="sig-paren">(</span><em>u</em>, <em>tolerance=1e-07</em>, <em>additional_message=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.check_ascending_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the array <cite>u</cite> is ascending and equally spaced, and return the
spacing, <cite>du</cite>.  This is a common check needed for FT functions, shears,
etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tolerance</strong> (<em>double</em>) – The relative variation in <cite>du</cite> that is allowed.
Defaults to 1e-7.</li>
<li><strong>additional_message</strong> (<em>str</em>) – So that the user can easily figure out where the assertion error is
coming from, supply some extra text for the respective message.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>du</strong> – the spacing between the elements of u</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">double</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.complex_str">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">complex_str</code><span class="sig-paren">(</span><em>arg</em>, <em>fancy_format=False</em>, <em>format_code='%.4g'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.complex_str" title="Permalink to this definition">¶</a></dt>
<dd><p>render a complex string – leaving out imaginary if it’s real</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.exp">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">exp</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.exp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.init_logging">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">init_logging</code><span class="sig-paren">(</span><em>level=20</em>, <em>filename='pyspecdata.log'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.init_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize logging on pyspecdata.log – do NOT log if run from within a notebook (it’s fair to assume that you will run first before embedding)</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.inside_sphinx">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">inside_sphinx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.inside_sphinx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.plot">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.process_kwargs">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">process_kwargs</code><span class="sig-paren">(</span><em>listoftuples</em>, <em>kwargs</em>, <em>pass_through=False</em>, <em>as_attr=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.process_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>This function allows dynamically processed (<em>i.e.</em> function definitions with <cite>**kwargs</cite>) kwargs (keyword arguments) to be dealt with in a fashion more like standard kwargs.
The defaults set in <cite>listoftuples</cite> are used to process <cite>kwargs</cite>, which are then returned as a set of values (that are set to defaults as needed).</p>
<p>Note that having <cite>kwargs</cite> as an explicit argument avoids errors where the user forgets to pass the <cite>kwargs</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kwargs</strong> (<a href="#id15"><span class="problematic" id="id16">**</span></a>dictionary) – The keyword arguments that you want to process.</li>
<li><strong>listoftuples</strong> (<em>list of tuple pairs</em>) – Tuple pairs, consisting of <code class="docutils literal notranslate"><span class="pre">('param_name',param_value)</span></code>, that give the default values for the various parameters.</li>
<li><strong>pass_through</strong> (<em>bool</em>) – Defaults to False.  If it’s true, then it’s OK not to process all the kwargs here.
In that case, the used kwargs are popped out of the dictionary, and you are expected to pass the unprocessed values (in the dictionary after the call) on to subsequent processing.
Importantly, you should <em>always</em> end with a <cite>pass_through`=`False</cite> call of this function, or by passing <a href="#id17"><span class="problematic" id="id18">**</span></a>kwargs to a standard function in the standard way.
Otherwise it’s possible for the user to pass kwargs that are never processed!</li>
<li><strong>as_attr</strong> (<em>bool</em><em>, </em><em>object</em>) – Defaults to False. If not False, it must be an object whose attributes are set to the value of the respective kwargs.</li>
<li><strong>return</strong> (<em>tuple</em>) – It’s expected that the output is assigned to variables with the <strong>exact same</strong> names as the string in the first half of the tuples, in the <strong>exact same</strong> order.
These parameters will then be set to the appropriate values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.rc">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">rc</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.rc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.general_functions.rclass">
<em class="property">class </em><code class="descclassname">pyspecdata.general_functions.</code><code class="descname">rclass</code><a class="headerlink" href="#pyspecdata.general_functions.rclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.redim_C_to_F">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">redim_C_to_F</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.redim_C_to_F" title="Permalink to this definition">¶</a></dt>
<dd><p>see redim_F_to_C</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.redim_F_to_C">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">redim_F_to_C</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.redim_F_to_C" title="Permalink to this definition">¶</a></dt>
<dd><p>the following creates a C array, reversing the <em>apparent</em> order of dimensions, while preserving the order in memory</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.reformat_exp">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">reformat_exp</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.reformat_exp" title="Permalink to this definition">¶</a></dt>
<dd><p>reformat scientific notation in a nice latex format – used in both pdf and jupyter notebooks</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.render_matrix">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">render_matrix</code><span class="sig-paren">(</span><em>arg</em>, <em>format_code='%.4g'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.render_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>return latex string representing 2D matrix</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.strm">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">strm</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.strm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="pyspecdata-ipy-module">
<h2>pyspecdata.ipy module<a class="headerlink" href="#pyspecdata-ipy-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pyspecdata.latexscripts">
<span id="pyspecdata-latexscripts-module"></span><h2>pyspecdata.latexscripts module<a class="headerlink" href="#module-pyspecdata.latexscripts" title="Permalink to this headline">¶</a></h2>
<p>Provides the <code class="docutils literal notranslate"><span class="pre">pdflatex_notebook_wrapper</span></code> shell/dos command, which you run
instead of your normal Latex command to build a lab notebook.
The results of python environments are <strong>cached</strong> and <strong>only re-run if the code changes</strong>,
even if the python environments are moved around.
This makes the compilation of a Latex lab notebook extremely efficient.</p>
<dl class="function">
<dt id="pyspecdata.latexscripts.cache_output_if_needed">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">cache_output_if_needed</code><span class="sig-paren">(</span><em>scriptnum_as_str</em>, <em>hashstring</em>, <em>showcode=False</em>, <em>show_error=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.cache_output_if_needed" title="Permalink to this definition">¶</a></dt>
<dd><p>if needed, run the python script numbered by scriptnum_as_str that hashes to hashstring, and output the result to the cache ONLY</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.cached_filename">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">cached_filename</code><span class="sig-paren">(</span><em>hashstring</em>, <em>returndir=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.cached_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>this sets the format for where the cached file is stored
we use the first two characters as directory names (so there are just 16 of them</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.check_image_path">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">check_image_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.check_image_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.det_new_pdf_name">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">det_new_pdf_name</code><span class="sig-paren">(</span><em>thisargv</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.det_new_pdf_name" title="Permalink to this definition">¶</a></dt>
<dd><p>based on an original tex or pdf name, determine the original basename (i.e., no extension), as well as one with the final word after the underscore removed</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.flush_script">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">flush_script</code><span class="sig-paren">(</span><em>number</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.flush_script" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.genconfig">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">genconfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.genconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>creates a template configuration directory</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.get_scripts_dir">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">get_scripts_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.get_scripts_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.grab_script_string">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">grab_script_string</code><span class="sig-paren">(</span><em>scriptnum_as_str</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.grab_script_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.main">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.main" title="Permalink to this definition">¶</a></dt>
<dd><p>This looks for <cite>scripts/scriptsUsed.csv</cite> inside the notebook directory, and checks whether or not it should be run
if a command line argument of “flush” is passed, it flushes that script number from the cache</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.script_filename">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">script_filename</code><span class="sig-paren">(</span><em>scriptnum_as_str</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.script_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.sha_string">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">sha_string</code><span class="sig-paren">(</span><em>script</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.sha_string" title="Permalink to this definition">¶</a></dt>
<dd><p>convert the sha hash to a string</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.wraplatex">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">wraplatex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.wraplatex" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the python scripts after running latex also creates a copy of latex without the final portion under the underscore
This prevents the viewer from hanging while it’s waiting for a refresh.
This can be used in combination with wrapviewer() and latexmk by using a <code class="docutils literal notranslate"><span class="pre">~/.latexmkrc</span></code> file that looks like this:</p>
<p>If you pass the <code class="docutils literal notranslate"><span class="pre">--xelatex</span></code> argument, xelatex is used instead of pdflatex
(note that if you’re using latexmk, you need to add this in the latexmkrc file).</p>
<div class="highlight-perl notranslate"><div class="highlight"><pre><span></span><span class="nv">$pdflatex</span><span class="o">=</span><span class="sx">q/pdflatex_notebook_wrapper %O -synctex=1 %S/</span><span class="p">;</span><span class="c1"># calls this function</span>
<span class="nv">$pdf_previewer</span><span class="o">=</span><span class="sx">q/pdflatex_notebook_view_wrapper/</span><span class="p">;</span><span class="c1"># calls the wrapviewer function</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.wrapviewer">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">wrapviewer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.wrapviewer" title="Permalink to this definition">¶</a></dt>
<dd><p>see <a class="reference internal" href="../latexscripts.html#pyspecdata.latexscripts.wraplatex" title="pyspecdata.latexscripts.wraplatex"><code class="xref py py-func docutils literal notranslate"><span class="pre">wraplatex</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-pyspecdata.ndshape">
<span id="pyspecdata-ndshape-module"></span><h2>pyspecdata.ndshape module<a class="headerlink" href="#module-pyspecdata.ndshape" title="Permalink to this headline">¶</a></h2>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">ndshape</span></code> class allows you to allocate arrays and determine the shape of existing arrays.</p>
<dl class="class">
<dt id="pyspecdata.ndshape.ndshape_base">
<em class="property">class </em><code class="descclassname">pyspecdata.ndshape.</code><code class="descname">ndshape_base</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base" title="Permalink to this definition">¶</a></dt>
<dd><p>The base ndshape class, which doesn’t include an allocation method.</p>
<dl class="method">
<dt id="pyspecdata.ndshape.ndshape_base.axn">
<code class="descname">axn</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.axn" title="Permalink to this definition">¶</a></dt>
<dd><p>return the number for the axis with the name “axis”</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape.ndshape_base.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape.ndshape_base.matchdims">
<code class="descname">matchdims</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.matchdims" title="Permalink to this definition">¶</a></dt>
<dd><p>returns shape with [not in self, len 1] + [overlapping dims between arg + self] + [not in arg] –&gt; this is better accomplished by using sets as I do in the matchdims below</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape.ndshape_base.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><em>label</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a dimension</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape.ndshape_base.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>before</em>, <em>after</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>rename a dimension</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyspecdata.nnls">
<span id="pyspecdata-nnls-module"></span><h2>pyspecdata.nnls module<a class="headerlink" href="#module-pyspecdata.nnls" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pyspecdata.nnls.nnls_regularized">
<code class="descclassname">pyspecdata.nnls.</code><code class="descname">nnls_regularized</code><span class="sig-paren">(</span><em>A</em>, <em>b</em>, <em>l=0</em>, <em>maxiter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nnls.nnls_regularized" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve math:<cite>argmin_x || Ax - b ||_2^2 + lambda^2 ||x||_2^2</cite> for <code class="docutils literal notranslate"><span class="pre">x&gt;=0</span></code>.
This is a wrapper for a FORTRAN non-negative least squares solver,
with regularization (added by stacking $A$ on top an identity matrix
times $lambda$ and $b$ on top of a matching array of zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<em>ndarray</em>) – Matrix <code class="docutils literal notranslate"><span class="pre">A</span></code> as shown above.</li>
<li><strong>b</strong> (<em>ndarray</em>) – Right-hand side vector.</li>
<li><strong>l</strong> (<em>double</em><em> (</em><em>default 0</em><em>)</em>) – <span class="math notranslate nohighlight">\(lambda\)</span> – if this is set to 0, the algorithm reverts to
standard nnls (rather than stacking on top of two zero matrices
for no reason)</li>
<li><strong>maxiter</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of iterations, optional.
Default is <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">*</span> <span class="pre">A.shape[1]</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>x</strong> (<em>ndarray</em>) – Solution vector.</li>
<li><strong>rnorm</strong> (<em>float</em>) – The residual, <code class="docutils literal notranslate"><span class="pre">||</span> <span class="pre">Ax-b</span> <span class="pre">||_2</span></code>.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The FORTRAN code was published in the book below. The algorithm
is an active set method. It solves the KKT (Karush-Kuhn-Tucker)
conditions for the non-negative least squares problem.</p>
<p>This was adapted from the source distributed with scipy –
see scipy for relevant licensing.</p>
<p class="rubric">References</p>
<p>Lawson C., Hanson R.J., (1987) Solving Least Squares Problems, SIAM</p>
</dd></dl>

</div>
<div class="section" id="module-pyspecdata.units">
<span id="pyspecdata-units-module"></span><h2>pyspecdata.units module<a class="headerlink" href="#module-pyspecdata.units" title="Permalink to this headline">¶</a></h2>
<p>Not yet implemented – a preliminary idea for how to handle actual unit conversion.  (Currently, we only do s to Hz during FT and order of magnitude prefixes when plotting.)</p>
<dl class="class">
<dt id="pyspecdata.units.units">
<em class="property">class </em><code class="descclassname">pyspecdata.units.</code><code class="descname">units</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.units.units" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Each instance of this object stores a numerical representation of a single set of units, and there are routines to set units by
(<em>i.e.</em> <code class="xref py py-func docutils literal notranslate"><span class="pre">parsing</span></code>) strings to units
and routines to convert units to an
<code class="xref py py-func docutils literal notranslate"><span class="pre">str</span></code> representation.</p>
<p>At its core, the units are represented by three numpy structured arrays per instance:
one for the coefficients in terms of base units,
one for the order of magnitude used to determine any prefixes added to the base units,
and one for any scaling factors needed to convert to base units.</p>
<p>An array of these structured arrays can be converted into a row
vector with <code class="docutils literal notranslate"><span class="pre">.view((float16,len(base_dtype.names)))</span></code>.
“Base Units” here are the same as SI base units <strong>except</strong> that it uses g instead of kg (so we can do  the prefixes correctly), and we have added rad.</p>
<dl class="method">
<dt id="pyspecdata.units.units.load_derived">
<code class="descname">load_derived</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.units.units.load_derived" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses and loads a series of definitions for derived units.</p>
<p>It uses definition list to determine a derived dtype vector, which is
larger than the base dtype vector.</p>
<p>Then, (not yet done), based on the dictionary that this generates, it
will generate a matrix that converts from the derived dtype vector to
the base dtype vector.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.units.units.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>in_str</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.units.units.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Take <cite>in_str</cite> and parse it as a unit or series of units, and set the units associated with the current instance to the result.</p>
<p>Addition, subtraction, and parentheses are not allowed, and we define a
non-standard order of operations, as follows:</p>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">\\mu</span></code> (including a trailing space) and <code class="docutils literal notranslate"><span class="pre">u</span></code> are converted to the utf-8 equivalent (μ)</li>
<li><code class="docutils literal notranslate"><span class="pre">...^-0.125</span></code> any number is assumed to be part of the exponent, and only numbers are allowed.</li>
<li><code class="docutils literal notranslate"><span class="pre">*</span></code> multiplication</li>
<li>a space also represents multiplication</li>
<li><code class="docutils literal notranslate"><span class="pre">.../...</span></code> comes <strong>after</strong> all other operations, as is typical for single-line text</li>
<li><code class="docutils literal notranslate"><span class="pre">sqrt(...)</span></code> comes “last” in the sense that we take care of everything both inside and outside the sqrt first, before applying the sqrt.</li>
</ol>
<p>At this point, I use split to break up according to the order of operations, assign powers to each, and determine the prefix.
However, I’m currently only using base units, and I will eventually want to use derived units as well.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.units.units.str">
<code class="descname">str</code><span class="sig-paren">(</span><em>number</em>, <em>using_unicode=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.units.units.str" title="Permalink to this definition">¶</a></dt>
<dd><p>Give a string that prints <cite>number</cite>, which has the units
given by the current instance of the class.
Choose the simplest possible expression for the units.</p>
<p>When printing, we have a matrix that give all our “representation” units,
and we use a pseudoinverse to give us the simplest possible expression of our units.
(This is assuming that all derived units are defined in terms of powers
greater than or equal to 1 of the base units, because powers of
magnitude less than 1 would complicate things by allowing us to reduce
the norm by spreading across several derived units – in that case, we
might want to add a threshold before taking
the pinv.)</p>
<p>Currently,  I am only giving a method for printing in the base units.</p>
<p>Also, I will want to use number in order to adjust the prefix(es) of the units.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyspecdata.version">
<span id="pyspecdata-version-module"></span><h2>pyspecdata.version module<a class="headerlink" href="#module-pyspecdata.version" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pyspecdata">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pyspecdata" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="pyspecdata.CustomError">
<em class="property">exception </em><code class="descclassname">pyspecdata.</code><code class="descname">CustomError</code><span class="sig-paren">(</span><em>*value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.CustomError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="class">
<dt id="pyspecdata.LightSource">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">LightSource</code><span class="sig-paren">(</span><em>azdeg=315</em>, <em>altdeg=45</em>, <em>hsv_min_val=0</em>, <em>hsv_max_val=1</em>, <em>hsv_min_sat=1</em>, <em>hsv_max_sat=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create a light source coming from the specified azimuth and elevation.
Angles are in degrees, with the azimuth measured
clockwise from north and elevation up from the zero plane of the surface.</p>
<p>The <a class="reference internal" href="#pyspecdata.LightSource.shade" title="pyspecdata.LightSource.shade"><code class="xref py py-meth docutils literal notranslate"><span class="pre">shade()</span></code></a> is used to produce “shaded” rgb values for a data array.
<a class="reference internal" href="#pyspecdata.LightSource.shade_rgb" title="pyspecdata.LightSource.shade_rgb"><code class="xref py py-meth docutils literal notranslate"><span class="pre">shade_rgb()</span></code></a> can be used to combine an rgb image with
The <a class="reference internal" href="#pyspecdata.LightSource.shade_rgb" title="pyspecdata.LightSource.shade_rgb"><code class="xref py py-meth docutils literal notranslate"><span class="pre">shade_rgb()</span></code></a>
The <a class="reference internal" href="#pyspecdata.LightSource.hillshade" title="pyspecdata.LightSource.hillshade"><code class="xref py py-meth docutils literal notranslate"><span class="pre">hillshade()</span></code></a> produces an illumination map of a surface.</p>
<dl class="method">
<dt id="pyspecdata.LightSource.blend_hsv">
<code class="descname">blend_hsv</code><span class="sig-paren">(</span><em>rgb</em>, <em>intensity</em>, <em>hsv_max_sat=None</em>, <em>hsv_max_val=None</em>, <em>hsv_min_val=None</em>, <em>hsv_min_sat=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.blend_hsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Take the input data array, convert to HSV values in the given colormap,
then adjust those color values to give the impression of a shaded
relief map with a specified light source.  RGBA values are returned,
which can then be used to plot the shaded image with imshow.</p>
<p>The color of the resulting image will be darkened by moving the (s,v)
values (in hsv colorspace) toward (hsv_min_sat, hsv_min_val) in the
shaded regions, or lightened by sliding (s,v) toward (hsv_max_sat
hsv_max_val) in regions that are illuminated.  The default extremes are
chose so that completely shaded points are nearly black (s = 1, v = 0)
and completely illuminated points are nearly white (s = 0, v = 1).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rgb</strong> (<em>ndarray</em>) – An MxNx3 RGB array of floats ranging from 0 to 1 (color image).</li>
<li><strong>intensity</strong> (<em>ndarray</em>) – An MxNx1 array of floats ranging from 0 to 1 (grayscale image).</li>
<li><strong>hsv_max_sat</strong> (<em>number</em><em>, </em><em>optional</em>) – The maximum saturation value that the <em>intensity</em> map can shift the
output image to. Defaults to 1.</li>
<li><strong>hsv_min_sat</strong> (<em>number</em><em>, </em><em>optional</em>) – The minimum saturation value that the <em>intensity</em> map can shift the
output image to. Defaults to 0.</li>
<li><strong>hsv_max_val</strong> (<em>number</em><em>, </em><em>optional</em>) – The maximum value (“v” in “hsv”) that the <em>intensity</em> map can shift
the output image to. Defaults to 1.</li>
<li><strong>hsv_min_val</strong> (<em>number</em><em>, </em><em>optional</em>) – The minimum value (“v” in “hsv”) that the <em>intensity</em> map can shift
the output image to. Defaults to 0.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>rgb</strong> – An MxNx3 RGB array representing the combined images.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.LightSource.blend_overlay">
<code class="descname">blend_overlay</code><span class="sig-paren">(</span><em>rgb</em>, <em>intensity</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.blend_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines an rgb image with an intensity map using “overlay” blending.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rgb</strong> (<em>ndarray</em>) – An MxNx3 RGB array of floats ranging from 0 to 1 (color image).</li>
<li><strong>intensity</strong> (<em>ndarray</em>) – An MxNx1 array of floats ranging from 0 to 1 (grayscale image).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>rgb</strong> – An MxNx3 RGB array representing the combined images.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.LightSource.blend_soft_light">
<code class="descname">blend_soft_light</code><span class="sig-paren">(</span><em>rgb</em>, <em>intensity</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.blend_soft_light" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines an rgb image with an intensity map using “soft light”
blending.  Uses the “pegtop” formula.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rgb</strong> (<em>ndarray</em>) – An MxNx3 RGB array of floats ranging from 0 to 1 (color image).</li>
<li><strong>intensity</strong> (<em>ndarray</em>) – An MxNx1 array of floats ranging from 0 to 1 (grayscale image).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>rgb</strong> – An MxNx3 RGB array representing the combined images.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.LightSource.direction">
<code class="descname">direction</code><a class="headerlink" href="#pyspecdata.LightSource.direction" title="Permalink to this definition">¶</a></dt>
<dd><p>The unit vector direction towards the light source</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.LightSource.hillshade">
<code class="descname">hillshade</code><span class="sig-paren">(</span><em>elevation</em>, <em>vert_exag=1</em>, <em>dx=1</em>, <em>dy=1</em>, <em>fraction=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.hillshade" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the illumination intensity for a surface using the defined
azimuth and elevation for the light source.</p>
<p>This computes the normal vectors for the surface, and then passes them
on to <cite>shade_normals</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>elevation</strong> (<em>array-like</em>) – A 2d array (or equivalent) of the height values used to generate an
illumination map</li>
<li><strong>vert_exag</strong> (<em>number</em><em>, </em><em>optional</em>) – The amount to exaggerate the elevation values by when calculating
illumination. This can be used either to correct for differences in
units between the x-y coordinate system and the elevation
coordinate system (e.g. decimal degrees vs meters) or to exaggerate
or de-emphasize topographic effects.</li>
<li><strong>dx</strong> (<em>number</em><em>, </em><em>optional</em>) – The x-spacing (columns) of the input <em>elevation</em> grid.</li>
<li><strong>dy</strong> (<em>number</em><em>, </em><em>optional</em>) – The y-spacing (rows) of the input <em>elevation</em> grid.</li>
<li><strong>fraction</strong> (<em>number</em><em>, </em><em>optional</em>) – Increases or decreases the contrast of the hillshade.  Values
greater than one will cause intermediate values to move closer to
full illumination or shadow (and clipping any values that move
beyond 0 or 1). Note that this is not visually or mathematically
the same as vertical exaggeration.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>intensity</strong> – A 2d array of illumination values between 0-1, where 0 is
completely in shadow and 1 is completely illuminated.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.LightSource.shade">
<code class="descname">shade</code><span class="sig-paren">(</span><em>data</em>, <em>cmap</em>, <em>norm=None</em>, <em>blend_mode=u'overlay'</em>, <em>vmin=None</em>, <em>vmax=None</em>, <em>vert_exag=1</em>, <em>dx=1</em>, <em>dy=1</em>, <em>fraction=1</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.shade" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine colormapped data values with an illumination intensity map
(a.k.a.  “hillshade”) of the values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>array-like</em>) – A 2d array (or equivalent) of the height values used to generate a
shaded map.</li>
<li><strong>cmap</strong> (<cite>~matplotlib.colors.Colormap</cite> instance) – The colormap used to color the <em>data</em> array. Note that this must be
a <cite>~matplotlib.colors.Colormap</cite> instance.  For example, rather than
passing in <cite>cmap=’gist_earth’</cite>, use
<cite>cmap=plt.get_cmap(‘gist_earth’)</cite> instead.</li>
<li><strong>norm</strong> (<cite>~matplotlib.colors.Normalize</cite> instance, optional) – The normalization used to scale values before colormapping. If
None, the input will be linearly scaled between its min and max.</li>
<li><strong>blend_mode</strong> (<em>{'hsv'</em><em>, </em><em>'overlay'</em><em>, </em><em>'soft'}</em><em> or </em><em>callable</em><em>, </em><em>optional</em>) – The type of blending used to combine the colormapped data
values with the illumination intensity.  Default is
“overlay”.  Note that for most topographic surfaces,
“overlay” or “soft” appear more visually realistic. If a
user-defined function is supplied, it is expected to
combine an MxNx3 RGB array of floats (ranging 0 to 1) with
an MxNx1 hillshade array (also 0 to 1).  (Call signature
<cite>func(rgb, illum, **kwargs)</cite>) Additional kwargs supplied
to this function will be passed on to the <em>blend_mode</em>
function.</li>
<li><strong>vmin</strong> (<em>scalar</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The minimum value used in colormapping <em>data</em>. If <em>None</em> the
minimum value in <em>data</em> is used. If <em>norm</em> is specified, then this
argument will be ignored.</li>
<li><strong>vmax</strong> (<em>scalar</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The maximum value used in colormapping <em>data</em>. If <em>None</em> the
maximum value in <em>data</em> is used. If <em>norm</em> is specified, then this
argument will be ignored.</li>
<li><strong>vert_exag</strong> (<em>number</em><em>, </em><em>optional</em>) – The amount to exaggerate the elevation values by when calculating
illumination. This can be used either to correct for differences in
units between the x-y coordinate system and the elevation
coordinate system (e.g. decimal degrees vs meters) or to exaggerate
or de-emphasize topography.</li>
<li><strong>dx</strong> (<em>number</em><em>, </em><em>optional</em>) – The x-spacing (columns) of the input <em>elevation</em> grid.</li>
<li><strong>dy</strong> (<em>number</em><em>, </em><em>optional</em>) – The y-spacing (rows) of the input <em>elevation</em> grid.</li>
<li><strong>fraction</strong> (<em>number</em><em>, </em><em>optional</em>) – Increases or decreases the contrast of the hillshade.  Values
greater than one will cause intermediate values to move closer to
full illumination or shadow (and clipping any values that move
beyond 0 or 1). Note that this is not visually or mathematically
the same as vertical exaggeration.</li>
<li><strong>kwargs are passed on to the blend_mode function.</strong> (<em>Additional</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>rgba</strong> – An MxNx4 array of floats ranging between 0-1.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.LightSource.shade_normals">
<code class="descname">shade_normals</code><span class="sig-paren">(</span><em>normals</em>, <em>fraction=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.shade_normals" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the illumination intensity for the normal vectors of a
surface using the defined azimuth and elevation for the light source.</p>
<p>Imagine an artificial sun placed at infinity in some azimuth and
elevation position illuminating our surface. The parts of the surface
that slope toward the sun should brighten while those sides facing away
should become darker.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fraction</strong> (<em>number</em><em>, </em><em>optional</em>) – Increases or decreases the contrast of the hillshade.  Values
greater than one will cause intermediate values to move closer to
full illumination or shadow (and clipping any values that move
beyond 0 or 1). Note that this is not visually or mathematically
the same as vertical exaggeration.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>intensity</strong> – A 2d array of illumination values between 0-1, where 0 is
completely in shadow and 1 is completely illuminated.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.LightSource.shade_rgb">
<code class="descname">shade_rgb</code><span class="sig-paren">(</span><em>rgb</em>, <em>elevation</em>, <em>fraction=1.0</em>, <em>blend_mode=u'hsv'</em>, <em>vert_exag=1</em>, <em>dx=1</em>, <em>dy=1</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.shade_rgb" title="Permalink to this definition">¶</a></dt>
<dd><p>Take the input RGB array (ny*nx*3) adjust their color values
to given the impression of a shaded relief map with a
specified light source using the elevation (ny*nx).
A new RGB array ((ny*nx*3)) is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rgb</strong> (<em>array-like</em>) – An MxNx3 RGB array, assumed to be in the range of 0 to 1.</li>
<li><strong>elevation</strong> (<em>array-like</em>) – A 2d array (or equivalent) of the height values used to generate a
shaded map.</li>
<li><strong>fraction</strong> (<em>number</em>) – Increases or decreases the contrast of the hillshade.  Values
greater than one will cause intermediate values to move closer to
full illumination or shadow (and clipping any values that move
beyond 0 or 1). Note that this is not visually or mathematically
the same as vertical exaggeration.</li>
<li><strong>blend_mode</strong> (<em>{'hsv'</em><em>, </em><em>'overlay'</em><em>, </em><em>'soft'}</em><em> or </em><em>callable</em><em>, </em><em>optional</em>) – The type of blending used to combine the colormapped data values
with the illumination intensity.  For backwards compatibility, this
defaults to “hsv”. Note that for most topographic surfaces,
“overlay” or “soft” appear more visually realistic. If a
user-defined function is supplied, it is expected to combine an
MxNx3 RGB array of floats (ranging 0 to 1) with an MxNx1 hillshade
array (also 0 to 1).  (Call signature <cite>func(rgb, illum, **kwargs)</cite>)
Additional kwargs supplied to this function will be passed on to
the <em>blend_mode</em> function.</li>
<li><strong>vert_exag</strong> (<em>number</em><em>, </em><em>optional</em>) – The amount to exaggerate the elevation values by when calculating
illumination. This can be used either to correct for differences in
units between the x-y coordinate system and the elevation
coordinate system (e.g. decimal degrees vs meters) or to exaggerate
or de-emphasize topography.</li>
<li><strong>dx</strong> (<em>number</em><em>, </em><em>optional</em>) – The x-spacing (columns) of the input <em>elevation</em> grid.</li>
<li><strong>dy</strong> (<em>number</em><em>, </em><em>optional</em>) – The y-spacing (rows) of the input <em>elevation</em> grid.</li>
<li><strong>kwargs are passed on to the blend_mode function.</strong> (<em>Additional</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>shaded_rgb</strong> – An MxNx3 array of floats ranging between 0-1.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.Line2D">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">Line2D</code><span class="sig-paren">(</span><em>xdata</em>, <em>ydata</em>, <em>linewidth=None</em>, <em>linestyle=None</em>, <em>color=None</em>, <em>marker=None</em>, <em>markersize=None</em>, <em>markeredgewidth=None</em>, <em>markeredgecolor=None</em>, <em>markerfacecolor=None</em>, <em>markerfacecoloralt=u'none'</em>, <em>fillstyle=None</em>, <em>antialiased=None</em>, <em>dash_capstyle=None</em>, <em>solid_capstyle=None</em>, <em>dash_joinstyle=None</em>, <em>solid_joinstyle=None</em>, <em>pickradius=5</em>, <em>drawstyle=None</em>, <em>markevery=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.artist.Artist</span></code></p>
<p>A line - the line can have both a solid linestyle connecting all
the vertices, and a marker at each vertex.  Additionally, the
drawing of the solid line is influenced by the drawstyle, e.g., one
can create “stepped” lines in various styles.</p>
<dl class="attribute">
<dt id="pyspecdata.Line2D.axes">
<code class="descname">axes</code><a class="headerlink" href="#pyspecdata.Line2D.axes" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code> instance the artist
resides in, or <em>None</em>.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.contains">
<code class="descname">contains</code><span class="sig-paren">(</span><em>mouseevent</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether the mouse event occurred on the line.  The pick
radius determines the precision of the location test (usually
within five points of the value).  Use
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pickradius()</span></code> or
<code class="xref py py-meth docutils literal notranslate"><span class="pre">set_pickradius()</span></code> to view or
modify it.</p>
<p>Returns <em>True</em> if any values are within the radius along with
<code class="docutils literal notranslate"><span class="pre">{'ind':</span> <span class="pre">pointlist}</span></code>, where <em>pointlist</em> is the set of points
within the radius.</p>
<p>TODO: sort returned indices by distance</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.draw">
<code class="descname">draw</code><span class="sig-paren">(</span><em>renderer</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.draw" title="Permalink to this definition">¶</a></dt>
<dd><p>draw the Line with <cite>renderer</cite> unless visibility is False</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.drawStyleKeys">
<code class="descname">drawStyleKeys</code><em class="property"> = [u'default', u'steps-mid', u'steps-pre', u'steps-post', u'steps']</em><a class="headerlink" href="#pyspecdata.Line2D.drawStyleKeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.drawStyles">
<code class="descname">drawStyles</code><em class="property"> = {u'default': u'_draw_lines', u'steps': u'_draw_steps_pre', u'steps-mid': u'_draw_steps_mid', u'steps-post': u'_draw_steps_post', u'steps-pre': u'_draw_steps_pre'}</em><a class="headerlink" href="#pyspecdata.Line2D.drawStyles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.fillStyles">
<code class="descname">fillStyles</code><em class="property"> = (u'full', u'left', u'right', u'bottom', u'top', u'none')</em><a class="headerlink" href="#pyspecdata.Line2D.fillStyles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.filled_markers">
<code class="descname">filled_markers</code><em class="property"> = (u'o', u'v', u'^', u'&lt;', u'&gt;', u'8', u's', u'p', u'*', u'h', u'H', u'D', u'd', u'P', u'X')</em><a class="headerlink" href="#pyspecdata.Line2D.filled_markers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_aa">
<code class="descname">get_aa</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_aa" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_antialiased</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_antialiased">
<code class="descname">get_antialiased</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_antialiased" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_c">
<code class="descname">get_c</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_c" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_color</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_color">
<code class="descname">get_color</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_dash_capstyle">
<code class="descname">get_dash_capstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_dash_capstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the cap style for dashed linestyles</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_dash_joinstyle">
<code class="descname">get_dash_joinstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_dash_joinstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the join style for dashed linestyles</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_data">
<code class="descname">get_data</code><span class="sig-paren">(</span><em>orig=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the xdata, ydata.</p>
<p>If <em>orig</em> is <em>True</em>, return the original data.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_drawstyle">
<code class="descname">get_drawstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_drawstyle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_fillstyle">
<code class="descname">get_fillstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_fillstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>return the marker fillstyle</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_linestyle">
<code class="descname">get_linestyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_linestyle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_linewidth">
<code class="descname">get_linewidth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_linewidth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_ls">
<code class="descname">get_ls</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_ls" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_linestyle</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_lw">
<code class="descname">get_lw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_lw" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_linewidth</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_marker">
<code class="descname">get_marker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_markeredgecolor">
<code class="descname">get_markeredgecolor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markeredgecolor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_markeredgewidth">
<code class="descname">get_markeredgewidth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markeredgewidth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_markerfacecolor">
<code class="descname">get_markerfacecolor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markerfacecolor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_markerfacecoloralt">
<code class="descname">get_markerfacecoloralt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markerfacecoloralt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_markersize">
<code class="descname">get_markersize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markersize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_markevery">
<code class="descname">get_markevery</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markevery" title="Permalink to this definition">¶</a></dt>
<dd><p>return the markevery setting</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_mec">
<code class="descname">get_mec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_mec" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_markeredgecolor</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_mew">
<code class="descname">get_mew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_mew" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_markeredgewidth</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_mfc">
<code class="descname">get_mfc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_mfc" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_markerfacecolor</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_mfcalt">
<code class="descname">get_mfcalt</code><span class="sig-paren">(</span><em>alt=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_mfcalt" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_markerfacecoloralt</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_ms">
<code class="descname">get_ms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_ms" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_markersize</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_path">
<code class="descname">get_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code> object associated
with this line.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_pickradius">
<code class="descname">get_pickradius</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_pickradius" title="Permalink to this definition">¶</a></dt>
<dd><p>return the pick radius used for containment tests</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_solid_capstyle">
<code class="descname">get_solid_capstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_solid_capstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the cap style for solid linestyles</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_solid_joinstyle">
<code class="descname">get_solid_joinstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_solid_joinstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the join style for solid linestyles</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_window_extent">
<code class="descname">get_window_extent</code><span class="sig-paren">(</span><em>renderer</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_window_extent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_xdata">
<code class="descname">get_xdata</code><span class="sig-paren">(</span><em>orig=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_xdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the xdata.</p>
<p>If <em>orig</em> is <em>True</em>, return the original data, else the
processed data.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_xydata">
<code class="descname">get_xydata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_xydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <em>xy</em> data as a Nx2 numpy array.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_ydata">
<code class="descname">get_ydata</code><span class="sig-paren">(</span><em>orig=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_ydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ydata.</p>
<p>If <em>orig</em> is <em>True</em>, return the original data, else the
processed data.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.is_dashed">
<code class="descname">is_dashed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.is_dashed" title="Permalink to this definition">¶</a></dt>
<dd><p>return True if line is dashstyle</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.lineStyles">
<code class="descname">lineStyles</code><em class="property"> = {u'': u'_draw_nothing', u' ': u'_draw_nothing', u'-': u'_draw_solid', u'--': u'_draw_dashed', u'-.': u'_draw_dash_dot', u':': u'_draw_dotted', u'None': u'_draw_nothing'}</em><a class="headerlink" href="#pyspecdata.Line2D.lineStyles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.markers">
<code class="descname">markers</code><em class="property"> = {None: u'nothing', 0: u'tickleft', 1: u'tickright', 2: u'tickup', 3: u'tickdown', 4: u'caretleft', 5: u'caretright', 6: u'caretup', 7: u'caretdown', 8: u'caretleftbase', 9: u'caretrightbase', 10: u'caretupbase', 11: u'caretdownbase', u'': u'nothing', u' ': u'nothing', u'*': u'star', u'+': u'plus', u',': u'pixel', u'.': u'point', u'1': u'tri_down', u'2': u'tri_up', u'3': u'tri_left', u'4': u'tri_right', u'8': u'octagon', u'&lt;': u'triangle_left', u'&gt;': u'triangle_right', u'D': u'diamond', u'H': u'hexagon2', u'None': u'nothing', u'P': u'plus_filled', u'X': u'x_filled', u'^': u'triangle_up', u'_': u'hline', u'd': u'thin_diamond', u'h': u'hexagon1', u'o': u'circle', u'p': u'pentagon', u's': u'square', u'v': u'triangle_down', u'x': u'x', u'|': u'vline'}</em><a class="headerlink" href="#pyspecdata.Line2D.markers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.recache">
<code class="descname">recache</code><span class="sig-paren">(</span><em>always=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.recache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.recache_always">
<code class="descname">recache_always</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.recache_always" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_aa">
<code class="descname">set_aa</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_aa" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_antialiased</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_antialiased">
<code class="descname">set_antialiased</code><span class="sig-paren">(</span><em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_antialiased" title="Permalink to this definition">¶</a></dt>
<dd><p>Set whether to use antialiased rendering.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>b</strong> (<em>bool</em>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_c">
<code class="descname">set_c</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_c" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_color</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_color">
<code class="descname">set_color</code><span class="sig-paren">(</span><em>color</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_color" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the color of the line</p>
<p>ACCEPTS: any matplotlib color</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_dash_capstyle">
<code class="descname">set_dash_capstyle</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_dash_capstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the cap style for dashed linestyles</p>
<p>ACCEPTS: [‘butt’ | ‘round’ | ‘projecting’]</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_dash_joinstyle">
<code class="descname">set_dash_joinstyle</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_dash_joinstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the join style for dashed linestyles
ACCEPTS: [‘miter’ | ‘round’ | ‘bevel’]</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_dashes">
<code class="descname">set_dashes</code><span class="sig-paren">(</span><em>seq</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_dashes" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dash sequence, sequence of dashes with on off ink in
points.  If seq is empty or if seq = (None, None), the
linestyle will be set to solid.</p>
<p>ACCEPTS: sequence of on/off ink in points</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_data">
<code class="descname">set_data</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the x and y data</p>
<p>ACCEPTS: 2D array (rows are x, y) or two 1D arrays</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_drawstyle">
<code class="descname">set_drawstyle</code><span class="sig-paren">(</span><em>drawstyle</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_drawstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the drawstyle of the plot</p>
<p>‘default’ connects the points with lines. The steps variants
produce step-plots. ‘steps’ is equivalent to ‘steps-pre’ and
is maintained for backward-compatibility.</p>
<dl class="docutils">
<dt>ACCEPTS: [‘default’ | ‘steps’ | ‘steps-pre’ | ‘steps-mid’ |</dt>
<dd>‘steps-post’]</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_fillstyle">
<code class="descname">set_fillstyle</code><span class="sig-paren">(</span><em>fs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_fillstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker fill style; ‘full’ means fill the whole marker.
‘none’ means no filling; other options are for half-filled markers.</p>
<p>ACCEPTS: [‘full’ | ‘left’ | ‘right’ | ‘bottom’ | ‘top’ | ‘none’]</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_linestyle">
<code class="descname">set_linestyle</code><span class="sig-paren">(</span><em>ls</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_linestyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the linestyle of the line (also accepts drawstyles,
e.g., <code class="docutils literal notranslate"><span class="pre">'steps--'</span></code>)</p>
<table border="1" class="docutils">
<colgroup>
<col width="61%" />
<col width="39%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">linestyle</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">'-'</span></code> or <code class="docutils literal notranslate"><span class="pre">'solid'</span></code></td>
<td>solid line</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">'--'</span></code> or  <code class="docutils literal notranslate"><span class="pre">'dashed'</span></code></td>
<td>dashed line</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">'-.'</span></code> or  <code class="docutils literal notranslate"><span class="pre">'dashdot'</span></code></td>
<td>dash-dotted line</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">':'</span></code> or <code class="docutils literal notranslate"><span class="pre">'dotted'</span></code></td>
<td>dotted line</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">'None'</span></code></td>
<td>draw nothing</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">'</span> <span class="pre">'</span></code></td>
<td>draw nothing</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">''</span></code></td>
<td>draw nothing</td>
</tr>
</tbody>
</table>
<p>‘steps’ is equivalent to ‘steps-pre’ and is maintained for
backward-compatibility.</p>
<p>Alternatively a dash tuple of the following form can be provided:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">onoffseq</span><span class="p">),</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">onoffseq</span></code> is an even length tuple of on and off ink
in points.</p>
<dl class="docutils">
<dt>ACCEPTS: [‘solid’ | ‘dashed’, ‘dashdot’, ‘dotted’ |</dt>
<dd>(offset, on-off-dash-seq) |
<code class="docutils literal notranslate"><span class="pre">'-'</span></code> | <code class="docutils literal notranslate"><span class="pre">'--'</span></code> | <code class="docutils literal notranslate"><span class="pre">'-.'</span></code> | <code class="docutils literal notranslate"><span class="pre">':'</span></code> | <code class="docutils literal notranslate"><span class="pre">'None'</span></code> |
<code class="docutils literal notranslate"><span class="pre">'</span> <span class="pre">'</span></code> | <code class="docutils literal notranslate"><span class="pre">''</span></code>]</dd>
</dl>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#pyspecdata.Line2D.set_drawstyle" title="pyspecdata.Line2D.set_drawstyle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_drawstyle()</span></code></a></dt>
<dd>To set the drawing style (stepping) of the plot.</dd>
</dl>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ls</strong> ({ <code class="docutils literal notranslate"><span class="pre">'-'</span></code>,  <code class="docutils literal notranslate"><span class="pre">'--'</span></code>, <code class="docutils literal notranslate"><span class="pre">'-.'</span></code>, <code class="docutils literal notranslate"><span class="pre">':'</span></code>} and more see description) – The line style.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_linewidth">
<code class="descname">set_linewidth</code><span class="sig-paren">(</span><em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_linewidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the line width in points</p>
<p>ACCEPTS: float value in points</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_ls">
<code class="descname">set_ls</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_ls" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_linestyle</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_lw">
<code class="descname">set_lw</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_lw" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_linewidth</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_marker">
<code class="descname">set_marker</code><span class="sig-paren">(</span><em>marker</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the line marker</p>
<p>ACCEPTS: <code class="xref py py-mod docutils literal notranslate"><span class="pre">A</span> <span class="pre">valid</span> <span class="pre">marker</span> <span class="pre">style</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>marker</strong> (<em>marker style</em>) – See <cite>~matplotlib.markers</cite> for full description of possible
argument</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_markeredgecolor">
<code class="descname">set_markeredgecolor</code><span class="sig-paren">(</span><em>ec</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markeredgecolor" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker edge color</p>
<p>ACCEPTS: any matplotlib color</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_markeredgewidth">
<code class="descname">set_markeredgewidth</code><span class="sig-paren">(</span><em>ew</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markeredgewidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker edge width in points</p>
<p>ACCEPTS: float value in points</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_markerfacecolor">
<code class="descname">set_markerfacecolor</code><span class="sig-paren">(</span><em>fc</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markerfacecolor" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker face color.</p>
<p>ACCEPTS: any matplotlib color</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_markerfacecoloralt">
<code class="descname">set_markerfacecoloralt</code><span class="sig-paren">(</span><em>fc</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markerfacecoloralt" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the alternate marker face color.</p>
<p>ACCEPTS: any matplotlib color</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_markersize">
<code class="descname">set_markersize</code><span class="sig-paren">(</span><em>sz</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markersize" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker size in points</p>
<p>ACCEPTS: float</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_markevery">
<code class="descname">set_markevery</code><span class="sig-paren">(</span><em>every</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markevery" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the markevery property to subsample the plot when using markers.</p>
<p>e.g., if <cite>every=5</cite>, every 5-th marker will be plotted.</p>
<p>ACCEPTS: [None | int | length-2 tuple of int | slice |
list/array of int | float | length-2 tuple of float]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>every</strong> (<em>None | int | length-2 tuple of int | slice | list/array of int | float | length-2 tuple of float</em>) – <p>Which markers to plot.</p>
<ul class="simple">
<li>every=None, every point will be plotted.</li>
<li>every=N, every N-th marker will be plotted starting with
marker 0.</li>
<li>every=(start, N), every N-th marker, starting at point
start, will be plotted.</li>
<li>every=slice(start, end, N), every N-th marker, starting at
point start, upto but not including point end, will be plotted.</li>
<li>every=[i, j, m, n], only markers at points i, j, m, and n
will be plotted.</li>
<li>every=0.1, (i.e. a float) then markers will be spaced at
approximately equal distances along the line; the distance
along the line between markers is determined by multiplying the
display-coordinate distance of the axes bounding-box diagonal
by the value of every.</li>
<li>every=(0.5, 0.1) (i.e. a length-2 tuple of float), the
same functionality as every=0.1 is exhibited but the first
marker will be 0.5 multiplied by the
display-cordinate-diagonal-distance along the line.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Setting the markevery property will only show markers at actual data
points.  When using float arguments to set the markevery property
on irregularly spaced data, the markers will likely not appear evenly
spaced because the actual data points do not coincide with the
theoretical spacing between markers.</p>
<p>When using a start offset to specify the first marker, the offset will
be from the first data point which may be different from the first
the visible data point if the plot is zoomed in.</p>
<p>If zooming in on a plot when using float arguments then the actual
data points that have markers will change because the distance between
markers is always determined from the display-coordinates
axes-bounding-box-diagonal regardless of the actual axes data limits.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_mec">
<code class="descname">set_mec</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_mec" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_markeredgecolor</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_mew">
<code class="descname">set_mew</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_mew" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_markeredgewidth</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_mfc">
<code class="descname">set_mfc</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_mfc" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_markerfacecolor</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_mfcalt">
<code class="descname">set_mfcalt</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_mfcalt" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_markerfacecoloralt</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_ms">
<code class="descname">set_ms</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_ms" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_markersize</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_picker">
<code class="descname">set_picker</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_picker" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the event picker details for the line.</p>
<p>ACCEPTS: float distance in points or callable pick function
<code class="docutils literal notranslate"><span class="pre">fn(artist,</span> <span class="pre">event)</span></code></p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_pickradius">
<code class="descname">set_pickradius</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_pickradius" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the pick radius used for containment tests.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>d</strong> (<em>float</em>) – Pick radius, in points.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_solid_capstyle">
<code class="descname">set_solid_capstyle</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_solid_capstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the cap style for solid linestyles</p>
<p>ACCEPTS: [‘butt’ | ‘round’ |  ‘projecting’]</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_solid_joinstyle">
<code class="descname">set_solid_joinstyle</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_solid_joinstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the join style for solid linestyles
ACCEPTS: [‘miter’ | ‘round’ | ‘bevel’]</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_transform">
<code class="descname">set_transform</code><span class="sig-paren">(</span><em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>set the Transformation instance used by this artist</p>
<p>ACCEPTS: a <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.transforms.Transform</span></code> instance</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_xdata">
<code class="descname">set_xdata</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_xdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the data np.array for x</p>
<p>ACCEPTS: 1D array</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_ydata">
<code class="descname">set_ydata</code><span class="sig-paren">(</span><em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_ydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the data np.array for y</p>
<p>ACCEPTS: 1D array</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.update_from">
<code class="descname">update_from</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.update_from" title="Permalink to this definition">¶</a></dt>
<dd><p>copy properties from other to self</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.validCap">
<code class="descname">validCap</code><em class="property"> = (u'butt', u'round', u'projecting')</em><a class="headerlink" href="#pyspecdata.Line2D.validCap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.validJoin">
<code class="descname">validJoin</code><em class="property"> = (u'miter', u'round', u'bevel')</em><a class="headerlink" href="#pyspecdata.Line2D.validJoin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.zorder">
<code class="descname">zorder</code><em class="property"> = 2</em><a class="headerlink" href="#pyspecdata.Line2D.zorder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.LooseVersion">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">LooseVersion</code><span class="sig-paren">(</span><em>vstring=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LooseVersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">distutils.version.Version</span></code></p>
<p>Version numbering for anarchists and software realists.
Implements the standard interface for version number classes as
described above.  A version number consists of a series of numbers,
separated by either periods or strings of letters.  When comparing
version numbers, the numeric components will be compared
numerically, and the alphabetic components lexically.  The following
are all valid version numbers, in no particular order:</p>
<blockquote>
<div>1.5.1
1.5.2b2
161
3.10a
8.02
3.4j
1996.07.12
3.2.pl0
3.1.1.6
2g6
11g
0.960923
2.2beta29
1.13++
5.5.kw
2.0b1pl0</div></blockquote>
<p>In fact, there is no such thing as an invalid version number under
this scheme; the rules for comparison are simple and predictable,
but may not always give the results you want (for some definition
of “want”).</p>
<dl class="attribute">
<dt id="pyspecdata.LooseVersion.component_re">
<code class="descname">component_re</code><em class="property"> = &lt;_sre.SRE_Pattern object&gt;</em><a class="headerlink" href="#pyspecdata.LooseVersion.component_re" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.LooseVersion.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>vstring</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LooseVersion.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.OLDplot">
<code class="descclassname">pyspecdata.</code><code class="descname">OLDplot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.OLDplot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.PolyCollection">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">PolyCollection</code><span class="sig-paren">(</span><em>verts</em>, <em>sizes=None</em>, <em>closed=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.PolyCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.collections._CollectionWithSizes</span></code></p>
<dl class="method">
<dt id="pyspecdata.PolyCollection.set_paths">
<code class="descname">set_paths</code><span class="sig-paren">(</span><em>verts</em>, <em>closed=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.PolyCollection.set_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>This allows one to delay initialization of the vertices.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.PolyCollection.set_verts">
<code class="descname">set_verts</code><span class="sig-paren">(</span><em>verts</em>, <em>closed=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.PolyCollection.set_verts" title="Permalink to this definition">¶</a></dt>
<dd><p>This allows one to delay initialization of the vertices.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.PolyCollection.set_verts_and_codes">
<code class="descname">set_verts_and_codes</code><span class="sig-paren">(</span><em>verts</em>, <em>codes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.PolyCollection.set_verts_and_codes" title="Permalink to this definition">¶</a></dt>
<dd><p>This allows one to initialize vertices with path codes.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.UnivariateSpline">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">UnivariateSpline</code><span class="sig-paren">(</span><em>x, y, w=None, bbox=[None, None], k=3, s=None, ext=0, check_finite=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>One-dimensional smoothing spline fit to a given set of data points.</p>
<p>Fits a spline y = spl(x) of degree <cite>k</cite> to the provided <cite>x</cite>, <cite>y</cite> data.  <cite>s</cite>
specifies the number of knots by specifying a smoothing condition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>(</em><em>N</em><em>,</em><em>) </em><em>array_like</em>) – 1-D array of independent input data. Must be increasing.</li>
<li><strong>y</strong> (<em>(</em><em>N</em><em>,</em><em>) </em><em>array_like</em>) – 1-D array of dependent input data, of the same length as <cite>x</cite>.</li>
<li><strong>w</strong> (<em>(</em><em>N</em><em>,</em><em>) </em><em>array_like</em><em>, </em><em>optional</em>) – Weights for spline fitting.  Must be positive.  If None (default),
weights are all equal.</li>
<li><strong>bbox</strong> (<em>(</em><em>2</em><em>,</em><em>) </em><em>array_like</em><em>, </em><em>optional</em>) – 2-sequence specifying the boundary of the approximation interval. If
None (default), <code class="docutils literal notranslate"><span class="pre">bbox=[x[0],</span> <span class="pre">x[-1]]</span></code>.</li>
<li><strong>k</strong> (<em>int</em><em>, </em><em>optional</em>) – Degree of the smoothing spline.  Must be &lt;= 5.
Default is k=3, a cubic spline.</li>
<li><strong>s</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>Positive smoothing factor used to choose the number of knots.  Number
of knots will be increased until the smoothing condition is satisfied:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">((</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">spl</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">s</span>
</pre></div>
</div>
<p>If None (default), <code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">len(w)</span></code> which should be a good value if
<code class="docutils literal notranslate"><span class="pre">1/w[i]</span></code> is an estimate of the standard deviation of <code class="docutils literal notranslate"><span class="pre">y[i]</span></code>.
If 0, spline will interpolate through all data points.</p>
</li>
<li><strong>ext</strong> (<em>int</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – <p>Controls the extrapolation mode for elements
not in the interval defined by the knot sequence.</p>
<ul>
<li>if ext=0 or ‘extrapolate’, return the extrapolated value.</li>
<li>if ext=1 or ‘zeros’, return 0</li>
<li>if ext=2 or ‘raise’, raise a ValueError</li>
<li>if ext=3 of ‘const’, return the boundary value.</li>
</ul>
<p>The default value is 0.</p>
</li>
<li><strong>check_finite</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to check that the input arrays contain only finite numbers.
Disabling may give a performance gain, but may result in problems
(crashes, non-termination or non-sensical results) if the inputs
do contain infinities or NaNs.
Default is False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">InterpolatedUnivariateSpline</span></code></dt>
<dd>Subclass with smoothing forced to 0</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">LSQUnivariateSpline</span></code></dt>
<dd>Subclass in which knots are user-selected instead of being set by smoothing condition</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">splrep</span></code></dt>
<dd>An older, non object-oriented wrapping of FITPACK</dd>
</dl>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">splev</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sproot</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">splint</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">spalde</span></code></p>
<dl class="last docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">BivariateSpline</span></code></dt>
<dd>A similar class for two-dimensional spline interpolation</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The number of data points must be larger than the spline degree <cite>k</cite>.</p>
<p><strong>NaN handling</strong>: If the input arrays contain <code class="docutils literal notranslate"><span class="pre">nan</span></code> values, the result
is not useful, since the underlying spline fitting routines cannot deal
with <code class="docutils literal notranslate"><span class="pre">nan</span></code> . A workaround is to use zero weights for not-a-number
data points:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="k">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="p">[</span><span class="n">w</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="o">=~</span><span class="n">w</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice the need to replace a <code class="docutils literal notranslate"><span class="pre">nan</span></code> by a numerical value (precise value
does not matter as long as the corresponding weight is zero.)</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="k">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;ro&#39;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>Use the default value for the smoothing parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">spl</span><span class="p">(</span><span class="n">xs</span><span class="p">),</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>Manually change the amount of smoothing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">set_smoothing_factor</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">spl</span><span class="p">(</span><span class="n">xs</span><span class="p">),</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="pyspecdata.UnivariateSpline.antiderivative">
<code class="descname">antiderivative</code><span class="sig-paren">(</span><em>n=1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.antiderivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new spline representing the antiderivative of this spline.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em><em>, </em><em>optional</em>) – Order of antiderivative to evaluate. Default: 1</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>spline</strong> – Spline of order k2=k+n representing the antiderivative of this
spline.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#pyspecdata.UnivariateSpline" title="pyspecdata.UnivariateSpline">UnivariateSpline</a></td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.13.0.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal notranslate"><span class="pre">splantider()</span></code>, <a class="reference internal" href="#pyspecdata.UnivariateSpline.derivative" title="pyspecdata.UnivariateSpline.derivative"><code class="xref py py-meth docutils literal notranslate"><span class="pre">derivative()</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="k">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mf">0.8</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>The derivative is the inverse operation of the antiderivative,
although some floating point error accumulates:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="p">(</span><span class="mf">1.7</span><span class="p">),</span> <span class="n">spl</span><span class="o">.</span><span class="n">antiderivative</span><span class="p">()</span><span class="o">.</span><span class="n">derivative</span><span class="p">()(</span><span class="mf">1.7</span><span class="p">)</span>
<span class="go">(array(2.1565429877197317), array(2.1565429877201865))</span>
</pre></div>
</div>
<p>Antiderivative can be used to evaluate definite integrals:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ispl</span> <span class="o">=</span> <span class="n">spl</span><span class="o">.</span><span class="n">antiderivative</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ispl</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="n">ispl</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">2.2572053588768486</span>
</pre></div>
</div>
<p>This is indeed an approximation to the complete elliptic integral
<span class="math notranslate nohighlight">\(K(m) = \int_0^{\pi/2} [1 - m\sin^2 x]^{-1/2} dx\)</span>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.special</span> <span class="k">import</span> <span class="n">ellipk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ellipk</span><span class="p">(</span><span class="mf">0.8</span><span class="p">)</span>
<span class="go">2.2572053268208538</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.derivative">
<code class="descname">derivative</code><span class="sig-paren">(</span><em>n=1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new spline representing the derivative of this spline.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em><em>, </em><em>optional</em>) – Order of derivative to evaluate. Default: 1</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>spline</strong> – Spline of order k2=k-n representing the derivative of this
spline.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#pyspecdata.UnivariateSpline" title="pyspecdata.UnivariateSpline">UnivariateSpline</a></td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal notranslate"><span class="pre">splder()</span></code>, <a class="reference internal" href="#pyspecdata.UnivariateSpline.antiderivative" title="pyspecdata.UnivariateSpline.antiderivative"><code class="xref py py-meth docutils literal notranslate"><span class="pre">antiderivative()</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.13.0.</span></p>
</div>
<p class="rubric">Examples</p>
<p>This can be used for finding maxima of a curve:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="k">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, differentiate the spline and find the zeros of the
derivative. (NB: <cite>sproot</cite> only works for order 3 splines, so we
fit an order 4 spline):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">derivative</span><span class="p">()</span><span class="o">.</span><span class="n">roots</span><span class="p">()</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
<span class="go">array([ 0.50000001,  1.5       ,  2.49999998])</span>
</pre></div>
</div>
<p>This agrees well with roots <span class="math notranslate nohighlight">\(\pi/2 + n\pi\)</span> of
<span class="math notranslate nohighlight">\(\cos(x) = \sin'(x)\)</span>.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.derivatives">
<code class="descname">derivatives</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.derivatives" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all derivatives of the spline at the point x.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong> (<em>float</em>) – The point to evaluate the derivatives at.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>der</strong> – Derivatives of the orders 0 to k.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">ndarray, shape(k+1,)</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="k">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">derivatives</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
<span class="go">array([2.25, 3.0, 2.0, 0])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.get_coeffs">
<code class="descname">get_coeffs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.get_coeffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return spline coefficients.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.get_knots">
<code class="descname">get_knots</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.get_knots" title="Permalink to this definition">¶</a></dt>
<dd><p>Return positions of interior knots of the spline.</p>
<p>Internally, the knot vector contains <code class="docutils literal notranslate"><span class="pre">2*k</span></code> additional boundary knots.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.get_residual">
<code class="descname">get_residual</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.get_residual" title="Permalink to this definition">¶</a></dt>
<dd><p>Return weighted sum of squared residuals of the spline approximation.</p>
<p>This is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">((</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">spl</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.integral">
<code class="descname">integral</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.integral" title="Permalink to this definition">¶</a></dt>
<dd><p>Return definite integral of the spline between two given points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a</strong> (<em>float</em>) – Lower limit of integration.</li>
<li><strong>b</strong> (<em>float</em>) – Upper limit of integration.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>integral</strong> – The value of the definite integral of the spline between limits.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="k">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">9.0</span>
</pre></div>
</div>
<p>which agrees with <span class="math notranslate nohighlight">\(\int x^2 dx = x^3 / 3\)</span> between the limits
of 0 and 3.</p>
<p>A caveat is that this routine assumes the spline to be zero outside of
the data limits:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">9.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.roots">
<code class="descname">roots</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.roots" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the zeros of the spline.</p>
<p>Restriction: only cubic splines are supported by fitpack.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.set_smoothing_factor">
<code class="descname">set_smoothing_factor</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.set_smoothing_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Continue spline computation with the given smoothing
factor s and with the knots found at the last call.</p>
<p>This routine modifies the spline in place.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.addlabels">
<code class="descclassname">pyspecdata.</code><code class="descname">addlabels</code><span class="sig-paren">(</span><em>labelstring</em>, <em>x</em>, <em>y</em>, <em>labels</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.addlabels" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – use plot_label_points</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.apply_oom">
<code class="descclassname">pyspecdata.</code><code class="descname">apply_oom</code><span class="sig-paren">(</span><em>average_oom</em>, <em>numbers</em>, <em>prev_label=''</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.apply_oom" title="Permalink to this definition">¶</a></dt>
<dd><p>scale numbers by the order of magnitude average_oom and change the
label prev_label by adding the appropriate SI prefix</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.applyto_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">applyto_rec</code><span class="sig-paren">(</span><em>myfunc</em>, <em>myarray</em>, <em>mylist</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.applyto_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>apply myfunc to myarray with the intention of collapsing it to a smaller number of values</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.autolegend">
<code class="descclassname">pyspecdata.</code><code class="descname">autolegend</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.autolegend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.autopad_figure">
<code class="descclassname">pyspecdata.</code><code class="descname">autopad_figure</code><span class="sig-paren">(</span><em>pad=0.2</em>, <em>centered=False</em>, <em>figname='unknown'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.autopad_figure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.autostringconvert">
<code class="descclassname">pyspecdata.</code><code class="descname">autostringconvert</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.autostringconvert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.box_muller">
<code class="descclassname">pyspecdata.</code><code class="descname">box_muller</code><span class="sig-paren">(</span><em>length</em>, <em>return_complex=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.box_muller" title="Permalink to this definition">¶</a></dt>
<dd><p>algorithm to generate normally distributed noise</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.bruker_load_t1_axis">
<code class="descclassname">pyspecdata.</code><code class="descname">bruker_load_t1_axis</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.bruker_load_t1_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.bruker_load_title">
<code class="descclassname">pyspecdata.</code><code class="descname">bruker_load_title</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.bruker_load_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.check_ascending_axis">
<code class="descclassname">pyspecdata.</code><code class="descname">check_ascending_axis</code><span class="sig-paren">(</span><em>u</em>, <em>tolerance=1e-07</em>, <em>additional_message=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.check_ascending_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the array <cite>u</cite> is ascending and equally spaced, and return the
spacing, <cite>du</cite>.  This is a common check needed for FT functions, shears,
etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tolerance</strong> (<em>double</em>) – The relative variation in <cite>du</cite> that is allowed.
Defaults to 1e-7.</li>
<li><strong>additional_message</strong> (<em>str</em>) – So that the user can easily figure out where the assertion error is
coming from, supply some extra text for the respective message.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>du</strong> – the spacing between the elements of u</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">double</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.colormap">
<code class="descclassname">pyspecdata.</code><code class="descname">colormap</code><span class="sig-paren">(</span><em>points</em>, <em>colors</em>, <em>n=256</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.colormap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.complex_str">
<code class="descclassname">pyspecdata.</code><code class="descname">complex_str</code><span class="sig-paren">(</span><em>arg</em>, <em>fancy_format=False</em>, <em>format_code='%.4g'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.complex_str" title="Permalink to this definition">¶</a></dt>
<dd><p>render a complex string – leaving out imaginary if it’s real</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.concat">
<code class="descclassname">pyspecdata.</code><code class="descname">concat</code><span class="sig-paren">(</span><em>datalist</em>, <em>dimname</em>, <em>chop=False</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.concat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.contour_plot">
<code class="descclassname">pyspecdata.</code><code class="descname">contour_plot</code><span class="sig-paren">(</span><em>xvals</em>, <em>yvals</em>, <em>zvals</em>, <em>color='k'</em>, <em>alpha=1.0</em>, <em>npts=300</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.contour_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.copy_maybe_none">
<code class="descclassname">pyspecdata.</code><code class="descname">copy_maybe_none</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.copy_maybe_none" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.cw">
<code class="descclassname">pyspecdata.</code><code class="descname">cw</code><span class="sig-paren">(</span><em>file</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.cw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.decorate_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">decorate_rec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.decorate_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate the rows in A with information in B –&gt; if names overlap,
keep the ones in A
b_ind and a_ind can be either a single key, or a list of keys;
if more than one element in B matches that in A, include both options!!</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.deepcopy">
<code class="descclassname">pyspecdata.</code><code class="descname">deepcopy</code><span class="sig-paren">(</span><em>x</em>, <em>memo=None</em>, <em>_nil=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.deepcopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Deep copy operation on arbitrary Python objects.</p>
<p>See the module’s __doc__ string for more info.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.dp">
<code class="descclassname">pyspecdata.</code><code class="descname">dp</code><span class="sig-paren">(</span><em>number</em>, <em>decimalplaces</em>, <em>scientific=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.dp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.drop_fields">
<code class="descclassname">pyspecdata.</code><code class="descname">drop_fields</code><span class="sig-paren">(</span><em>base</em>, <em>drop_names</em>, <em>usemask=True</em>, <em>asrecarray=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.drop_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new array with fields in <cite>drop_names</cite> dropped.</p>
<p>Nested fields are supported.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>base</strong> (<em>array</em>) – Input array</li>
<li><strong>drop_names</strong> (<em>string</em><em> or </em><em>sequence</em>) – String or sequence of strings corresponding to the names of the
fields to drop.</li>
<li><strong>usemask</strong> (<em>{False</em><em>, </em><em>True}</em><em>, </em><em>optional</em>) – Whether to return a masked array or not.</li>
<li><strong>asrecarray</strong> (<em>string</em><em> or </em><em>sequence</em><em>, </em><em>optional</em>) – Whether to return a recarray or a mrecarray (<cite>asrecarray=True</cite>) or
a plain ndarray or masked array with flexible dtype. The default
is False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.lib</span> <span class="k">import</span> <span class="n">recfunctions</span> <span class="k">as</span> <span class="n">rfn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">)),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">))],</span>
<span class="gp">... </span>  <span class="n">dtype</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;ba&#39;</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;bb&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">)])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span><span class="o">.</span><span class="n">drop_fields</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">array([((2.0, 3),), ((5.0, 6),)],</span>
<span class="go">      dtype=[(&#39;b&#39;, [(&#39;ba&#39;, &#39;&lt;f8&#39;), (&#39;bb&#39;, &#39;&lt;i4&#39;)])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span><span class="o">.</span><span class="n">drop_fields</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;ba&#39;</span><span class="p">)</span>
<span class="go">array([(1, (3,)), (4, (6,))],</span>
<span class="go">      dtype=[(&#39;a&#39;, &#39;&lt;i4&#39;), (&#39;b&#39;, [(&#39;bb&#39;, &#39;&lt;i4&#39;)])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span><span class="o">.</span><span class="n">drop_fields</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;ba&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">])</span>
<span class="go">array([(1,), (4,)],</span>
<span class="go">      dtype=[(&#39;a&#39;, &#39;&lt;i4&#39;)])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.emptyfunction">
<code class="descclassname">pyspecdata.</code><code class="descname">emptyfunction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.emptyfunction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.emptytest">
<code class="descclassname">pyspecdata.</code><code class="descname">emptytest</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.emptytest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.exc_info">
<code class="descclassname">pyspecdata.</code><code class="descname">exc_info</code><span class="sig-paren">(</span><em>) -&gt; (type</em>, <em>value</em>, <em>traceback</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.exc_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Return information about the most recent exception caught by an except
clause in the current stack frame or in an older stack frame.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.exp">
<code class="descclassname">pyspecdata.</code><code class="descname">exp</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.exp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.expand_x">
<code class="descclassname">pyspecdata.</code><code class="descname">expand_x</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.expand_x" title="Permalink to this definition">¶</a></dt>
<dd><p>expand the axes.  If an argument is passed, then it refers to the position relative to the current coordinates.  Values can be:
:0: set this side of the axis to 0
:None: leave this side of the axis alone
:a double: rescale the distance from the center of the axis to this side by this number</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.expand_y">
<code class="descclassname">pyspecdata.</code><code class="descname">expand_y</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.expand_y" title="Permalink to this definition">¶</a></dt>
<dd><p>expand the axes.  If an argument is passed, then it refers to the position relative to the current coordinates.  Values can be:
:0: set this side of the axis to 0
:None: leave this side of the axis alone
:a double: rescale the distance from the center of the axis to this side by this number</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.explain_error">
<code class="descclassname">pyspecdata.</code><code class="descname">explain_error</code><span class="sig-paren">(</span><em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.explain_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows you to wrap existing errors with more explanation</p>
<blockquote>
<div><p>For example:</p>
<p>&gt;    except BaseException  as e:
&gt;        raise IndexError(“I can’t find the node “+pathstring+explain_error(e))
&gt;                + ‘</p>
</div></blockquote>
<p>‘.join([‘&gt;      ‘+j for j in str(e).split(‘
‘)]))# this indents</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.fa">
<code class="descclassname">pyspecdata.</code><code class="descname">fa</code><span class="sig-paren">(</span><em>input</em>, <em>dtype='complex128'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fa" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fftconvolve">
<code class="descclassname">pyspecdata.</code><code class="descname">fftconvolve</code><span class="sig-paren">(</span><em>in1</em>, <em>in2</em>, <em>mode='full'</em>, <em>axes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fftconvolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve two N-dimensional arrays using FFT.</p>
<p>Convolve <cite>in1</cite> and <cite>in2</cite> using the fast Fourier transform method, with
the output size determined by the <cite>mode</cite> argument.</p>
<p>This is generally much faster than <cite>convolve</cite> for large arrays (n &gt; ~500),
but can be slower when only a few output values are needed, and can only
output float arrays (int or object array inputs will be cast to float).</p>
<p>As of v0.19, <cite>convolve</cite> automatically chooses this method or the direct
method based on an estimation of which is faster.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>in1</strong> (<em>array_like</em>) – First input.</li>
<li><strong>in2</strong> (<em>array_like</em>) – Second input. Should have the same number of dimensions as <cite>in1</cite>.</li>
<li><strong>mode</strong> (<em>str {'full'</em><em>, </em><em>'valid'</em><em>, </em><em>'same'}</em><em>, </em><em>optional</em>) – <p>A string indicating the size of the output:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">full</span></code></dt>
<dd>The output is the full discrete linear convolution
of the inputs. (Default)</dd>
<dt><code class="docutils literal notranslate"><span class="pre">valid</span></code></dt>
<dd>The output consists only of those elements that do not
rely on the zero-padding. In ‘valid’ mode, either <cite>in1</cite> or <cite>in2</cite>
must be at least as large as the other in every dimension.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">same</span></code></dt>
<dd>The output is the same size as <cite>in1</cite>, centered
with respect to the ‘full’ output.
axis : tuple, optional</dd>
</dl>
</li>
<li><strong>axes</strong> (<em>int</em><em> or </em><em>array_like of ints</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Axes over which to compute the convolution.
The default is over all axes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> – An N-dimensional array containing a subset of the discrete linear
convolution of <cite>in1</cite> with <cite>in2</cite>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Autocorrelation of white noise is an impulse.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy</span> <span class="k">import</span> <span class="n">signal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sig</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">autocorr</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">fftconvolve</span><span class="p">(</span><span class="n">sig</span><span class="p">,</span> <span class="n">sig</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax_orig</span><span class="p">,</span> <span class="n">ax_mag</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;White noise&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_mag</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">sig</span><span class="p">)),</span> <span class="n">autocorr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_mag</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Autocorrelation&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Gaussian blur implemented using FFT convolution.  Notice the dark borders
around the image, due to the zero-padding beyond its boundaries.
The <cite>convolve2d</cite> function allows for other types of image boundaries,
but is far slower.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy</span> <span class="k">import</span> <span class="n">misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">face</span> <span class="o">=</span> <span class="n">misc</span><span class="o">.</span><span class="n">face</span><span class="p">(</span><span class="n">gray</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kernel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">outer</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">gaussian</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">signal</span><span class="o">.</span><span class="n">gaussian</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">blurred</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">fftconvolve</span><span class="p">(</span><span class="n">face</span><span class="p">,</span> <span class="n">kernel</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;same&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax_orig</span><span class="p">,</span> <span class="n">ax_kernel</span><span class="p">,</span> <span class="n">ax_blurred</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>                                                     <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">face</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_kernel</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">kernel</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_kernel</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Gaussian kernel&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_kernel</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_blurred</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">blurred</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_blurred</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Blurred&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_blurred</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="pyspecdata.figlist">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">figlist</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="pyspecdata.figlist.basename">
<code class="descname">basename</code><a class="headerlink" href="#pyspecdata.figlist.basename" title="Permalink to this definition">¶</a></dt>
<dd><p>A basename that can be changed to generate different sets of figures with different basenames.
For example, this is useful if you are looping over different sets of data,
and generating the same set of figures for each set of data (which would correspond to a basename).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figurelist">
<code class="descname">figurelist</code><a class="headerlink" href="#pyspecdata.figlist.figurelist" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the figure names</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figdict">
<code class="descname">figdict</code><a class="headerlink" href="#pyspecdata.figlist.figdict" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary containing the figurelist and the figure numbers or objects that they correspond to.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.propdict">
<code class="descname">propdict</code><a class="headerlink" href="#pyspecdata.figlist.propdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Maintains various properties for each element in figurelist.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.adjust_spines">
<code class="descname">adjust_spines</code><span class="sig-paren">(</span><em>spines</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.adjust_spines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.check_units">
<code class="descname">check_units</code><span class="sig-paren">(</span><em>testdata</em>, <em>x_index</em>, <em>y_index</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.check_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.generate_ticks">
<code class="descname">generate_ticks</code><span class="sig-paren">(</span><em>plotdata</em>, <em>axes</em>, <em>rescale</em>, <em>z_norm=None</em>, <em>y_rescale=1</em>, <em>text_scale=0.05</em>, <em>verbose=False</em>, <em>follow_surface=False</em>, <em>lensoffset=0.005</em>, <em>line_width=0.001</em>, <em>tube_radius=0.001</em>, <em>fine_grid=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.generate_ticks" title="Permalink to this definition">¶</a></dt>
<dd><p>generate 3d ticks and grid for mayavi</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.get_fig_number">
<code class="descname">get_fig_number</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.get_fig_number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.grid">
<code class="descname">grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.grid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.header">
<code class="descname">header</code><span class="sig-paren">(</span><em>number_above</em>, <em>input_string</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.image">
<code class="descname">image</code><span class="sig-paren">(</span><em>A</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Called as <cite>fl.image()</cite> where <cite>fl</cite> is the <cite>figlist_var</cite>
object</p>
<p>Note that this code just wraps the figlist properties, and
the heavy lifting is done by the <cite>image(</cite> function.
Together, the effect is as follows:</p>
<ul>
<li><p class="first"><cite>check_units</cite> converts to human-readable units, and
makes sure they match the units already used in the plot.</p>
</li>
<li><p class="first">if <cite>A</cite> has more than two dimensions, the final dimension in
<cite>A.dimlabels</cite> is used as the column dimension, and a
direct-product of all non-column dimensions (a Kronecker
product, such that the innermost index comes the latest in
the list <cite>A.dimlabels</cite>) is used as the row dimension. A
white/black line is drawn after the innermost index used to
create the direct product is finished iterating.</p>
</li>
<li><p class="first">If <cite>A</cite> consists of complex data, then an HSV plot
(misnomer, actually an HV plot) is used:
- convert to polar form: <span class="math notranslate nohighlight">\(z=\rho \exp(i \phi)\)</span>
- <span class="math notranslate nohighlight">\(\phi\)</span> determines the color (Hue)</p>
<blockquote>
<div><ul class="simple">
<li>Color wheel is cyclical, like <span class="math notranslate nohighlight">\(\exp(i \phi)\)</span></li>
<li>red is taken as <span class="math notranslate nohighlight">\(\phi=0\)</span>, purely real and positive</li>
<li>green-blue is <span class="math notranslate nohighlight">\(pi\)</span> radians out of phase with red and
therefore negative real</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first"><span class="math notranslate nohighlight">\(\rho\)</span> determines the intensity (value)
- Depending on whether or not <cite>black</cite> is set (either as a</p>
<blockquote>
<div><p>keyword argument, or <cite>fl.black</cite>, the background will be
black with high <span class="math notranslate nohighlight">\(\rho\)</span> values “lit up” (intended for
screen plotting) or the background will be white with
the high <span class="math notranslate nohighlight">\(\rho\)</span> values “colored in” (intended for
printing)</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p class="first">If the data type (<cite>dtype</cite>) of the data in <cite>A</cite> is real
(typically achieved by calling <cite>abs(A)</cite> or
<cite>A.runcopy(real)</cite>), then <cite>A</cite> is plotted with a colormap and
corresponding colorbar.</p>
</li>
<li><p class="first">If no title has been given, it’s set to the name of the
current plot in the figurelist</p>
</li>
</ul>
<dl class="attribute">
<dt id="pyspecdata.figlist.A">
<code class="descname">A</code><a class="headerlink" href="#pyspecdata.figlist.A" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata">nddata</a> or numpy array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.x">
<code class="descname">x</code><a class="headerlink" href="#pyspecdata.figlist.x" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the x axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Optional[double] or Optional[scalar]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.y">
<code class="descname">y</code><a class="headerlink" href="#pyspecdata.figlist.y" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the y axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Optional[double] or Optional[scalar]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.x_first">
<code class="descname">x_first</code><a class="headerlink" href="#pyspecdata.figlist.x_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Since it’s designed to represent matrices, an image plot
by defaults is “transposed” relative to all other plots.
If you want the first dimension on the x-axis (<em>e.g.</em>, if
you are plotting a contour plot on top of an image), then set
<cite>x_first</cite> to <cite>True</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.spacing">
<code class="descname">spacing</code><a class="headerlink" href="#pyspecdata.figlist.spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the size of the white/black line drawn
Defaults to 1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.ax">
<code class="descname">ax</code><a class="headerlink" href="#pyspecdata.figlist.ax" title="Permalink to this definition">¶</a></dt>
<dd><p>the Axis object where the plot should go.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">matplotlib Axes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">all remaning</code></dt>
<dd><p>are passed through to matplotlib <cite>imshow</cite></p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.origin">
<code class="descname">origin</code><a class="headerlink" href="#pyspecdata.figlist.origin" title="Permalink to this definition">¶</a></dt>
<dd><p>upper and lower are passed to matplotlib.
Flip is for 2D nmr, and flips the data manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">{‘upper’, ‘lower’, ‘flip’}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">.. code-block:: python</code></dt>
<dd><p>from pyspecdata import *
fl = figlist_var()</p>
<p>t = r_[-1:1:300j]
x = nddata(t,[-1],[‘x’]).labels(‘x’,t)
y = nddata(t,[-1],[‘y’]).labels(‘y’,t)</p>
<p>z = x**2 + 2*y**2
print “dimlabels of z:”,z.dimlabels</p>
<p>fl.next(‘image with contours’)
fl.image(z,x_first = True) #  x_first is needed to align
#                             with the contour plot
z.contour(colors = ‘w’,alpha = 0.75)</p>
<p>fl.next(‘simple plot’) #  just to show that x is the same
#                         here as well
fl.plot(z[‘y’:(0,0.01)])</p>
<p>fl.show(‘compare_image_contour_150911.pdf’)</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.label_point">
<code class="descname">label_point</code><span class="sig-paren">(</span><em>data</em>, <em>axis</em>, <em>value</em>, <em>thislabel</em>, <em>show_point=True</em>, <em>xscale=1</em>, <em>**new_kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.label_point" title="Permalink to this definition">¶</a></dt>
<dd><p>only works for 1D data: assume you’ve passed a single-point nddata, and label it</p>
<p>xscale gives the unit scaling</p>
<p>..todo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Improve</span> <span class="n">the</span> <span class="n">unit</span> <span class="n">scaling</span><span class="p">,</span> <span class="n">so</span> <span class="n">that</span> <span class="n">this</span> <span class="n">would</span> <span class="n">also</span> <span class="n">work</span><span class="o">.</span>

<span class="n">Allow</span> <span class="n">it</span> <span class="n">to</span> <span class="n">include</span> <span class="n">a</span> <span class="nb">format</span> <span class="n">string</span> <span class="n">that</span> <span class="n">would</span> <span class="n">use</span> <span class="n">the</span> <span class="n">value</span><span class="o">.</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>show_point</strong> (<em>bool</em>) – Defaults to <cite>True</cite>. Actually generate a point (circle), <em>vs.</em>
just the label.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.marked_text">
<code class="descname">marked_text</code><span class="sig-paren">(</span><em>marker</em>, <em>input_text=''</em>, <em>sep='\n'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.marked_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a named <cite>marker</cite> where we can place text.   If <cite>marker</cite>
has been used, goes back and places text there.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.mesh">
<code class="descname">mesh</code><span class="sig-paren">(</span><em>plotdata</em>, <em>Z_normalization=None</em>, <em>equal_scale=True</em>, <em>lensoffset=0.001</em>, <em>show_contours=False</em>, <em>grey_surf=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.mesh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.next">
<code class="descname">next</code><span class="sig-paren">(</span><em>input_name</em>, <em>legend=False</em>, <em>boundaries=None</em>, <em>twinx=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to the figure given by input_name, which is used not only as
a string-based name for the figure, but also as a default title and as
a base name for resulting figure files.</p>
<p><strong>In the future, we actually want this to track the appropriate axis object!</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>legend</strong> (<em>bool</em>) – If this is set, a legend is created <em>outside</em> the figure.</li>
<li><strong>twinx</strong> (<em>{0</em><em>,</em><em>1}</em>) – <table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">1:</th><td class="field-body">plots on an overlayed axis (the matplotlib twinx) whose y axis
is labeled on the right when you set this for the first time, you
can also set a <cite>color</cite> kwarg that controls the coloring of the
right axis.</td>
</tr>
<tr class="field-even field"><th class="field-name">0:</th><td class="field-body">used to switch back to the left (default) axis</td>
</tr>
</tbody>
</table>
</li>
<li><strong>boundaries</strong> – <strong>need to add description</strong></li>
<li><strong>kwargs</strong> (<em>dict</em>) – Any other keyword arguments are passed to the matplotlib (mayavi)
figure() function that’s used to switch (create) figures.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.phaseplot_finalize">
<code class="descname">phaseplot_finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.phaseplot_finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs plot decorations that are typically desired for a manual phasing plot.  This assumes that the <code class="docutils literal notranslate"><span class="pre">y</span></code>-axis is given in units of half-cycles ($pi$ radians).</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.plot" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>linestyle</strong> (<em>{':'</em><em>,</em><em>'--'</em><em>,</em><em>'.'</em><em>,</em><em>'etc.'}</em>) – the style of the line</li>
<li><strong>plottype</strong> (<em>{'semilogy'</em><em>,</em><em>'semilogx'</em><em>,</em><em>'loglog'}</em>) – Select a logarithmic plotting style.</li>
<li><strong>nosemilog</strong> (<em>True</em>) – Typically, if you supply a log-spaced axis,
a semilogx plot will be automatically selected.
This overrides that behavior.
Defaults to False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.pop_marker">
<code class="descname">pop_marker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.pop_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.push_marker">
<code class="descname">push_marker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.push_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.setprops">
<code class="descname">setprops</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.setprops" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.show_prep">
<code class="descname">show_prep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.show_prep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.text">
<code class="descname">text</code><span class="sig-paren">(</span><em>mytext</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.twinx">
<code class="descname">twinx</code><span class="sig-paren">(</span><em>autopad=False</em>, <em>orig=False</em>, <em>color=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.twinx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.use_autolegend">
<code class="descname">use_autolegend</code><span class="sig-paren">(</span><em>value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.use_autolegend" title="Permalink to this definition">¶</a></dt>
<dd><p>No argument sets to true if it’s not already set</p>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist_var">
<code class="descclassname">pyspecdata.</code><code class="descname">figlist_var</code><a class="headerlink" href="#pyspecdata.figlist_var" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="../generated/pyspecdata.core.figlist.html#pyspecdata.core.figlist" title="pyspecdata.core.figlist"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.figlist</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.figlistini">
<code class="descclassname">pyspecdata.</code><code class="descname">figlistini</code><span class="sig-paren">(</span><em>first_figure</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlistini" title="Permalink to this definition">¶</a></dt>
<dd><p>processes a figure list argument:
typically, you want to have a figure_list keyword argument for every function, which is by default set to None, then call this on the argument – it always returns a figure list, creating a new one if required
similarly, somewhere I have another guy that processes the output, so that if it’s set to None, it will by default dump and show the figure list,
and not return a figure list in the output</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.figlistini_old">
<code class="descclassname">pyspecdata.</code><code class="descname">figlistini_old</code><span class="sig-paren">(</span><em>first_figure</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlistini_old" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.figlistret">
<code class="descclassname">pyspecdata.</code><code class="descname">figlistret</code><span class="sig-paren">(</span><em>first_figure</em>, <em>figure_list</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlistret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.find_file">
<code class="descclassname">pyspecdata.</code><code class="descname">find_file</code><span class="sig-paren">(</span><em>searchstring</em>, <em>exp_type=None</em>, <em>postproc=None</em>, <em>print_result=True</em>, <em>verbose=False</em>, <em>prefilter=None</em>, <em>expno=None</em>, <em>dimname=''</em>, <em>return_acq=False</em>, <em>add_sizes=[]</em>, <em>add_dims=[]</em>, <em>use_sweep=None</em>, <em>indirect_dimlabels=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.find_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the file  given by the regular expression <cite>searchstring</cite> inside the directory identified by <cite>exp_type</cite>, load the nddata object, and postprocess with the function <cite>postproc</cite>.</p>
<p>It looks at the top level of the directory first, and if that fails, starts to look recursively.
Whenever it finds a file in the current directory, it will not return data from files in the directories underneath.</p>
<p>It calls <a class="reference internal" href="../temp_stubs.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a>, which finds the specific routine from inside one of the modules (sub-packages) associated with a particular file-type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>searchstring</strong> (<em>str</em>) – Most commonly, this is just a fragment of the file name,
with any literal <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">.</span></code>, or <code class="docutils literal notranslate"><span class="pre">?</span></code> characters preceded by
a backslash.
More generally, it is a regular expression,
where <code class="docutils literal notranslate"><span class="pre">.*searchstring.*</span></code> matches a filename inside the
directory appropriate for <cite>exp_type</cite>.</li>
<li><strong>expno</strong> (<em>int</em>) – For Bruker NMR and Prospa files, where the files are stored in numbered
subdirectories,
give the number of the subdirectory that you want.
Currently, this parameter is needed to load Bruker and Kea files.
If it finds multiple files that match the regular expression,
it will try to load this experiment number from all the directories.</li>
<li><strong>exp_type</strong> (<em>str</em>) – Since the function assumes that you have different types of
experiments sorted into different directories, this argument
specifies the type of experiment see <a class="reference internal" href="#pyspecdata.datadir.getDATADIR" title="pyspecdata.datadir.getDATADIR"><code class="xref py py-func docutils literal notranslate"><span class="pre">getDATADIR()</span></code></a> for
more info.</li>
<li><strong>postproc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a><em>, </em><em>str</em><em>, or </em><em>None</em>) – <p>This function is fed the nddata data and the remaining keyword
arguments (<cite>kwargs</cite>) as arguments.
It’s assumed that each module for each different file type
provides a dictionary called <cite>postproc_lookup</cite>.
If <cite>postproc</cite> is a string,
it looks up the string inside the <cite>postproc_lookup</cite>
dictionary that’s appropriate for the file type.
If <cite>postproc</cite> is None,
it checks to see if the any of the loading functions that were
called set the <cite>postproc_type</cite> property
– <em>i.e.</em> it checks the value of
<code class="docutils literal notranslate"><span class="pre">data.get_prop('postproc_type')</span></code> –
if this is set, it uses this as a key
to pull the corresponding value from <cite>postproc_lookup</cite>.</p>
<p>For instance, when the acert module loads an ACERT HDF5 file,
it sets <cite>postproc_type</cite> to the value of
<code class="docutils literal notranslate"><span class="pre">(h5</span> <span class="pre">root).experiment.description['class']</span></code>.
This, in turn, is used to choose the type of post-processing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">dimname:</th><td class="field-body">passed to <a class="reference internal" href="../temp_stubs.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">return_acq:</th><td class="field-body">passed to <a class="reference internal" href="../temp_stubs.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">add_sizes:</th><td class="field-body">passed to <a class="reference internal" href="../temp_stubs.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">add_dims:</th><td class="field-body">passed to <a class="reference internal" href="../temp_stubs.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">use_sweep:</th><td class="field-body">passed to <a class="reference internal" href="../temp_stubs.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">indirect_dimlabels:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">passed to <a class="reference internal" href="../temp_stubs.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></td>
</tr>
</tbody>
</table>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pyspecdata.fitdata">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">fitdata</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
<dl class="method">
<dt id="pyspecdata.fitdata.add_inactive_p">
<code class="descname">add_inactive_p</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.add_inactive_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.analytical_covariance">
<code class="descname">analytical_covariance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.analytical_covariance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.bootstrap">
<code class="descname">bootstrap</code><span class="sig-paren">(</span><em>points</em>, <em>swap_out=None</em>, <em>seedval=10347</em>, <em>minbounds={}</em>, <em>maxbounds={}</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.bootstrap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full copy of this instance.</p>
<p>Because methods typically change the data in place, you might want to
use this frequently.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>boolean</em>) – <p>Default to True.
False doesn’t copy the data – this is for internal use,
<em>e.g.</em> when you want to copy all the metadata and perform a
calculation on the data.</p>
<p>The code for this also provides the definitive list of the
nddata metadata.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.covar">
<code class="descname">covar</code><span class="sig-paren">(</span><em>*names</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.covar" title="Permalink to this definition">¶</a></dt>
<dd><p>give the covariance for the different symbols</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.covarmat">
<code class="descname">covarmat</code><span class="sig-paren">(</span><em>*names</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.covarmat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.errfunc">
<code class="descname">errfunc</code><span class="sig-paren">(</span><em>p</em>, <em>x</em>, <em>y</em>, <em>sigma</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.errfunc" title="Permalink to this definition">¶</a></dt>
<dd><p>just the error function</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.eval">
<code class="descname">eval</code><span class="sig-paren">(</span><em>taxis</em>, <em>set=None</em>, <em>set_to=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>after we have fit, evaluate the fit function along the axis taxis
set and set_to allow you to forcibly set a specific symbol to a specific value –&gt; however, this does not affect the class, but only the return value</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>set=None</em>, <em>set_to=None</em>, <em>force_analytical=False</em>, <em>silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>actually run the fit</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.fitfunc">
<code class="descname">fitfunc</code><span class="sig-paren">(</span><em>p</em>, <em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.fitfunc" title="Permalink to this definition">¶</a></dt>
<dd><p>this wraps fitfunc_raw (which gives the actual form of the fit function) to take care of forced variables</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.gen_indices">
<code class="descname">gen_indices</code><span class="sig-paren">(</span><em>this_set</em>, <em>set_to</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.gen_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>pass this this_set and this_set_to parameters, and it will return:
indices,values,mask
indices –&gt; gives the indices that are forced
values –&gt; the values they are forced to
mask –&gt; p[mask] are actually active in the fit</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.gen_symbolic">
<code class="descname">gen_symbolic</code><span class="sig-paren">(</span><em>function_name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.gen_symbolic" title="Permalink to this definition">¶</a></dt>
<dd><p>generates the symbolic representations the function</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.guess">
<code class="descname">guess</code><span class="sig-paren">(</span><em>verbose=False</em>, <em>super_verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.guess" title="Permalink to this definition">¶</a></dt>
<dd><p>provide the guess for our parameters; by default, based on pseudoinverse</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.latex">
<code class="descname">latex</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.latex" title="Permalink to this definition">¶</a></dt>
<dd><p>show the latex string for the function, with all the symbols substituted by their values</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.linear">
<code class="descname">linear</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.linear" title="Permalink to this definition">¶</a></dt>
<dd><p>return the linear-form function, either smoothly along the fit function, or on the raw data, depending on whether or not the taxis argument is given
can take optional arguments and pass them on to eval</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.makereal">
<code class="descname">makereal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.makereal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.output">
<code class="descname">output</code><span class="sig-paren">(</span><em>*name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.output" title="Permalink to this definition">¶</a></dt>
<dd><p>give the fit value of a particular symbol</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.parameter_derivatives">
<code class="descname">parameter_derivatives</code><span class="sig-paren">(</span><em>xvals</em>, <em>set=None</em>, <em>set_to=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.parameter_derivatives" title="Permalink to this definition">¶</a></dt>
<dd><p>return a matrix containing derivatives of the parameters, can set dict set, or keys set, vals set_to</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.parameter_gradient">
<code class="descname">parameter_gradient</code><span class="sig-paren">(</span><em>p</em>, <em>x</em>, <em>y</em>, <em>sigma</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.parameter_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>this gives the specific format wanted by leastsq</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.pinv">
<code class="descname">pinv</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.pinv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.remove_inactive_p">
<code class="descname">remove_inactive_p</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.remove_inactive_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>previous</em>, <em>new</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.rename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.settoguess">
<code class="descname">settoguess</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.settoguess" title="Permalink to this definition">¶</a></dt>
<dd><p>a debugging function, to easily plot the initial guess</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.format_listofexps">
<code class="descclassname">pyspecdata.</code><code class="descname">format_listofexps</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.format_listofexps" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Phased out</strong>: leaving documentation so we can interpret and update old code</p>
<p>This is an auxiliary function that’s used to decode the experiment list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>list</em><em> or </em><em>tuple</em>) – <p>can be in one of two formats
:<code class="docutils literal notranslate"><span class="pre">(dirname,[i,j,k,...N])</span></code>:  typically used, <em>e.g.</em> for</p>
<blockquote>
<div>Bruker NMR experiments.  <code class="docutils literal notranslate"><span class="pre">i,j,...N</span></code> are integer numbers
referring to individual experiments that are stored in
subdirectories of <cite>dirname</cite> (a string).</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2"><code class="docutils literal notranslate"><span class="pre">([exp_name1,...,exp_nameN])</span></code>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">just return this list of
experiments given by the strings
<cite>exp_name1</cite>…`exp_nameN`.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2"><code class="docutils literal notranslate"><span class="pre">([exp_name1,...,exp_nameN],[])</span></code>:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">identical to previous</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2"><code class="docutils literal notranslate"><span class="pre">([exp_name1,...,exp_nameN],[])</span></code>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">identical to previous</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2"><code class="docutils literal notranslate"><span class="pre">(exp_name1,...,exp_nameN)</span></code>:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">identical to previous</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2"><code class="docutils literal notranslate"><span class="pre">(exp_name)</span></code> or <code class="docutils literal notranslate"><span class="pre">(exp_name,[])</span></code>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">works for a single
experiment</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pyspecdata.function">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">function</code><span class="sig-paren">(</span><em>code</em>, <em>globals</em><span class="optional">[</span>, <em>name</em><span class="optional">[</span>, <em>argdefs</em><span class="optional">[</span>, <em>closure</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.function" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create a function object from a code object and a dictionary.
The optional name string overrides the name from the code object.
The optional argdefs tuple specifies the default argument values.
The optional closure tuple supplies the bindings for free variables.</p>
<dl class="attribute">
<dt id="pyspecdata.function.func_closure">
<code class="descname">func_closure</code><a class="headerlink" href="#pyspecdata.function.func_closure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.function.func_code">
<code class="descname">func_code</code><a class="headerlink" href="#pyspecdata.function.func_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.function.func_defaults">
<code class="descname">func_defaults</code><a class="headerlink" href="#pyspecdata.function.func_defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.function.func_dict">
<code class="descname">func_dict</code><a class="headerlink" href="#pyspecdata.function.func_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.function.func_doc">
<code class="descname">func_doc</code><a class="headerlink" href="#pyspecdata.function.func_doc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.function.func_globals">
<code class="descname">func_globals</code><a class="headerlink" href="#pyspecdata.function.func_globals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.function.func_name">
<code class="descname">func_name</code><a class="headerlink" href="#pyspecdata.function.func_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.gensearch">
<code class="descclassname">pyspecdata.</code><code class="descname">gensearch</code><span class="sig-paren">(</span><em>labelname</em>, <em>format='%0.3f'</em>, <em>value=None</em>, <em>precision=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.gensearch" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – use h5gensearch</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.getDATADIR">
<code class="descclassname">pyspecdata.</code><code class="descname">getDATADIR</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.getDATADIR" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the base directory where you put all your data.  If arguments
are passed, it returns the directory underneath the data directory, ending
in a trailing (back)slash</p>
<p>It is determined by a call to <cite>MyConfig.get_setting</cite> with the setting name
<cite>data_directory</cite> and the environment variable set to <code class="docutils literal notranslate"><span class="pre">PYTHON_DATA_DIR</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>exp_type</strong> (<em>str</em>) – <p>A string identifying the experiment type.
It searches for <cite>exp_type</cite> in this order:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>Look in the <code class="docutils literal notranslate"><span class="pre">ExpTypes</span></code> section of the config file.</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Note that by using this, you can store data in locations other</dt>
<dd>than your main data directory.
For example, consider the following section of the
<code class="docutils literal notranslate"><span class="pre">~/.pyspecdata</span></code> config file:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">[ExpTypes]</span>
<span class="pre">alternate_base</span> <span class="pre">=</span> <span class="pre">/opt/other_data</span>
<span class="pre">alternate_type_one</span> <span class="pre">=</span> <span class="pre">%(alternate_base)s/type_one</span>
<span class="pre">`</span></code>
which would find data with <cite>exp_type</cite> <code class="docutils literal notranslate"><span class="pre">alternate_type_one</span></code> in
<code class="docutils literal notranslate"><span class="pre">/opt/other_data/type_one</span></code>.</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>use <cite>os.walk</cite> to search for a directory with this name</dt>
<dd>inside the directory identified by <cite>experimental_data</cite>.
excluding things that start with ‘.’, ‘_’ or
containing ‘.hfssresults’, always choosing the
thing that’s highest up in the tree.
If it doesn’t find a directory inside <cite>experimental_data</cite>, it will
search inside all the directories already listed in <cite>ExpTypes</cite>.
Currently, in both attempts, it will only walk 2 levels deep (since NMR directories
can be rather complex, and otherwise it would take forever).</dd>
</dl>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.getargspec">
<code class="descclassname">pyspecdata.</code><code class="descname">getargspec</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.getargspec" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the names and default values of a function’s arguments.</p>
<p>A tuple of four things is returned: (args, varargs, varkw, defaults).
‘args’ is a list of the argument names (it may contain nested lists).
‘varargs’ and ‘varkw’ are the names of the * and ** arguments or None.
‘defaults’ is an n-tuple of the default values of the last n arguments.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.gridandtick">
<code class="descclassname">pyspecdata.</code><code class="descname">gridandtick</code><span class="sig-paren">(</span><em>ax</em>, <em>rotation=(0</em>, <em>0)</em>, <em>precision=(2</em>, <em>2)</em>, <em>labelstring=(''</em>, <em>'')</em>, <em>gridcolor=None</em>, <em>formatonly=False</em>, <em>fixed_y_locator=None</em>, <em>logarithmic=False</em>, <em>use_grid=True</em>, <em>spines=None</em>, <em>y=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.gridandtick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.gridon">
<code class="descclassname">pyspecdata.</code><code class="descname">gridon</code><span class="sig-paren">(</span><em>gridcolor=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.gridon" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.h5addrow">
<code class="descclassname">pyspecdata.</code><code class="descname">h5addrow</code><span class="sig-paren">(</span><em>bottomnode</em>, <em>tablename</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5addrow" title="Permalink to this definition">¶</a></dt>
<dd><p>add a row to a table, creating it if necessary, but don’t add if the data matches the search condition indicated by <cite>match_row</cite>
<cite>match_row</cite> can be either text or a dictionary – in the latter case it’s passed to h5searchstring</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.h5attachattributes">
<code class="descclassname">pyspecdata.</code><code class="descname">h5attachattributes</code><span class="sig-paren">(</span><em>node</em>, <em>listofattributes</em>, <em>myvalues</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5attachattributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.h5child">
<code class="descclassname">pyspecdata.</code><code class="descname">h5child</code><span class="sig-paren">(</span><em>thisnode</em>, <em>childname</em>, <em>clear=False</em>, <em>create=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5child" title="Permalink to this definition">¶</a></dt>
<dd><p>grab the child, optionally clearing it and/or (by default) creating it</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.h5inlist">
<code class="descclassname">pyspecdata.</code><code class="descname">h5inlist</code><span class="sig-paren">(</span><em>columnname</em>, <em>mylist</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5inlist" title="Permalink to this definition">¶</a></dt>
<dd><p>returns rows where the column named columnname is in the value of mylist</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.h5join">
<code class="descclassname">pyspecdata.</code><code class="descname">h5join</code><span class="sig-paren">(</span><em>firsttuple</em>, <em>secondtuple</em>, <em>additional_search=''</em>, <em>select_fields=None</em>, <em>pop_fields=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5join" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.h5loaddict">
<code class="descclassname">pyspecdata.</code><code class="descname">h5loaddict</code><span class="sig-paren">(</span><em>thisnode</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5loaddict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.h5nodebypath">
<code class="descclassname">pyspecdata.</code><code class="descname">h5nodebypath</code><span class="sig-paren">(</span><em>h5path</em>, <em>verbose=False</em>, <em>force=False</em>, <em>only_lowest=False</em>, <em>check_only=False</em>, <em>directory='.'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5nodebypath" title="Permalink to this definition">¶</a></dt>
<dd><p>return the node based on an absolute path, including the filename</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.h5remrows">
<code class="descclassname">pyspecdata.</code><code class="descname">h5remrows</code><span class="sig-paren">(</span><em>bottomnode</em>, <em>tablename</em>, <em>searchstring</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5remrows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.h5searchstring">
<code class="descclassname">pyspecdata.</code><code class="descname">h5searchstring</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5searchstring" title="Permalink to this definition">¶</a></dt>
<dd><p>generate robust search strings
:parameter fieldname,value:
search AROUND a certain value (overcomes some type conversion issues) optional arguments are the format specifier and the fractional precision:
<strong>OR</strong>
:parameter field_and_value_dictionary:
generate a search string that matches one or more criteria</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.h5table">
<code class="descclassname">pyspecdata.</code><code class="descname">h5table</code><span class="sig-paren">(</span><em>bottomnode</em>, <em>tablename</em>, <em>tabledata</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5table" title="Permalink to this definition">¶</a></dt>
<dd><p>create the table, or if tabledata is None, just check if it exists</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.image">
<code class="descclassname">pyspecdata.</code><code class="descname">image</code><span class="sig-paren">(</span><em>A</em>, <em>x=[]</em>, <em>y=[]</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Please don’t call image directly anymore – use the image method of figurelist</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.init_logging">
<code class="descclassname">pyspecdata.</code><code class="descname">init_logging</code><span class="sig-paren">(</span><em>level=20</em>, <em>filename='pyspecdata.log'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.init_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize logging on pyspecdata.log – do NOT log if run from within a notebook (it’s fair to assume that you will run first before embedding)</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.inside_sphinx">
<code class="descclassname">pyspecdata.</code><code class="descname">inside_sphinx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.inside_sphinx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.interp1d">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">interp1d</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kind='linear'</em>, <em>axis=-1</em>, <em>copy=True</em>, <em>bounds_error=None</em>, <em>fill_value=nan</em>, <em>assume_sorted=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.interp1d" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.interpolate.polyint._Interpolator1D</span></code></p>
<p>Interpolate a 1-D function.</p>
<p><cite>x</cite> and <cite>y</cite> are arrays of values used to approximate some function f:
<code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">f(x)</span></code>.  This class returns a function whose call method uses
interpolation to find the value of new points.</p>
<p>Note that calling <cite>interp1d</cite> with NaNs present in input values results in
undefined behaviour.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>(</em><em>N</em><em>,</em><em>) </em><em>array_like</em>) – A 1-D array of real values.</li>
<li><strong>y</strong> (<em>(</em><em>..</em><em>,</em><em>N</em><em>,</em><em>..</em><em>) </em><em>array_like</em>) – A N-D array of real values. The length of <cite>y</cite> along the interpolation
axis must be equal to the length of <cite>x</cite>.</li>
<li><strong>kind</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Specifies the kind of interpolation as a string
(‘linear’, ‘nearest’, ‘zero’, ‘slinear’, ‘quadratic’, ‘cubic’,
‘previous’, ‘next’, where ‘zero’, ‘slinear’, ‘quadratic’ and ‘cubic’
refer to a spline interpolation of zeroth, first, second or third
order; ‘previous’ and ‘next’ simply return the previous or next value
of the point) or as an integer specifying the order of the spline
interpolator to use.
Default is ‘linear’.</li>
<li><strong>axis</strong> (<em>int</em><em>, </em><em>optional</em>) – Specifies the axis of <cite>y</cite> along which to interpolate.
Interpolation defaults to the last axis of <cite>y</cite>.</li>
<li><strong>copy</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the class makes internal copies of x and y.
If False, references to <cite>x</cite> and <cite>y</cite> are used. The default is to copy.</li>
<li><strong>bounds_error</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, a ValueError is raised any time interpolation is attempted on
a value outside of the range of x (where extrapolation is
necessary). If False, out of bounds values are assigned <cite>fill_value</cite>.
By default, an error is raised unless <cite>fill_value=”extrapolate”</cite>.</li>
<li><strong>fill_value</strong> (<em>array-like</em><em> or </em><em>(</em><em>array-like</em><em>, </em><em>array_like</em><em>) or </em><em>&quot;extrapolate&quot;</em><em>, </em><em>optional</em>) – <ul>
<li>if a ndarray (or float), this value will be used to fill in for
requested points outside of the data range. If not provided, then
the default is NaN. The array-like must broadcast properly to the
dimensions of the non-interpolation axes.</li>
<li>If a two-element tuple, then the first element is used as a
fill value for <code class="docutils literal notranslate"><span class="pre">x_new</span> <span class="pre">&lt;</span> <span class="pre">x[0]</span></code> and the second element is used for
<code class="docutils literal notranslate"><span class="pre">x_new</span> <span class="pre">&gt;</span> <span class="pre">x[-1]</span></code>. Anything that is not a 2-element tuple (e.g.,
list or ndarray, regardless of shape) is taken to be a single
array-like argument meant to be used for both bounds as
<code class="docutils literal notranslate"><span class="pre">below,</span> <span class="pre">above</span> <span class="pre">=</span> <span class="pre">fill_value,</span> <span class="pre">fill_value</span></code>.<div class="versionadded">
<p><span class="versionmodified">New in version 0.17.0.</span></p>
</div>
</li>
<li>If “extrapolate”, then points outside the data range will be
extrapolated.<div class="versionadded">
<p><span class="versionmodified">New in version 0.17.0.</span></p>
</div>
</li>
</ul>
</li>
<li><strong>assume_sorted</strong> (<em>bool</em><em>, </em><em>optional</em>) – If False, values of <cite>x</cite> can be in any order and they are sorted first.
If True, <cite>x</cite> has to be an array of monotonically increasing values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyspecdata.interp1d.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.interp1d.__call__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">splrep</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">splev</span></code></p>
<dl class="last docutils">
<dt><a class="reference internal" href="#pyspecdata.UnivariateSpline" title="pyspecdata.UnivariateSpline"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnivariateSpline</span></code></a></dt>
<dd>An object-oriented wrapper of the FITPACK routines.</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">interp2d</span></code></dt>
<dd>2-D interpolation</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy</span> <span class="k">import</span> <span class="n">interpolate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">/</span><span class="mf">3.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">interpolate</span><span class="o">.</span><span class="n">interp1d</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xnew</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ynew</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">xnew</span><span class="p">)</span>   <span class="c1"># use interpolation function returned by `interp1d`</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">xnew</span><span class="p">,</span> <span class="n">ynew</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="pyspecdata.interp1d.fill_value">
<code class="descname">fill_value</code><a class="headerlink" href="#pyspecdata.interp1d.fill_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.ismethod">
<code class="descclassname">pyspecdata.</code><code class="descname">ismethod</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ismethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the object is an instance method.</p>
<dl class="docutils">
<dt>Instance method objects provide these attributes:</dt>
<dd>__doc__         documentation string
__name__        name with which this method was defined
im_class        class object in which this method belongs
im_func         function object containing implementation of method
im_self         instance to which this method is bound, or None</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.issympy">
<code class="descclassname">pyspecdata.</code><code class="descname">issympy</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.issympy" title="Permalink to this definition">¶</a></dt>
<dd><p>tests if something is sympy (based on the module name)</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.join_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">join_rec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.join_rec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.lambda_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">lambda_rec</code><span class="sig-paren">(</span><em>myarray</em>, <em>myname</em>, <em>myfunction</em>, <em>*varargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lambda_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>make a new field “myname” which consists of “myfunction” evaluated with the fields given by “myargs” as arguments
the new field is always placed after the last argument name
if myname is in myargs, the original row is popped</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.leastsq">
<code class="descclassname">pyspecdata.</code><code class="descname">leastsq</code><span class="sig-paren">(</span><em>func</em>, <em>x0</em>, <em>args=()</em>, <em>Dfun=None</em>, <em>full_output=0</em>, <em>col_deriv=0</em>, <em>ftol=1.49012e-08</em>, <em>xtol=1.49012e-08</em>, <em>gtol=0.0</em>, <em>maxfev=0</em>, <em>epsfcn=None</em>, <em>factor=100</em>, <em>diag=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.leastsq" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimize the sum of squares of a set of equations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">arg</span> <span class="nb">min</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
         <span class="n">y</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) – should take at least one (possibly length N vector) argument and
returns M floating point numbers. It must not return NaNs or
fitting might fail.</li>
<li><strong>x0</strong> (<em>ndarray</em>) – The starting estimate for the minimization.</li>
<li><strong>args</strong> (<em>tuple</em><em>, </em><em>optional</em>) – Any extra arguments to func are placed in this tuple.</li>
<li><strong>Dfun</strong> (<em>callable</em><em>, </em><em>optional</em>) – A function or method to compute the Jacobian of func with derivatives
across the rows. If this is None, the Jacobian will be estimated.</li>
<li><strong>full_output</strong> (<em>bool</em><em>, </em><em>optional</em>) – non-zero to return all optional outputs.</li>
<li><strong>col_deriv</strong> (<em>bool</em><em>, </em><em>optional</em>) – non-zero to specify that the Jacobian function computes derivatives
down the columns (faster, because there is no transpose operation).</li>
<li><strong>ftol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative error desired in the sum of squares.</li>
<li><strong>xtol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative error desired in the approximate solution.</li>
<li><strong>gtol</strong> (<em>float</em><em>, </em><em>optional</em>) – Orthogonality desired between the function vector and the columns of
the Jacobian.</li>
<li><strong>maxfev</strong> (<em>int</em><em>, </em><em>optional</em>) – The maximum number of calls to the function. If <cite>Dfun</cite> is provided
then the default <cite>maxfev</cite> is 100*(N+1) where N is the number of elements
in x0, otherwise the default <cite>maxfev</cite> is 200*(N+1).</li>
<li><strong>epsfcn</strong> (<em>float</em><em>, </em><em>optional</em>) – A variable used in determining a suitable step length for the forward-
difference approximation of the Jacobian (for Dfun=None).
Normally the actual step length will be sqrt(epsfcn)*x
If epsfcn is less than the machine precision, it is assumed that the
relative errors are of the order of the machine precision.</li>
<li><strong>factor</strong> (<em>float</em><em>, </em><em>optional</em>) – A parameter determining the initial step bound
(<code class="docutils literal notranslate"><span class="pre">factor</span> <span class="pre">*</span> <span class="pre">||</span> <span class="pre">diag</span> <span class="pre">*</span> <span class="pre">x||</span></code>). Should be in interval <code class="docutils literal notranslate"><span class="pre">(0.1,</span> <span class="pre">100)</span></code>.</li>
<li><strong>diag</strong> (<em>sequence</em><em>, </em><em>optional</em>) – N positive entries that serve as a scale factors for the variables.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul>
<li><p class="first"><strong>x</strong> (<em>ndarray</em>) – The solution (or the result of the last iteration for an unsuccessful
call).</p>
</li>
<li><p class="first"><strong>cov_x</strong> (<em>ndarray</em>) – Uses the fjac and ipvt optional outputs to construct an
estimate of the jacobian around the solution. None if a
singular matrix encountered (indicates very flat curvature in
some direction).  This matrix must be multiplied by the
residual variance to get the covariance of the
parameter estimates – see curve_fit.</p>
</li>
<li><p class="first"><strong>infodict</strong> (<em>dict</em>) – a dictionary of optional outputs with the key s:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">nfev</span></code></dt>
<dd><p class="first last">The number of function calls</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fvec</span></code></dt>
<dd><p class="first last">The function evaluated at the output</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fjac</span></code></dt>
<dd><p class="first last">A permutation of the R matrix of a QR
factorization of the final approximate
Jacobian matrix, stored column wise.
Together with ipvt, the covariance of the
estimate can be approximated.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ipvt</span></code></dt>
<dd><p class="first last">An integer array of length N which defines
a permutation matrix, p, such that
fjac*p = q*r, where r is upper triangular
with diagonal elements of nonincreasing
magnitude. Column j of p is column ipvt(j)
of the identity matrix.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">qtf</span></code></dt>
<dd><p class="first last">The vector (transpose(q) * fvec).</p>
</dd>
</dl>
</li>
<li><p class="first"><strong>mesg</strong> (<em>str</em>) – A string message giving information about the cause of failure.</p>
</li>
<li><p class="first"><strong>ier</strong> (<em>int</em>) – An integer flag.  If it is equal to 1, 2, 3 or 4, the solution was
found.  Otherwise, the solution was not found. In either case, the
optional output variable ‘mesg’ gives more information.</p>
</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>“leastsq” is a wrapper around MINPACK’s lmdif and lmder algorithms.</p>
<p>cov_x is a Jacobian approximation to the Hessian of the least squares
objective function.
This approximation assumes that the objective function is based on the
difference between some observed target data (ydata) and a (non-linear)
function of the parameters <cite>f(xdata, params)</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="n">params</span><span class="p">)</span> <span class="o">=</span> <span class="n">ydata</span> <span class="o">-</span> <span class="n">f</span><span class="p">(</span><span class="n">xdata</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</pre></div>
</div>
<p>so that the objective function is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="nb">min</span>   <span class="nb">sum</span><span class="p">((</span><span class="n">ydata</span> <span class="o">-</span> <span class="n">f</span><span class="p">(</span><span class="n">xdata</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">params</span>
</pre></div>
</div>
<p>The solution, <cite>x</cite>, is always a 1D array, regardless of the shape of <cite>x0</cite>,
or whether <cite>x0</cite> is a scalar.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.listdir">
<code class="descclassname">pyspecdata.</code><code class="descname">listdir</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span> &#x2192; list_of_strings<a class="headerlink" href="#pyspecdata.listdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list containing the names of the entries in the directory.</p>
<blockquote>
<div>path: path of directory to list</div></blockquote>
<p>The list is in arbitrary order.  It does not include the special
entries ‘.’ and ‘..’ even if they are present in the directory.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.load_indiv_file">
<code class="descclassname">pyspecdata.</code><code class="descname">load_indiv_file</code><span class="sig-paren">(</span><em>filename</em>, <em>dimname=''</em>, <em>return_acq=False</em>, <em>add_sizes=[]</em>, <em>add_dims=[]</em>, <em>use_sweep=None</em>, <em>indirect_dimlabels=None</em>, <em>expno=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.load_indiv_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the file given by <cite>filename</cite>, use file signature magic and/or
filename extension(s) to identify the file type, and call the appropriate
function to open it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dimname</strong> (<em>str</em>) – When there is a single indirect dimension composed of several scans,
call the indirect dimension <cite>dimname</cite>.</li>
<li><strong>return_acq</strong> (<em>DEPRECATED</em>) – </li>
<li><strong>add_sizes</strong> (<em>list</em>) – the sizes associated with the dimensions in add_dims</li>
<li><strong>add_dims</strong> (<em>list</em>) – Can only be used with <cite>dimname</cite>.
Break the dimension <cite>dimname</cite> into several dimensions,
with the names given by the list <cite>add_dims</cite> and sizes given by <cite>add_sizes</cite>.
If the product of the sizes is not the same as the original dimension
given by <cite>dimname</cite>,
retain it as the “outermost” (leftmost) dimension.
<code class="xref py py-func docutils literal notranslate"><span class="pre">pyspecdata.core.chunkoff()</span></code> is used to do this, like so:
<code class="docutils literal notranslate"><span class="pre">data.chunkoff(dimname,add_dims,add_sizes)</span></code></li>
<li><strong>indirect_dimlabels</strong> (<em>str</em><em> or </em><em>None</em>) – passed through to <cite>acert.load_pulse</cite> (names an indirect dimension when dimlabels isn’t provided)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the nddata containing the data,
or else, <cite>None</cite>, indicating that this is part of a pair of
files that should be skipped</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata">nddata</a> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.load_t1_axis">
<code class="descclassname">pyspecdata.</code><code class="descname">load_t1_axis</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.load_t1_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.lookup_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">lookup_rec</code><span class="sig-paren">(</span><em>A</em>, <em>B</em>, <em>indexpair</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lookup_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>look up information about A in table B (i.e. chemical by index, etc)
indexpair is either the name of the index
or – if it’s differently named – the pair of indices
given in (A,B) respectively</p>
<p>This will just drop any fields in B that are also in A,
and the output uses the first indexname</p>
<p>note that it it seems like the join_rec function above may be more efficient!!</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.lrecordarray">
<code class="descclassname">pyspecdata.</code><code class="descname">lrecordarray</code><span class="sig-paren">(</span><em>*x</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lrecordarray" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.lsafe">
<code class="descclassname">pyspecdata.</code><code class="descname">lsafe</code><span class="sig-paren">(</span><em>*string</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lsafe" title="Permalink to this definition">¶</a></dt>
<dd><p>replacement for normal lsafe – no escaping</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.lsafen">
<code class="descclassname">pyspecdata.</code><code class="descname">lsafen</code><span class="sig-paren">(</span><em>*string</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lsafen" title="Permalink to this definition">¶</a></dt>
<dd><p>see lsafe, but with an added double newline</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.make_bar_graph_indices">
<code class="descclassname">pyspecdata.</code><code class="descname">make_bar_graph_indices</code><span class="sig-paren">(</span><em>mystructarray</em>, <em>list_of_text_fields</em>, <em>recursion_depth=0</em>, <em>verbose=False</em>, <em>spacing=0.1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.make_bar_graph_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a recursive function that is used as part of textlabel_bargraph; it does NOT work without the sorting given at the beginning of that function</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.make_ndarray">
<code class="descclassname">pyspecdata.</code><code class="descname">make_ndarray</code><span class="sig-paren">(</span><em>array_to_conv</em>, <em>name_forprint='unknown'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.make_ndarray" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.make_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">make_rec</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.make_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>input,names or a single argument, which is a dictionarynstrlen = 100 gives length of the strings (which need to be specified in record arrays)nyou can also specify (especially useful with the dictionary format) the list order = [str1,str2,…] which orders the output records with the field containing str1 first, then the field containing str2, then any remaining fields</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.maprep">
<code class="descclassname">pyspecdata.</code><code class="descname">maprep</code><span class="sig-paren">(</span><em>*mylist</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.maprep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.meanstd_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">meanstd_rec</code><span class="sig-paren">(</span><em>myarray</em>, <em>mylist</em>, <em>verbose=False</em>, <em>standard_error=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.meanstd_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>this is something like applyto_rec, except that it applies the mean and creates new rows for the “error,” where it puts the standard deviation</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.mybasicfunction">
<code class="descclassname">pyspecdata.</code><code class="descname">mybasicfunction</code><span class="sig-paren">(</span><em>first_figure=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.mybasicfunction" title="Permalink to this definition">¶</a></dt>
<dd><p>this gives the format for doing the image thing
note also
nextfigure(fl,’name’)
and
nextfigure({‘lplotproperty’:value})</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.mydiff">
<code class="descclassname">pyspecdata.</code><code class="descname">mydiff</code><span class="sig-paren">(</span><em>data</em>, <em>axis=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.mydiff" title="Permalink to this definition">¶</a></dt>
<dd><p>this will replace diff with a version that has the same number of indices, with the last being the copy of the first</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.myfilter">
<code class="descclassname">pyspecdata.</code><code class="descname">myfilter</code><span class="sig-paren">(</span><em>x</em>, <em>center=250000.0</em>, <em>sigma=100000.0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.myfilter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.myplotfunc">
<code class="descclassname">pyspecdata.</code><code class="descname">myplotfunc</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.myplotfunc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.nddata">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">nddata</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the detailed API reference.
For an introduction on how to use ND-Data, see the <a class="reference internal" href="../nddata.html#nddata-summary-label"><span class="std std-ref">Main ND-Data Documentation</span></a>.</p>
<dl class="attribute">
<dt id="pyspecdata.nddata.C">
<code class="descname">C</code><a class="headerlink" href="#pyspecdata.nddata.C" title="Permalink to this definition">¶</a></dt>
<dd><p>shortcut for copy</p>
<dl class="docutils">
<dt>..todo::</dt>
<dd>We should offer “N”, which generates something like a copy,
but which is sets the equivalent of “nopop”.
For example, currently, you need to do something like
<code class="docutils literal notranslate"><span class="pre">d.C.argmax('t2')</span></code>,
which is very inefficient, since it copies the whole array.
So, instead, we should do
<code class="docutils literal notranslate"><span class="pre">d.N.argmax('t2')</span></code>, which tells argmax and all other
functions not to overwrite “self” but to return a new object.
This would cause things like “run_nopop” to become obsolete.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.add_noise">
<code class="descname">add_noise</code><span class="sig-paren">(</span><em>intensity</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.add_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Gaussian (box-muller) noise to the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>intensity</strong> (<em>double OR function</em>) – If a double, gives the standard deviation of the noise.
If a function, used to calculate the standard deviation of the noise from the data:
<em>e.g.</em> <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">max(abs(x))/10.</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.aligndata">
<code class="descname">aligndata</code><span class="sig-paren">(</span><em>arg</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.aligndata" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a fundamental method used by all of the arithmetic operations.
It uses the dimension labels of <cite>self</cite> (the current instance) and <cite>arg</cite>
(an nddata passed to this method) to generate two corresponding output
nddatas that I refer to here, respectively, as <cite>A</cite> and <cite>B</cite>.  <cite>A</cite> and
<cite>B</cite> have dimensions that are “aligned” – that is, they are identical
except for singleton dimensions (note that numpy automatically tiles
singleton dimensions).  Regardless of how the dimensions of <cite>self.data</cite>
and <cite>arg.data</cite> (the underlying numpy data) were ordered, <cite>A.data</cite> and
<cite>B.data</cite> are now ordered identically, where dimensions with the same
label (<cite>.dimlabel</cite>) correspond to the same numpy index.  This allows
you do do math.</p>
<p>Note that, currently, both <cite>A</cite> and <cite>B</cite> are given a full set of axis
labels, even for singleton dimensions.  This is because we’re assuming
you’re going to do math with them, and that the singleton dimensions
will be expanded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arg</strong> (<a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata"><em>nddata</em></a><em> or </em><em>ndarray</em>) – The nddata that you want to align to <cite>self</cite>.
If arg is an ndarray, it will try to match dimensions to self based
on the length of the dimension.
<strong>Note:</strong> currently there is an issue where this will only really
work for 1D data, since it first makes an nddata instance based on
arg, which apparently collapses multi-D data to 1D data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>A</strong> (<em>nddata</em>) – realigned version of <cite>self</cite></li>
<li><strong>B</strong> (<em>nddata</em>) – realigned version of <cite>arg</cite> (the argument)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.nddata.angle">
<code class="descname">angle</code><a class="headerlink" href="#pyspecdata.nddata.angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the angle component of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.argmax">
<code class="descname">argmax</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.argmax" title="Permalink to this definition">¶</a></dt>
<dd><p>find the max along a particular axis, and get rid of that axis, replacing it with the index number of the max value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>raw_index</strong> (<em>bool</em>) – return the raw (ndarray) numerical index, rather than the corresponding axis value
Note that the result returned is still, however, an nddata (rather than numpy ndarray) object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.argmin">
<code class="descname">argmin</code><span class="sig-paren">(</span><em>*axes</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.argmin" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>argmin(‘axisname’)</cite> find the min along a particular axis, and get rid of that
axis, replacing it with the index number of the max value.
If <cite>argmin()</cite>: return a dictionary giving the coordinates of the overall minimum point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>raw_index</strong> (<em>bool</em>) – Return the raw (ndarray) numerical index, rather than the corresponding axis value.
Note that the result returned is still, however, an nddata (rather than numpy ndarray) object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.axis">
<code class="descname">axis</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.axis" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a 1-D axis for further manipulation</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.axlen">
<code class="descname">axlen</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.axlen" title="Permalink to this definition">¶</a></dt>
<dd><p>return the size (length) of an axis, by name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>axis</strong> (<em>str</em>) – name of the axis whos length you are interested in</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.axn">
<code class="descname">axn</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.axn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the index number for the axis with the name “axis”</p>
<p>This is used by many other methods.
As a simple example,
self.:func:<cite>axlen`(axis) (the axis length) returns
``shape(self.data)[self.axn(axis)]`</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>axis</strong> (<em>str</em>) – name of the axis</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.cdf">
<code class="descname">cdf</code><span class="sig-paren">(</span><em>normalized=True</em>, <em>max_bins=500</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.cdf" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the Cumulative Distribution Function for the data along <cite>axis_name</cite></p>
<p>only for 1D data right now</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">A new nddata object with an axis labeled <cite>values</cite>, and data corresponding to the CDF.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.check_axis_coords_errors">
<code class="descname">check_axis_coords_errors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.check_axis_coords_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.chunk">
<code class="descname">chunk</code><span class="sig-paren">(</span><em>axisin</em>, <em>*otherargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.chunk" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>“Chunking” is defined here to be the opposite of taking a direct product, increasing the number of dimensions by the inverse of the process by which taking a direct product decreases the number of dimensions.  This function chunks axisin into multiple new axes arguments.:</dt>
<dd>axesout – gives the names of the output axes
shapesout – optional – if not given, it assumes equal length – if given, one of the values can be -1, which is assumed length</dd>
</dl>
<p>When there are axes, it assumes that the axes of the new dimensions
are nested – <em>e.g.</em>, it will chunk a dimension with axis:
[1,2,3,4,5,6,7,8,9,10]
into dimensions with axes:
[0,1,2,3,4], [1,6]</p>
<dl class="docutils">
<dt>..todo::</dt>
<dd>Deal with this efficiently when we move to new-style axes</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.chunk_auto">
<code class="descname">chunk_auto</code><span class="sig-paren">(</span><em>axis_name</em>, <em>which_field</em>, <em>verbose=False</em>, <em>dimname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.chunk_auto" title="Permalink to this definition">¶</a></dt>
<dd><p>assuming that axis “axis_name” is currently labeled with a structured array, choose one field (“which_field”) of that structured array to generate a new dimension
Note that for now, by definition, no error is allowed on the axes.
However, once I upgrade to using structured arrays to handle axis and data errors, I will want to deal with that appropriately here.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.circshift">
<code class="descname">circshift</code><span class="sig-paren">(</span><em>axis</em>, <em>amount</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.circshift" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.contiguous">
<code class="descname">contiguous</code><span class="sig-paren">(</span><em>lambdafunc</em>, <em>axis=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Return contiguous blocks that satisfy the condition given by <cite>lambdafunc</cite></p>
<p>this function returns the start and stop positions along the
axis for the contiguous blocks for which lambdafunc returns
true
<strong>Currently only supported for 1D data</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">adapted from stackexchange post <a class="reference external" href="http://stackoverflow.com/questions/4494404/find-large-number-of-consecutive-values-fulfilling-condition-in-a-numpy-array">http://stackoverflow.com/questions/4494404/find-large-number-of-consecutive-values-fulfilling-condition-in-a-numpy-array</a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lambdafunc</strong> (<em>types.FunctionType</em>) – If only one argument (lambdafunc) is given,
then lambdafunc is
a function that accepts a copy of the current nddata object
(<cite>self</cite>) as the argument.
If two arguments are given,
the second is <cite>axis</cite>, and lambdafunc has two arguments,
<cite>self</cite> and the value of <cite>axis</cite>.</li>
<li><strong>axis</strong> (<em>{None</em><em>,</em><em>str}</em>) – the name of the axis along which you want to find contiguous
blocks</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>retval</strong> – An <span class="math notranslate nohighlight">\(N\times 2\)</span> matrix, where the <span class="math notranslate nohighlight">\(N\)</span> rows correspond to pairs of axis
label that give ranges over which <cite>lambdafunc</cite> evaluates to <cite>True</cite>.
These are ordered according to descending range width.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>&gt; #{{{ debugging block
&gt; sum_for_contiguous = abs(forplot).mean(‘t1’)
&gt; fl.next(“test contiguous”)
&gt; forplot = sum_for_contiguous.copy().set_error(None)
&gt; fl.plot(forplot,alpha = 0.25,linewidth = 3)
&gt; print “this is what the max looks like”,0.5*sum_for_contiguous.set_error(None).runcopy(max,’t2’)
&gt; print sum_for_contiguous &gt; 0.5*sum_for_contiguous.runcopy(max,’t2’)
&gt; retval = sum_for_contiguous.contiguous(quarter_of_max,’t2’)
&gt; print “contiguous range / 1e6:”,retval/1e6
&gt; for j in range(retval.shape[0]):
&gt;     a,b = retval[j,:]
&gt;     fl.plot(forplot[‘t2’:(a,b)])
&gt; fl.show()
&gt; exit()
&gt; #}}}</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.contour">
<code class="descname">contour</code><span class="sig-paren">(</span><em>labels=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.contour" title="Permalink to this definition">¶</a></dt>
<dd><p>Contour plot – kwargs are passed to the matplotlib
<cite>contour</cite> function.</p>
<p>See docstring of <cite>figlist_var.image()</cite> for an example</p>
<dl class="attribute">
<dt id="pyspecdata.nddata.labels">
<code class="descname">labels</code><a class="headerlink" href="#pyspecdata.nddata.labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not the levels should be labeled.
Defaults to True</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.convolve">
<code class="descname">convolve</code><span class="sig-paren">(</span><em>axisname</em>, <em>filterwidth</em>, <em>convfunc=&lt;function &lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a convolution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>axisname</strong> (<em>str</em>) – apply the convolution along <cite>axisname</cite></li>
<li><strong>filterwidth</strong> (<em>double</em>) – width of the convolution function.</li>
<li><strong>convfunc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – A function that takes two arguments – the first are the axis coordinates and the second is <cite>filterwidth</cite>.
Default is a normalized Gaussian of width (<span class="math notranslate nohighlight">\(\sigma\)</span>)
<cite>filterwidth</cite>
<span class="math notranslate nohighlight">\(\frac{1}{2 \sigma^2}\exp\left( - \frac{x^2}{2 \sigma^2} \right)\)</span>
For example if you want a complex lorentzian with <cite>filterwidth</cite> controlled by the rate $R$,
<em>i.e.</em>
<span class="math notranslate nohighlight">\(\frac{-1}{-i 2 \pi f - R}\)</span>
then <code class="docutils literal notranslate"><span class="pre">convfunc</span> <span class="pre">=</span> <span class="pre">lambda</span> <span class="pre">f,R:</span> <span class="pre">-1./(-1j*2*pi*f-R)</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><em>data=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full copy of this instance.</p>
<p>Because methods typically change the data in place, you might want to
use this frequently.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>boolean</em>) – <p>Default to True.
False doesn’t copy the data – this is for internal use,
<em>e.g.</em> when you want to copy all the metadata and perform a
calculation on the data.</p>
<p>The code for this also provides the definitive list of the
nddata metadata.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.copy_props">
<code class="descname">copy_props</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.copy_props" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy all properties (see <a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata.get_prop" title="pyspecdata.nddata.get_prop"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_prop()</span></code></a>) from another nddata
object – note that these include properties pertaining the the FT
status of various dimensions.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.copyaxes">
<code class="descname">copyaxes</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.copyaxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.cropped_log">
<code class="descname">cropped_log</code><span class="sig-paren">(</span><em>subplot_axes=None</em>, <em>magnitude=4</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.cropped_log" title="Permalink to this definition">¶</a></dt>
<dd><p>For the purposes of plotting, this generates a copy where I take the log, spanning “magnitude” orders of magnitude
This is designed to be called as abs(instance).cropped_log(), so it doesn’t make a copy</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.diff">
<code class="descname">diff</code><span class="sig-paren">(</span><em>thisaxis</em>, <em>backwards=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.diff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.dot">
<code class="descname">dot</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensor dot of self with arg – dot all matching dimension labels.  This can be used to do matrix multiplication, but note that the order of doesn’t matter, since the dimensions that are contracted are determined by matching the dimension names, not the order of the dimension.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">],</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">27</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">tensordot</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">27</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">tensordot</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="p">((</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">)))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.extend">
<code class="descname">extend</code><span class="sig-paren">(</span><em>axis</em>, <em>extent</em>, <em>fill_with=0</em>, <em>tolerance=1e-05</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>axis</cite> is uniformly ascending with spacing <span class="math notranslate nohighlight">\(dx\)</span>,
then extend by adding a point every <span class="math notranslate nohighlight">\(dx\)</span> until the axis
includes the point <cite>extent</cite>.  Fill the newly created datapoints with <cite>fill_with</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>axis</strong> (<em>str</em>) – name of the axis to extend</li>
<li><strong>extent</strong> (<em>double</em>) – extend the axis <cite>axis</cite> out to this point</li>
<li><strong>fill_with</strong> (<em>double</em>) – fill the new data points with this value (defaults to 0)</li>
<li><strong>tolerance</strong> (<em>double</em>) – when checking for ascending axis labels, etc.,
values/differences must match to within tolerance
(assumed to represent the actual precision, given
various errors, etc.)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.extend_for_shear">
<code class="descname">extend_for_shear</code><span class="sig-paren">(</span><em>altered_axis</em>, <em>propto_axis</em>, <em>skew_amount</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.extend_for_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>this is propto_axis helper function for <cite>.fourier.shear</cite></p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.fld">
<code class="descname">fld</code><span class="sig-paren">(</span><em>dict_in</em>, <em>noscalar=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.fld" title="Permalink to this definition">¶</a></dt>
<dd><p>flatten dictionary – return list</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.fourier_shear">
<code class="descname">fourier_shear</code><span class="sig-paren">(</span><em>altered_axis</em>, <em>propto_axis</em>, <em>by_amount</em>, <em>zero_fill=False</em>, <em>start_in_conj=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.fourier_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>the fourier shear method – see .shear() documentation</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.fromaxis">
<code class="descname">fromaxis</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.fromaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an nddata object from one of the axis labels.</p>
<p>Can be used in one of several ways:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">self.fromaxis('axisname')</span></code>: Returns an nddata where <cite>retval.data</cite> consists of the given axis values.</li>
<li><code class="docutils literal notranslate"><span class="pre">self.fromaxis('axisname',inputfunc)</span></code>: use <cite>axisname</cite> as the input for <cite>inputfunc</cite>, and load the result into <cite>retval.data</cite></li>
<li><code class="docutils literal notranslate"><span class="pre">self.fromaxis(inputsymbolic)</span></code>: Evaluate <cite>inputsymbolic</cite> and load the result into <cite>retval.data</cite></li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>axisname</strong> (<em>str | list</em>) – The axis (or list of axes) to that is used as the argument of <cite>inputfunc</cite> or the function represented by <cite>inputsymbolic</cite>.
If this is the only argument, it cannot be a list.</li>
<li><strong>inputsymbolic</strong> (<em>sympy.Expr</em>) – A sympy expression whose only symbols are the names of axes.
It is preferred, though not required, that this is passed
without an <cite>axisname</cite> argument – the axis names are then
inferred from the symbolic expression.</li>
<li><strong>inputfunc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – A function (typically a lambda function) that taxes the values of the axis given by <cite>axisname</cite> as input.</li>
<li><strong>overwrite</strong> (<em>bool</em>) – Defaults to <cite>False</cite>. If set to <cite>True</cite>, it overwrites <cite>self</cite> with <cite>retval</cite>.</li>
<li><strong>as_array</strong> (<em>bool</em>) – Defaults to <cite>False</cite>. If set to <cite>True</cite>, <cite>retval</cite> is a properly dimensioned numpy ndarray rather than an nddata.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>retval</strong> – An expression calculated from the axis(es) given by <cite>axisname</cite> or inferred from <cite>inputsymbolic</cite>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">nddata | ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.ft">
<code class="descname">ft</code><span class="sig-paren">(</span><em>axes</em>, <em>tolerance=1e-05</em>, <em>cosine=False</em>, <em>verbose=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ft" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs a Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="docutils">
<dt>It adjusts normalization and units so that the result conforms to</dt>
<dd><span class="math notranslate nohighlight">\(\tilde{s}(f)=\int_{x_min}^{x_max} s(t) e^{-i 2 \pi f t} dt\)</span></dd>
</dl>
<p>Note that, as noted in the <a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata.ift" title="pyspecdata.nddata.ift"><code class="xref py py-func docutils literal notranslate"><span class="pre">ift()</span></code></a> documentation,
the inverse transform doesn’t correspond to the equivalent
expression for the IFT.</p>
<p><strong>pre-FT</strong>, we use the axis to cyclically permute <span class="math notranslate nohighlight">\(t=0\)</span> to the first index</p>
<p><strong>post-FT</strong>, we assume that the data has previously been IFT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard fftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.</li>
<li><strong>automix</strong> (<em>double</em>) – <cite>automix</cite> can be set to the approximate frequency value.  This is
useful for the specific case where the data has been captured on a
sampling scope, and it’s severely aliased over.</li>
<li><strong>cosine</strong> (<em>boolean</em>) – yields a sum of the fft and ifft, for a cosine transform</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.ft_clear_startpoints">
<code class="descname">ft_clear_startpoints</code><span class="sig-paren">(</span><em>axis</em>, <em>t=None</em>, <em>f=None</em>, <em>nearest=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ft_clear_startpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears memory of where the origins in the time and frequency domain are.
This is useful, <em>e.g.</em> when you want to ift and center about time=0.
By setting shift=True you can also manually set the points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>t</strong> (<em>float</em><em>, </em><em>'current'</em><em>, </em><em>'reset'</em><em>, or </em><em>None</em>) – keyword arguments <cite>t</cite> and <cite>f</cite> can be set by (1) manually setting
the start point (2) using the string ‘current’ to leave the
current setting a lone (3) ‘reset’, which clears the startpoint
and (4) None, which will be changed to ‘current’ when the other is set to a number or ‘rest’ if both are set to None.</li>
<li><strong>t</strong> – see <cite>t</cite></li>
<li><strong>nearest</strong> (<em>bool</em>) – <p>Shifting the startpoint can only be done
by an integral number of datapoints
(<em>i.e.</em> an integral number of dwell
times, dt, in the time domain or
integral number of df in the frequency
domain).
While it is possible to shift by a
non-integral number of datapoints,
this is done by applying a
phase-dependent shift in the inverse
domain.
Applying such a axis-dependent shift
can have vary unexpected effects if the
data in the inverse domain is aliased,
and is therefore heavily discouraged.
(For example, consider what happens if
we attempt to apply a
frequency-dependent phase shift to data
where a peak at 110 Hz is aliased and
appears at the 10 Hz position.)</p>
<p>Setting <cite>nearest</cite> to <strong>True</strong>
will choose a startpoint at the closest
integral datapoint to what you have
specified.</p>
<p>Setting <cite>nearest</cite> to <strong>False</strong>
will explicitly override the safeties –
essentially telling the code that you
know the data is not aliased in the
inverse domain and/or are willing to
deal with the consequences.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.ft_state_to_str">
<code class="descname">ft_state_to_str</code><span class="sig-paren">(</span><em>*axes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ft_state_to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string that lists the FT domain for the given axes.</p>
<p><span class="math notranslate nohighlight">\(u\)</span> refers to the original domain (typically time) and <span class="math notranslate nohighlight">\(v\)</span> refers to the FT’d domain (typically frequency)
If no axes are passed as arguments, it does this for all axes.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.ftshift">
<code class="descname">ftshift</code><span class="sig-paren">(</span><em>axis</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ftshift" title="Permalink to this definition">¶</a></dt>
<dd><p>FT-based shift.  Currently only works in time domain.</p>
<p>This was previously made obsolete, but is now a demo of how to use the ft properties.
It is not the most efficient way to do this.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.get_covariance">
<code class="descname">get_covariance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>this returns the covariance matrix of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.get_error">
<code class="descname">get_error</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_error" title="Permalink to this definition">¶</a></dt>
<dd><p>get a copy of the errors
either set_error(‘axisname’,error_for_axis) or set_error(error_for_data)</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.get_ft_prop">
<code class="descname">get_ft_prop</code><span class="sig-paren">(</span><em>axis</em>, <em>propname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_ft_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if no <cite>propname</cite> is given, this just sets the <cite>FT</cite> property, which tells if a dimension is frequency or time domain</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.get_plot_color">
<code class="descname">get_plot_color</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_plot_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.get_prop">
<code class="descname">get_prop</code><span class="sig-paren">(</span><em>propname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>return arbitrary ND-data properties (typically acquisition parameters <em>etc.</em>) by name (<cite>propname</cite>)</p>
<p>In order to allow ND-data to store acquisition parameters and other info that accompanies the data,
but might not be structured in a gridded format, nddata instances
always have a <cite>other_info</cite> dictionary attribute,
which stores these properties by name.</p>
<p>If the property doesn’t exist, this returns <cite>None</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>propname</strong> (<em>str</em>) – <p>Name of the property that you’re want returned.
If this is left out or set to “None” (not given), the names of the available
properties are returned.
If no exact match is found, and propname contains a . or * or [, it’s
assumed to be a regular expression.
If several such matches are found, the error message is informative.</p>
<span class="target" id="index-3"></span><div class="admonition-todo admonition">
<p class="first admonition-title">Todo</p>
<p class="last">have it recursively search dictionaries (e.g. bruker acq)</p>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">The value of the property (can by any type) or <cite>None</cite> if the property doesn’t exist.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.get_units">
<code class="descname">get_units</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.getaxis">
<code class="descname">getaxis</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.getaxis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.getaxisshape">
<code class="descname">getaxisshape</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.getaxisshape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.gnuplot_save">
<code class="descname">gnuplot_save</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.gnuplot_save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.hdf5_write">
<code class="descname">hdf5_write</code><span class="sig-paren">(</span><em>h5path</em>, <em>directory='.'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.hdf5_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the nddata to an HDF5 file.</p>
<p><cite>h5path</cite> is the name of the file followed by the node path where
you want to put it – it does <strong>not</strong> include the directory where
the file lives.
The directory can be passed to the <cite>directory</cite> argument.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>h5path</strong> (<em>str</em>) – The name of the file followed by the node path where
you want to put it – it does <strong>not</strong> include the directory where
the file lives.
(Because HDF5 files contain an internal directory-like group
structure.)</li>
<li><strong>directory</strong> (<em>str</em>) – the directory where the HDF5 file lives.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.histogram">
<code class="descname">histogram</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.histogram" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.human_units">
<code class="descname">human_units</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.human_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.ift">
<code class="descname">ift</code><span class="sig-paren">(</span><em>axes</em>, <em>n=False</em>, <em>tolerance=1e-05</em>, <em>verbose=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ift" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs a Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="docutils">
<dt>It adjusts normalization and units so that the result conforms to</dt>
<dd><span class="math notranslate nohighlight">\(s(t)=t_{dw} \int_{x_min}^{x_max} \tilde{s}(t) e^{i 2 \pi f t} df\)</span></dd>
</dl>
<p>Where <span class="math notranslate nohighlight">\(t_{dw}=\frac{1}{\Delta f}\)</span>, is the dwell time (with <span class="math notranslate nohighlight">\(\Delta f\)</span> the spectral width).</p>
<p><em>Why do we do this?</em> Note that while the analytical integral this corresponds to is normalized, performing
<a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata.ft" title="pyspecdata.nddata.ft"><code class="xref py py-func docutils literal notranslate"><span class="pre">ft()</span></code></a> followed by <a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata.ift" title="pyspecdata.nddata.ift"><code class="xref py py-func docutils literal notranslate"><span class="pre">ift()</span></code></a> on a discrete sequence is NOT completely invertible
(due to integration of the implied comb function??),
and would require division by a factor of $Delta f$ (the spectral width) in order
to retrieve the original function</p>
<p><strong>pre-IFT</strong>, we use the axis to cyclically permute $f=0$ to the first index</p>
<p><strong>post-IFT</strong>, we assume that the data has previously been FT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard ifftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <p><cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.   It uses the
<cite>start_time</cite> ft property to determine the start of the axis.  To
do this, it assumes that it is a stationary signal
(convolved with infinite comb function).
The value of <cite>start_time</cite> can differ from by a non-integral multiple of
<span class="math notranslate nohighlight">\(\Delta t\)</span>, though the routine will check whether or not it is safe to
do this.</p>
<dl class="docutils">
<dt>..note ::</dt>
<dd>In the code, this is controlled by <cite>p2_post</cite> (the integral
<span class="math notranslate nohighlight">\(\Delta t\)</span> and <cite>p2_post_discrepancy</cite> – the non-integral.</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.nddata.imag">
<code class="descname">imag</code><a class="headerlink" href="#pyspecdata.nddata.imag" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the imag component of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.indices">
<code class="descname">indices</code><span class="sig-paren">(</span><em>axis_name</em>, <em>values</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string of indeces that most closely match the axis labels corresponding to values. Filter them to make sure they are unique.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.inhomog_coords">
<code class="descname">inhomog_coords</code><span class="sig-paren">(</span><em>direct_dim</em>, <em>indirect_dim</em>, <em>tolerance=1e-05</em>, <em>method='linear'</em>, <em>plot_name=None</em>, <em>fl=None</em>, <em>debug_kwargs={}</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.inhomog_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the “inhomogeneity transform,” which rotates the data by <span class="math notranslate nohighlight">\(45^{\circ}\)</span>, and then mirrors the portion with <span class="math notranslate nohighlight">\(t_2&lt;0\)</span> in order to transform from a <span class="math notranslate nohighlight">\((t_1,t_2)\)</span> coordinate system to a <span class="math notranslate nohighlight">\((t_{inh},t_{homog})\)</span> coordinate system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>direct_dim</strong> (<em>str</em>) – Label of the direct dimension (typically <span class="math notranslate nohighlight">\(t_2\)</span>)</li>
<li><strong>indirect_dim</strong> (<em>str</em>) – Label of the indirect dimension (typically <span class="math notranslate nohighlight">\(t_1\)</span>)</li>
<li><strong>method</strong> (<em>'linear'</em><em>, </em><em>'fourier'</em>) – The interpolation method used to rotate the data and to mirror the data.
<strong>Note</strong> currently, both use a fourier-based mirroring method.</li>
<li><strong>plot_name</strong> (<em>str</em>) – the base name for the plots that are generated</li>
<li><strong>fl</strong> (<em>figlist_var</em>) – </li>
<li><strong>debug_kwargs</strong> (<em>dict</em>) – <p>with keys:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2"><cite>correct_overlap</cite>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">if False, doesn’t correct for the overlap error that occurs during mirroring</td>
</tr>
</tbody>
</table>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.integrate">
<code class="descname">integrate</code><span class="sig-paren">(</span><em>thisaxis</em>, <em>backwards=False</em>, <em>cumulative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>this performs an integration – which is similar to a sum, except that it takes the axis into account, i.e., it performs:
$int f(x) dx$
rather than
$sum_i f(x_i)$</p>
<p>Gaussian quadrature, etc, is planned for a future version.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.interp">
<code class="descname">interp</code><span class="sig-paren">(</span><em>axis</em>, <em>axisvalues</em>, <em>past_bounds=None</em>, <em>verbose=False</em>, <em>return_func=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.interp" title="Permalink to this definition">¶</a></dt>
<dd><p>interpolate data values given axis values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_func</strong> (<em>boolean</em>) – defaults to False.  If True, it returns a function that accepts
axis values and returns a data value.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.invinterp">
<code class="descname">invinterp</code><span class="sig-paren">(</span><em>axis</em>, <em>values</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.invinterp" title="Permalink to this definition">¶</a></dt>
<dd><p>interpolate axis values given data values</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.item">
<code class="descname">item</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.item" title="Permalink to this definition">¶</a></dt>
<dd><p>like numpy item – returns a number when zero-dimensional</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">labels</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span></dt>
<dd><p>label the dimensions, given in listofstrings with the axis labels given in listofaxes – listofaxes must be a numpy array;
you can pass either a dictionary or a axis name (string)/axis label (numpy array) pair</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.like">
<code class="descname">like</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.like" title="Permalink to this definition">¶</a></dt>
<dd><p>provide “zeros_like” and “ones_like” functionality</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>float</em>) – 1 is “ones_like” 0 is “zeros_like”, etc.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.linear_shear">
<code class="descname">linear_shear</code><span class="sig-paren">(</span><em>along_axis</em>, <em>propto_axis</em>, <em>shear_amnt</em>, <em>zero_fill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.linear_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>the linear shear – see <cite>self.shear</cite> for documentation</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.matchdims">
<code class="descname">matchdims</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.matchdims" title="Permalink to this definition">¶</a></dt>
<dd><p>add any dimensions to self that are not present in other</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.matrices_3d">
<code class="descname">matrices_3d</code><span class="sig-paren">(</span><em>also1d=False</em>, <em>invert=False</em>, <em>max_dimsize=1024</em>, <em>downsample_self=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.matrices_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>returns X,Y,Z,x_axis,y_axis
matrices X,Y,Z, are suitable for a variety of mesh plotting, etc, routines
x_axis and y_axis are the x and y axes</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.mayavi_surf">
<code class="descname">mayavi_surf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mayavi_surf" title="Permalink to this definition">¶</a></dt>
<dd><p>use the mayavi surf function, assuming that we’ve already loaded mlab
during initialization</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.mean">
<code class="descname">mean</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Take the mean and set the error to the standard deviation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_error</strong> (<em>bool</em>) – whether or note to return the standard deviation as an error</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.mean_all_but">
<code class="descname">mean_all_but</code><span class="sig-paren">(</span><em>listofdims</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mean_all_but" title="Permalink to this definition">¶</a></dt>
<dd><p>take the mean over all dimensions not in the list</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.mean_nopop">
<code class="descname">mean_nopop</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mean_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.mean_weighted">
<code class="descname">mean_weighted</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mean_weighted" title="Permalink to this definition">¶</a></dt>
<dd><p>perform  the weighted mean along <cite>axisname</cite> (use $sigma$ from $sigma = $self.get_error() do generate $1/sigma$ weights)
for now, it clears the error of <cite>self</cite>, though it would be easy to calculate the new error, since everything is linear</p>
<p>unlike other functions, this creates working objects that are themselves nddata objects
this strategy is easier than coding out the raw numpy math, but probably less efficient</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.meshplot">
<code class="descname">meshplot</code><span class="sig-paren">(</span><em>stride=None</em>, <em>alpha=1.0</em>, <em>onlycolor=False</em>, <em>light=None</em>, <em>rotation=None</em>, <em>cmap=&lt;matplotlib.colors.LinearSegmentedColormap object&gt;</em>, <em>ax=None</em>, <em>invert=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.meshplot" title="Permalink to this definition">¶</a></dt>
<dd><p>takes both rotation and light as elevation, azimuth
only use the light kwarg to generate a black and white shading display</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.mkd">
<code class="descname">mkd</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mkd" title="Permalink to this definition">¶</a></dt>
<dd><p>make dictionary format</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.multimin">
<code class="descname">multimin</code><span class="sig-paren">(</span><em>minfunc</em>, <em>axisname</em>, <em>filterwidth</em>, <em>numberofmins</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.multimin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.name">
<code class="descname">name</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.name" title="Permalink to this definition">¶</a></dt>
<dd><p>args:
.name(newname) –&gt; Name the object (for storage, etc)
.name() –&gt; Return the name</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.nnls">
<code class="descname">nnls</code><span class="sig-paren">(</span><em>dimname</em>, <em>newaxis_dict</em>, <em>kernel_func</em>, <em>l=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.nnls" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform regularized non-negative least-squares “fit” on self.</p>
<p>Capable of solving for solution in 1 or 2 dimensions.</p>
<p>We seek to minimize
<span class="math notranslate nohighlight">\(Q = \| Ax - b \|_2 + \|\lambda x\|_2\)</span>
in order to obtain solution vector <span class="math notranslate nohighlight">\(x\)</span> subject to non-negativity constraint
given input matrix <span class="math notranslate nohighlight">\(A\)</span>, the kernel, and input vector <span class="math notranslate nohighlight">\(b\)</span>, the data.</p>
<p>The first term assesses agreement between the fit <span class="math notranslate nohighlight">\(Ax\)</span> and the data <span class="math notranslate nohighlight">\(b\)</span>,
and the second term accounts for noise with the regularization parameter <span class="math notranslate nohighlight">\(\lambda\)</span>
according to Tikhonov regularization.</p>
<p>To perform regularized minimization in 2 dimensions, set <cite>l</cite> to <a href="#id19"><span class="problematic" id="id20">:str:`BRD`</span></a> and provide a
tuple of parameters <a href="#id21"><span class="problematic" id="id22">:str:`dimname`</span></a>, <a href="#id23"><span class="problematic" id="id24">:nddata:`newaxis_dict`</span></a>, and <a href="#id25"><span class="problematic" id="id26">:function:`kernel_func`</span></a>.
Algorithm described in Venkataramanan et al. 2002 is performed which determines optimal <span class="math notranslate nohighlight">\(\lambda\)</span>
for the data (DOI:10.1109/78.995059).</p>
<p>See: <a class="reference external" href="https://en.wikipedia.org/wiki/Non-negative_least_squares">Wikipedia page on NNLS</a>,
<a class="reference external" href="https://en.wikipedia.org/wiki/Tikhonov_regularization">Wikipedia page on Tikhonov regularization</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dimname</strong> (<em>str</em>) – Name of the “data” dimension that is to be replaced by a
distribution (the “fit” dimension);
<em>e.g.</em> if you are regularizing a set of functions
<span class="math notranslate nohighlight">\(\exp(-\tau*R_1)\)</span>, then this is <span class="math notranslate nohighlight">\(\tau\)</span></li>
<li><strong>newaxis_dict</strong> (<em>dict</em><em> or </em><a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata"><em>nddata</em></a>) – a dictionary whose key is the name of the “fit” dimension
(<span class="math notranslate nohighlight">\(R_1\)</span> in the example above)
and whose value is an array with the new axis labels.
OR
this can be a 1D nddata
– if it has an axis, the axis will be used to create the
fit axis; if it has no axis, the data will be used</li>
<li><strong>kernel_func</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – a function giving the kernel for the regularization.
The first argument is the “data” variable
and the second argument is the “fit” variable
(in the example above, this would be something like
<code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x,y:</span> <span class="pre">exp(-x*y)</span></code>)</li>
<li><strong>l</strong> (<em>double</em><em> (</em><em>default 0</em><em>) or </em><em>str</em>) – the regularization parameter
<span class="math notranslate nohighlight">\(lambda\)</span> – if this is set to 0, the algorithm reverts to
standard nnls.
If this is set to <a href="#id29"><span class="problematic" id="id30">:str:`BRD`</span></a>, then algorithm expects tuple of each parameter
described above in order to perform a 2-dimensional fit.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The regularized result.
For future use, both the kernel (as an nddata, in a property called
“nnls_kernel”) and the residual (as an nddata, in a property called
“nnls_residual”) are stored as properties of the nddata.
The regularized dimension is always last
(innermost).
If <a href="#id31"><span class="problematic" id="id32">:str:`BRD`</span></a> is specified, then the individual, uncompressed kernels <span class="math notranslate nohighlight">\(K_{1}\)</span> and <span class="math notranslate nohighlight">\(K_{2}\)</span> are returned as properties of the nddata “K1” and “K2” respectively. The number of singular values used to compressed each kernel is returned in properties of the nddata called, respectively, “s1” and “s2”.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.normalize">
<code class="descname">normalize</code><span class="sig-paren">(</span><em>axis</em>, <em>first_figure=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.normalize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.oldtimey">
<code class="descname">oldtimey</code><span class="sig-paren">(</span><em>alpha=0.5</em>, <em>ax=None</em>, <em>linewidth=None</em>, <em>sclinewidth=20.0</em>, <em>light=True</em>, <em>rotation=None</em>, <em>invert=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.oldtimey" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.plot_labels">
<code class="descname">plot_labels</code><span class="sig-paren">(</span><em>labels</em>, <em>fmt=None</em>, <em>**kwargs_passed</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.plot_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>this only works for one axis now</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.polyfit">
<code class="descname">polyfit</code><span class="sig-paren">(</span><em>axis</em>, <em>order=1</em>, <em>force_y_intercept=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.polyfit" title="Permalink to this definition">¶</a></dt>
<dd><p>polynomial fitting routine – return the coefficients and the fit
..note:</p>
<blockquote>
<div>later, should probably branch this off as a new type of fit class</div></blockquote>
<dl class="docutils">
<dt>..warning:</dt>
<dd>for some reason, this version doesn’t use orthogonal polynomials,
as the numpy routine does – we had diagnosed and determined that
that creates noticeably different results, so fix that here.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>axis</strong> (<em>str</em>) – name of the axis that you want to fit along
(not sure if this is currently tested for multi-dimensional data,
but the idea should be that multiple fits would be returned.)</li>
<li><strong>order</strong> (<em>int</em>) – the order of the polynomial to be fit</li>
<li><strong>force_y_intercept</strong> (<em>double</em><em> or </em><em>None</em>) – force the y intercept to a particular value (e.g. 0)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>c</strong> (<em>ndarray</em>) – a standard numpy array containing the coefficients (in ascending polynomial order)</li>
<li><strong>formult</strong> (<em>nddata</em>) – an nddata containing the result of the fit</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.popdim">
<code class="descname">popdim</code><span class="sig-paren">(</span><em>dimname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.popdim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.random_mask">
<code class="descname">random_mask</code><span class="sig-paren">(</span><em>axisname</em>, <em>threshold=None</em>, <em>inversion=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.random_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a random mask with about ‘threshold’ of the points thrown out</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.nddata.real">
<code class="descname">real</code><a class="headerlink" href="#pyspecdata.nddata.real" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the real component of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.register_axis">
<code class="descname">register_axis</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.register_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate the data so that the given axes are in register with a set of specified values. Does not change the spacing of the axis labels.</p>
<p>It finds the axis label position that is closest to the values given in <cite>arg</cite>, then interpolates (Fourier/sinc method) the data onto a new, slightly shifted, axis that passes exactly through the value given.
To do this, it uses
<a class="reference internal" href="#pyspecdata.core.nddata.ft_clear_startpoints" title="pyspecdata.core.nddata.ft_clear_startpoints"><code class="xref py py-func docutils literal notranslate"><span class="pre">.ft_clear_startpoints()</span></code></a>
and uses
<a class="reference internal" href="#pyspecdata.core.nddata.set_ft_prop" title="pyspecdata.core.nddata.set_ft_prop"><code class="xref py py-func docutils literal notranslate"><span class="pre">.set_ft_prop()</span></code></a>
to override the “not aliased” flag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arg</strong> (<em>dict</em><em> (</em><em>key</em><em>,</em><em>value = str</em><em>,</em><em>double</em><em>)</em>) – A list of the dimensions that you want to place in register, and the values you want them registered to.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>previous</em>, <em>new</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.rename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.reorder">
<code class="descname">reorder</code><span class="sig-paren">(</span><em>*axes</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.reorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorder the dimensions
the first arguments are a list of dimensions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>*axes</strong> (<em>str</em>) – Accept any number of arguments that gives the dimensions, in the
order that you want thee.</li>
<li><strong>first</strong> (<em>bool</em>) – (default True)
Put this list of dimensions first, while False puts them last (where they then come in the order given).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.replicate_units">
<code class="descname">replicate_units</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.replicate_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.repwlabels">
<code class="descname">repwlabels</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.repwlabels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.retaxis">
<code class="descname">retaxis</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.retaxis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run a standard numpy function on the nddata:</p>
<p><code class="docutils literal notranslate"><span class="pre">d.run(func,'axisname')</span></code> will run function <cite>func</cite> (<em>e.g.</em> a
lambda function) along axis named ‘axisname’</p>
<p><code class="docutils literal notranslate"><span class="pre">d.run(func)</span></code> will run function <cite>func</cite> on the data</p>
<p><strong>in general</strong>: if the result of func reduces a dimension size to
1, the ‘axisname’ dimension will be “popped” (it will not exist in
the result) – if this is not what you want, use <code class="docutils literal notranslate"><span class="pre">run_nopop</span></code></p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.run_avg">
<code class="descname">run_avg</code><span class="sig-paren">(</span><em>thisaxisname</em>, <em>decimation=20</em>, <em>centered=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.run_avg" title="Permalink to this definition">¶</a></dt>
<dd><p>a simple running average</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.run_nopop">
<code class="descname">run_nopop</code><span class="sig-paren">(</span><em>func</em>, <em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.run_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.runcopy">
<code class="descname">runcopy</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.runcopy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.secsy_transform">
<code class="descname">secsy_transform</code><span class="sig-paren">(</span><em>direct_dim</em>, <em>indirect_dim</em>, <em>has_indirect=True</em>, <em>method='fourier'</em>, <em>truncate=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.secsy_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the time-domain data backwards by the echo time.</p>
<p>As opposed to <code class="xref py py-func docutils literal notranslate"><span class="pre">secsy_transform_manual</span></code>, this calls on on <code class="xref py py-func docutils literal notranslate"><span class="pre">skew</span></code>,
rather than directly manipulating the phase of the function, which can lead to aliasing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>has_indirect</strong> (<em>bool</em>) – <p>(This option is largely specific to data loaded by <code class="xref py py-func docutils literal notranslate"><span class="pre">acert_hdf5</span></code>)</p>
<p>Does the data actually have an indirect dimension?
If not, assume that there is a constant echo time,
that can be retrieved with <code class="docutils literal notranslate"><span class="pre">.get_prop('te')</span></code>.</p>
</li>
<li><strong>truncate</strong> (<em>bool</em>) – If this is set, <cite>register_axis &lt;pyspecdata.axis_manipulation.register_axis&gt;</cite> to <span class="math notranslate nohighlight">\(t_{direct}=0\)</span>,
and then throw out the data for which <span class="math notranslate nohighlight">\(t_{direct}&lt;0\)</span>.</li>
<li><strong>method</strong> (<em>str</em>) – The shear method (linear or fourier).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.secsy_transform_manual">
<code class="descname">secsy_transform_manual</code><span class="sig-paren">(</span><em>direct_dim</em>, <em>indirect_dim</em>, <em>has_indirect=True</em>, <em>truncate=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.secsy_transform_manual" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the time-domain data backwards by the echo time.
As opposed to <code class="xref py py-func docutils literal notranslate"><span class="pre">secsy_transform</span></code>, this directlly manipulates the phase of the function, rather than calling on <code class="xref py py-func docutils literal notranslate"><span class="pre">skew</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>has_indirect</strong> (<em>bool</em>) – <p>(This option is largely specific to data loaded by <code class="xref py py-func docutils literal notranslate"><span class="pre">acert_hdf5</span></code>)</p>
<p>Does the data actually have an indirect dimension?
If not, assume that there is a constant echo time,
that can be retrieved with <code class="docutils literal notranslate"><span class="pre">.get_prop('te')</span></code>.</p>
</li>
<li><strong>truncate</strong> (<em>bool</em>) – If this is set, <cite>register_axis &lt;pyspecdata.axis_manipulation.register_axis&gt;</cite> to <span class="math notranslate nohighlight">\(t_{direct}=0\)</span>,
and then throw out the data for which <span class="math notranslate nohighlight">\(t_{direct}&lt;0\)</span>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.set_error">
<code class="descname">set_error</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_error" title="Permalink to this definition">¶</a></dt>
<dd><p>set the errors: either</p>
<p><cite>set_error(‘axisname’,error_for_axis)</cite> or <cite>set_error(error_for_data)</cite></p>
<p><cite>error_for_data</cite> can be a scalar, in which case, <strong>all</strong> the data errors are set to <cite>error_for_data</cite></p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.set_ft_prop">
<code class="descname">set_ft_prop</code><span class="sig-paren">(</span><em>axis</em>, <em>propname=None</em>, <em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_ft_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if <cite>propname</cite> is a boolean, and <cite>value</cite> is True (the default), it’s assumed that propname is actually None, and that <cite>value</cite> is set to the <cite>propname</cite> argument (this allows us to set the <cite>FT</cite> property more easily)</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.set_plot_color">
<code class="descname">set_plot_color</code><span class="sig-paren">(</span><em>thiscolor</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_plot_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.set_prop">
<code class="descname">set_prop</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>set a ‘property’ of the nddata
This is where you can put all unstructured information (e.g. experimental parameters, etc)</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.set_to">
<code class="descname">set_to</code><span class="sig-paren">(</span><em>otherinst</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Set data inside the current instance to that of the other instance.</p>
<p>Goes through the list of attributes specified in copy,
and assigns them to the element of the current instance.</p>
<p>This is to be used:</p>
<ul class="simple">
<li>for constructing classes that inherit nddata with additional methods.</li>
<li>for overwriting the current data with the result of a slicing operation</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.set_units">
<code class="descname">set_units</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.setaxis">
<code class="descname">setaxis</code><span class="sig-paren">(</span><em>axis</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.setaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>set the value of the axis if you pass a function as the <cite>value</cite>, it will use the existing axis labels as the argument of the function, and then put the result into the axis labels</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.shear">
<code class="descname">shear</code><span class="sig-paren">(</span><em>along_axis</em>, <em>propto_axis</em>, <em>shear_amnt</em>, <em>zero_fill=True</em>, <em>start_in_conj=False</em>, <em>method='linear'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.shear" title="Permalink to this definition">¶</a></dt>
<dd><p>Shear the data <span class="math notranslate nohighlight">\(s\)</span>:</p>
<p><span class="math notranslate nohighlight">\(s(x',y,z) = s(x+ay,y,z)\)</span></p>
<p>where <span class="math notranslate nohighlight">\(x\)</span> is the <cite>altered_axis</cite> and <span class="math notranslate nohighlight">\(y\)</span> is the
<cite>propto_axis</cite>.  (Actually typically 2D, but <span class="math notranslate nohighlight">\(z\)</span> included
just to illustrate other dimensions that aren’t involved)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>method</strong> (<em>{'fourier'</em><em>,</em><em>'linear'}</em>) – <dl class="docutils">
<dt>fourier</dt>
<dd>Use the Fourier shift theorem (<em>i.e.</em>, sinc interpolation).  A
shear is equivalent to the following in the conjugate domain:<p>..math: <cite>tilde{s}(f_x,f’_y,z) = tilde{s}(f_x,f_y-af_x,f_z)</cite></p>
<p class="last">Because of this, the algorithm <strong>also</strong>
automatically <cite>extend`s the data in `f_y</cite> axis.
Equivalently, it increases the resolution
(decreases the interval between points) in the
<cite>propto_axis</cite> dimension.  This prevents aliasing
in the conjugate domain, which will corrupt the
data <em>w.r.t.</em> successive transformations. It does
this whether or not <cite>zero_fill</cite> is set
(<cite>zero_fill</cite> only controls filling in the
“current” dimension)</p>
</dd>
<dt>linear</dt>
<dd>Use simple linear interpolation.</dd>
</dl>
</li>
<li><strong>altered_axis</strong> (<em>str</em>) – The coordinate for which data is altered, <em>i.e.</em>
..math: <cite>x</cite> such that ..math: <cite>f(x+ay,y)</cite>.</li>
<li><strong>by_amount</strong> (<em>double</em>) – The amount of the shear (..math: <cite>a</cite> in the previous)</li>
<li><strong>propto_axis</strong> (<em>str</em>) – The shift along the <cite>altered_axis</cite> dimension is
proportional to the shift along <cite>propto_axis</cite>.
The position of data relative to the <cite>propto_axis</cite> is not
changed.
Note that by the shift theorem, in the frequency domain,
an equivalent magnitude, opposite sign, shear is applied
with the <cite>propto_axis</cite> and <cite>altered_axis</cite> dimensions
flipped.</li>
<li><strong>start_in_conj</strong> (<em>{False</em><em>, </em><em>True}</em><em>, </em><em>optional</em>) – <p>Defaults to False</p>
<p>For efficiency, one can replace a double (I)FT call followed by a
shear call with a single shear call where <cite>start_in_conj</cite> is set.</p>
<p><cite>self</cite> before the call is given in the conjugate domain  (<em>i.e.</em>,
<span class="math notranslate nohighlight">\(f\)</span> <em>vs.</em> <span class="math notranslate nohighlight">\(t\)</span>) along both dimensions from the one that’s
desired.  This means: (1) <cite>self</cite> after the function call transformed
into the conjugate domain from that before the call and (2)
<cite>by_amount</cite>, <cite>altered_axis</cite>, and <cite>propto_axis</cite> all refer to the shear
in the conjugate domain that the data is in at the end of the
function call.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.smoosh">
<code class="descname">smoosh</code><span class="sig-paren">(</span><em>dimstocollapse</em>, <em>dimname=0</em>, <em>noaxis=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.smoosh" title="Permalink to this definition">¶</a></dt>
<dd><p>Collapse (smoosh) multiple dimensions into one dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dimstocollapse</strong> (<em>list of strings</em>) – the dimensions you want to collapse to one result dimension</li>
<li><strong>dimname</strong> (<em>None</em><em>, </em><em>string</em><em>, </em><em>integer</em><em> (</em><em>default 0</em><em>)</em>) – <p>if dimname is:</p>
<ul>
<li>None: create a new (direct product) name,</li>
<li>a number: an index to the <code class="docutils literal notranslate"><span class="pre">dimstocollapse</span></code> list.  The resulting smooshed dimension will be named <code class="docutils literal notranslate"><span class="pre">dimstocollapse[dimname]</span></code>. Because the default is the number 0, the new dimname will be the first dimname given in the list.</li>
<li>a string: the name of the resulting smooshed dimension (can be part of the <code class="docutils literal notranslate"><span class="pre">dimstocollapse</span></code> list or not)</li>
</ul>
</li>
<li><strong>noaxis</strong> (<em>bool</em>) – if set, then just skip calculating the axis for the new dimension,
which otherwise is typically a complicated record array</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>self</strong> (<em>nddata</em>) – the dimensions <cite>dimstocollapse</cite> are smooshed into a single dimension,
whose name is determined by <cite>dimname</cite>.
The axis for the resulting, smooshed dimension is a structured
array consisting of two fields that give the labels along the
original axes.</li>
<li><em>..todo::</em> – when we transition to axes that are stored using a
slice/linspace-like format,
allow for smooshing to determine a new axes that is standard
(not a structured array) and that increases linearly.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.sort">
<code class="descname">sort</code><span class="sig-paren">(</span><em>axisname</em>, <em>reverse=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.sort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.sort_and_xy">
<code class="descname">sort_and_xy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.sort_and_xy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.squeeze">
<code class="descname">squeeze</code><span class="sig-paren">(</span><em>return_dropped=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.squeeze" title="Permalink to this definition">¶</a></dt>
<dd><p>squeeze singleton dimensions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_dropped</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – return a list of the dimensions that were dropped as a second argument</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><em>self</em></li>
<li><strong>return_dropped</strong> (<em>list</em>) – (optional, only if return_dropped is True)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><em>axes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.sum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.sum_nopop">
<code class="descname">sum_nopop</code><span class="sig-paren">(</span><em>axes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.sum_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.to_ppm">
<code class="descname">to_ppm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.to_ppm" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that converts from Hz to ppm using Bruker parameters</p>
<div class="admonition-todo admonition" id="index-4">
<p class="first admonition-title">Todo</p>
<p>Figure out what the units of PHC1 in Topspin are (degrees per <em>what??</em>), and apply those as well.</p>
<p class="last">make this part of an inherited bruker class</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.unitify_axis">
<code class="descname">unitify_axis</code><span class="sig-paren">(</span><em>axis_name</em>, <em>is_axis=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.unitify_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>this just generates an axis label with appropriate units</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.units_texsafe">
<code class="descname">units_texsafe</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.units_texsafe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.unset_prop">
<code class="descname">unset_prop</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.unset_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a ‘property’</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.nddata.want_to_prospa_decim_correct">
<code class="descname">want_to_prospa_decim_correct</code><em class="property"> = False</em><a class="headerlink" href="#pyspecdata.nddata.want_to_prospa_decim_correct" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.waterfall">
<code class="descname">waterfall</code><span class="sig-paren">(</span><em>alpha=0.3</em>, <em>ax=None</em>, <em>rotation=None</em>, <em>color='b'</em>, <em>edgecolor='k'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.waterfall" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.nddata_hdf5">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">nddata_hdf5</code><span class="sig-paren">(</span><em>pathstring</em>, <em>directory='.'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.ndgrid">
<code class="descclassname">pyspecdata.</code><code class="descname">ndgrid</code><span class="sig-paren">(</span><em>*input</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndgrid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.ndshape">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">ndshape</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyspecdata.ndshape.ndshape_base" title="pyspecdata.ndshape.ndshape_base"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.ndshape.ndshape_base</span></code></a></p>
<p>The ndshape class, including the allocation method</p>
<dl class="method">
<dt id="pyspecdata.ndshape.alloc">
<code class="descname">alloc</code><span class="sig-paren">(</span><em>dtype='complex128'</em>, <em>labels=False</em>, <em>format=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.alloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the shape object to allocate an empty nddata object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> – Needs documentation</li>
<li><strong>format</strong> (<em>0</em><em>, </em><em>1</em><em>, or </em><em>None</em>) – What goes in the allocated array.
<cite>None</cite> uses numpy empty.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.ndshape_base">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">ndshape_base</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base" title="Permalink to this definition">¶</a></dt>
<dd><p>The base ndshape class, which doesn’t include an allocation method.</p>
<dl class="method">
<dt id="pyspecdata.ndshape_base.axn">
<code class="descname">axn</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.axn" title="Permalink to this definition">¶</a></dt>
<dd><p>return the number for the axis with the name “axis”</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape_base.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape_base.matchdims">
<code class="descname">matchdims</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.matchdims" title="Permalink to this definition">¶</a></dt>
<dd><p>returns shape with [not in self, len 1] + [overlapping dims between arg + self] + [not in arg] –&gt; this is better accomplished by using sets as I do in the matchdims below</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape_base.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><em>label</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a dimension</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape_base.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>before</em>, <em>after</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>rename a dimension</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.newcol_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">newcol_rec</code><span class="sig-paren">(</span><em>A</em>, <em>new_dtypes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.newcol_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>add new, empty (i.e. random numbers) fields to A, as given by new_dtypes
–&gt; note that there are deeply nested numpy functions to do this, but the options are confusing, and I think the way these work is efficient</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.nextfigure">
<code class="descclassname">pyspecdata.</code><code class="descname">nextfigure</code><span class="sig-paren">(</span><em>figurelist</em>, <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nextfigure" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – now use class</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.nnls_regularized">
<code class="descclassname">pyspecdata.</code><code class="descname">nnls_regularized</code><span class="sig-paren">(</span><em>A</em>, <em>b</em>, <em>l=0</em>, <em>maxiter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nnls_regularized" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve math:<cite>argmin_x || Ax - b ||_2^2 + lambda^2 ||x||_2^2</cite> for <code class="docutils literal notranslate"><span class="pre">x&gt;=0</span></code>.
This is a wrapper for a FORTRAN non-negative least squares solver,
with regularization (added by stacking $A$ on top an identity matrix
times $lambda$ and $b$ on top of a matching array of zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<em>ndarray</em>) – Matrix <code class="docutils literal notranslate"><span class="pre">A</span></code> as shown above.</li>
<li><strong>b</strong> (<em>ndarray</em>) – Right-hand side vector.</li>
<li><strong>l</strong> (<em>double</em><em> (</em><em>default 0</em><em>)</em>) – <span class="math notranslate nohighlight">\(lambda\)</span> – if this is set to 0, the algorithm reverts to
standard nnls (rather than stacking on top of two zero matrices
for no reason)</li>
<li><strong>maxiter</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of iterations, optional.
Default is <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">*</span> <span class="pre">A.shape[1]</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>x</strong> (<em>ndarray</em>) – Solution vector.</li>
<li><strong>rnorm</strong> (<em>float</em>) – The residual, <code class="docutils literal notranslate"><span class="pre">||</span> <span class="pre">Ax-b</span> <span class="pre">||_2</span></code>.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The FORTRAN code was published in the book below. The algorithm
is an active set method. It solves the KKT (Karush-Kuhn-Tucker)
conditions for the non-negative least squares problem.</p>
<p>This was adapted from the source distributed with scipy –
see scipy for relevant licensing.</p>
<p class="rubric">References</p>
<p>Lawson C., Hanson R.J., (1987) Solving Least Squares Problems, SIAM</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.normal_attrs">
<code class="descclassname">pyspecdata.</code><code class="descname">normal_attrs</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.normal_attrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.obs">
<code class="descclassname">pyspecdata.</code><code class="descname">obs</code><span class="sig-paren">(</span><em>*x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.obs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.obsn">
<code class="descclassname">pyspecdata.</code><code class="descname">obsn</code><span class="sig-paren">(</span><em>*x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.obsn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.othergridandtick">
<code class="descclassname">pyspecdata.</code><code class="descname">othergridandtick</code><span class="sig-paren">(</span><em>ax</em>, <em>rotation=(0</em>, <em>0)</em>, <em>precision=(2</em>, <em>2)</em>, <em>labelstring=(''</em>, <em>'')</em>, <em>gridcolor=None</em>, <em>y=True</em>, <em>x=True</em>, <em>spines=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.othergridandtick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.pinvr">
<code class="descclassname">pyspecdata.</code><code class="descname">pinvr</code><span class="sig-paren">(</span><em>C</em>, <em>alpha</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.pinvr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.plot">
<code class="descclassname">pyspecdata.</code><code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>The base plotting function that wraps around matplotlib to do a couple convenient things.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>label_format_string</strong> (<em>str</em>) – If supplied, it formats the values of the other dimension to turn them into a label string.</li>
<li><strong>human_units</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.plot_color_counter">
<code class="descclassname">pyspecdata.</code><code class="descname">plot_color_counter</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.plot_color_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Try not to use this function any more – the version-to-version support for capturing and setting color cycles in matplotlib is very very bad.  (And, the cycler object in newer versions of matplolib is confusing.) So, just import <cite>cycle</cite> from <cite>itertools</cite>, and use it to build a cycle that you directly call to set your properties.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>previous description:</p>
<p>if passed an argument: make it so that the next line will have the properties given by the argument</p>
<p class="last">if not passed an argument: just return the current plot properties,so that I can cycle back to it</p>
</div>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.plot_label_points">
<code class="descclassname">pyspecdata.</code><code class="descname">plot_label_points</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>labels</em>, <em>**kwargs_passed</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.plot_label_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.plot_updown">
<code class="descclassname">pyspecdata.</code><code class="descname">plot_updown</code><span class="sig-paren">(</span><em>data</em>, <em>axis</em>, <em>color1</em>, <em>color2</em>, <em>symbol=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.plot_updown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.process_kwargs">
<code class="descclassname">pyspecdata.</code><code class="descname">process_kwargs</code><span class="sig-paren">(</span><em>listoftuples</em>, <em>kwargs</em>, <em>pass_through=False</em>, <em>as_attr=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.process_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>This function allows dynamically processed (<em>i.e.</em> function definitions with <cite>**kwargs</cite>) kwargs (keyword arguments) to be dealt with in a fashion more like standard kwargs.
The defaults set in <cite>listoftuples</cite> are used to process <cite>kwargs</cite>, which are then returned as a set of values (that are set to defaults as needed).</p>
<p>Note that having <cite>kwargs</cite> as an explicit argument avoids errors where the user forgets to pass the <cite>kwargs</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kwargs</strong> (<a href="#id33"><span class="problematic" id="id34">**</span></a>dictionary) – The keyword arguments that you want to process.</li>
<li><strong>listoftuples</strong> (<em>list of tuple pairs</em>) – Tuple pairs, consisting of <code class="docutils literal notranslate"><span class="pre">('param_name',param_value)</span></code>, that give the default values for the various parameters.</li>
<li><strong>pass_through</strong> (<em>bool</em>) – Defaults to False.  If it’s true, then it’s OK not to process all the kwargs here.
In that case, the used kwargs are popped out of the dictionary, and you are expected to pass the unprocessed values (in the dictionary after the call) on to subsequent processing.
Importantly, you should <em>always</em> end with a <cite>pass_through`=`False</cite> call of this function, or by passing <a href="#id35"><span class="problematic" id="id36">**</span></a>kwargs to a standard function in the standard way.
Otherwise it’s possible for the user to pass kwargs that are never processed!</li>
<li><strong>as_attr</strong> (<em>bool</em><em>, </em><em>object</em>) – Defaults to False. If not False, it must be an object whose attributes are set to the value of the respective kwargs.</li>
<li><strong>return</strong> (<em>tuple</em>) – It’s expected that the output is assigned to variables with the <strong>exact same</strong> names as the string in the first half of the tuples, in the <strong>exact same</strong> order.
These parameters will then be set to the appropriate values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.prospa_t1_info">
<code class="descclassname">pyspecdata.</code><code class="descname">prospa_t1_info</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.prospa_t1_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.rc">
<code class="descclassname">pyspecdata.</code><code class="descname">rc</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.rc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.rclass">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">rclass</code><a class="headerlink" href="#pyspecdata.rclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.redim_C_to_F">
<code class="descclassname">pyspecdata.</code><code class="descname">redim_C_to_F</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.redim_C_to_F" title="Permalink to this definition">¶</a></dt>
<dd><p>see redim_F_to_C</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.redim_F_to_C">
<code class="descclassname">pyspecdata.</code><code class="descname">redim_F_to_C</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.redim_F_to_C" title="Permalink to this definition">¶</a></dt>
<dd><p>the following creates a C array, reversing the <em>apparent</em> order of dimensions, while preserving the order in memory</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.reformat_exp">
<code class="descclassname">pyspecdata.</code><code class="descname">reformat_exp</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.reformat_exp" title="Permalink to this definition">¶</a></dt>
<dd><p>reformat scientific notation in a nice latex format – used in both pdf and jupyter notebooks</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.rename_fields">
<code class="descclassname">pyspecdata.</code><code class="descname">rename_fields</code><span class="sig-paren">(</span><em>base</em>, <em>namemapper</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.rename_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename the fields from a flexible-datatype ndarray or recarray.</p>
<p>Nested fields are supported.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>base</strong> (<em>ndarray</em>) – Input array whose fields must be modified.</li>
<li><strong>namemapper</strong> (<em>dictionary</em>) – Dictionary mapping old field names to their new version.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.lib</span> <span class="k">import</span> <span class="n">recfunctions</span> <span class="k">as</span> <span class="n">rfn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">30.</span><span class="p">])),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">60.</span><span class="p">]))],</span>
<span class="gp">... </span>  <span class="n">dtype</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">),(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;ba&#39;</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;bb&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="mi">2</span><span class="p">))])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span><span class="o">.</span><span class="n">rename_fields</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;BB&#39;</span><span class="p">})</span>
<span class="go">array([(1, (2.0, [3.0, 30.0])), (4, (5.0, [6.0, 60.0]))],</span>
<span class="go">      dtype=[(&#39;A&#39;, &#39;&lt;i4&#39;), (&#39;b&#39;, [(&#39;ba&#39;, &#39;&lt;f8&#39;), (&#39;BB&#39;, &#39;&lt;f8&#39;, 2)])])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.render_matrix">
<code class="descclassname">pyspecdata.</code><code class="descname">render_matrix</code><span class="sig-paren">(</span><em>arg</em>, <em>format_code='%.4g'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.render_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>return latex string representing 2D matrix</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.reorder_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">reorder_rec</code><span class="sig-paren">(</span><em>myarray</em>, <em>listofnames</em>, <em>first=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.reorder_rec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.scipy_griddata">
<code class="descclassname">pyspecdata.</code><code class="descname">scipy_griddata</code><span class="sig-paren">(</span><em>points</em>, <em>values</em>, <em>xi</em>, <em>method='linear'</em>, <em>fill_value=nan</em>, <em>rescale=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.scipy_griddata" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate unstructured D-dimensional data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>points</strong> (<em>ndarray of floats</em><em>, </em><em>shape</em><em> (</em><em>n</em><em>, </em><em>D</em><em>)</em>) – Data point coordinates. Can either be an array of
shape (n, D), or a tuple of <cite>ndim</cite> arrays.</li>
<li><strong>values</strong> (<em>ndarray of float</em><em> or </em><em>complex</em><em>, </em><em>shape</em><em> (</em><em>n</em><em>,</em><em>)</em>) – Data values.</li>
<li><strong>xi</strong> (<em>2-D ndarray of float</em><em> or </em><em>tuple of 1-D array</em><em>, </em><em>shape</em><em> (</em><em>M</em><em>, </em><em>D</em><em>)</em>) – Points at which to interpolate data.</li>
<li><strong>method</strong> (<em>{'linear'</em><em>, </em><em>'nearest'</em><em>, </em><em>'cubic'}</em><em>, </em><em>optional</em>) – <p>Method of interpolation. One of</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">nearest</span></code></dt>
<dd>return the value at the data point closest to
the point of interpolation.  See <cite>NearestNDInterpolator</cite> for
more details.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">linear</span></code></dt>
<dd>tessellate the input point set to n-dimensional
simplices, and interpolate linearly on each simplex.  See
<cite>LinearNDInterpolator</cite> for more details.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cubic</span></code> (1-D)</dt>
<dd>return the value determined from a cubic
spline.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cubic</span></code> (2-D)</dt>
<dd>return the value determined from a
piecewise cubic, continuously differentiable (C1), and
approximately curvature-minimizing polynomial surface. See
<cite>CloughTocher2DInterpolator</cite> for more details.</dd>
</dl>
</li>
<li><strong>fill_value</strong> (<em>float</em><em>, </em><em>optional</em>) – Value used to fill in for requested points outside of the
convex hull of the input points.  If not provided, then the
default is <code class="docutils literal notranslate"><span class="pre">nan</span></code>. This option has no effect for the
‘nearest’ method.</li>
<li><strong>rescale</strong> (<em>bool</em><em>, </em><em>optional</em>) – <p>Rescale points to unit cube before performing interpolation.
This is useful if some of the input dimensions have
incommensurable units and differ by many orders of magnitude.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.14.0.</span></p>
</div>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Array of interpolated values.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.9.</span></p>
</div>
<p class="rubric">Examples</p>
<p>Suppose we want to interpolate the 2-D function</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>on a grid in [0, 1]x[0, 1]</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mgrid</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">100</span><span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">200</span><span class="n">j</span><span class="p">]</span>
</pre></div>
</div>
<p>but we only know its values at 1000 data points:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">points</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">points</span><span class="p">[:,</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>This can be done with <cite>griddata</cite> – below we try out all of the
interpolation methods:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="k">import</span> <span class="n">griddata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_z0</span> <span class="o">=</span> <span class="n">griddata</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="p">(</span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span><span class="p">),</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_z1</span> <span class="o">=</span> <span class="n">griddata</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="p">(</span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span><span class="p">),</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_z2</span> <span class="o">=</span> <span class="n">griddata</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="p">(</span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span><span class="p">),</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;cubic&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>One can see that the exact result is reproduced by all of the
methods to some degree, but for this smooth function the piecewise
cubic interpolant gives the best results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">221</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">points</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">points</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;k.&#39;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Original&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">222</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">grid_z0</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Nearest&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">223</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">grid_z1</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Linear&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">224</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">grid_z2</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Cubic&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.search_filename">
<code class="descclassname">pyspecdata.</code><code class="descname">search_filename</code><span class="sig-paren">(</span><em>searchstring</em>, <em>exp_type</em>, <em>print_result=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.search_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Use regular expression <cite>searchstring</cite> to find a file inside the directory indicated by <cite>exp_type</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>searchstring</strong> (<em>str</em>) – Most commonly, this is just a fragment of the file name,
with any literal <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">.</span></code>, or <code class="docutils literal notranslate"><span class="pre">?</span></code> characters preceded by
a backslash.
More generally, it is a regular expression,
where <code class="docutils literal notranslate"><span class="pre">.*searchstring.*</span></code> matches a filename inside the
directory appropriate for <cite>exp_type</cite>.</li>
<li><strong>exp_type</strong> (<em>str</em>) – Since the function assumes that you have different types of
experiments sorted into different directories, this argument
specifies the type of experiment see <a class="reference internal" href="#pyspecdata.datadir.getDATADIR" title="pyspecdata.datadir.getDATADIR"><code class="xref py py-func docutils literal notranslate"><span class="pre">getDATADIR()</span></code></a> for
more info.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.sech">
<code class="descclassname">pyspecdata.</code><code class="descname">sech</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.sech" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.showtype">
<code class="descclassname">pyspecdata.</code><code class="descname">showtype</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.showtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.spectrogram">
<code class="descclassname">pyspecdata.</code><code class="descname">spectrogram</code><span class="sig-paren">(</span><em>waveform</em>, <em>f_start</em>, <em>f_stop</em>, <em>npoints_fdom=40</em>, <em>tdom_div=2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.spectrogram" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.sqrt">
<code class="descclassname">pyspecdata.</code><code class="descname">sqrt</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.sqrt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.strm">
<code class="descclassname">pyspecdata.</code><code class="descname">strm</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.strm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.subplot_dim">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">subplot_dim</code><span class="sig-paren">(</span><em>firstdim</em>, <em>seconddim</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.subplot_dim" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="pyspecdata.subplot_dim.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>args</em>, <em>x=''</em>, <em>g=True</em>, <em>y=''</em>, <em>t=''</em>, <em>a=''</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.subplot_dim.set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.testclass">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">testclass</code><a class="headerlink" href="#pyspecdata.testclass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.text_on_plot">
<code class="descclassname">pyspecdata.</code><code class="descname">text_on_plot</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>thistext</em>, <em>coord='axes'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.text_on_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.textlabel_bargraph">
<code class="descclassname">pyspecdata.</code><code class="descname">textlabel_bargraph</code><span class="sig-paren">(</span><em>mystructarray</em>, <em>othersort=None</em>, <em>spacing=0.1</em>, <em>verbose=False</em>, <em>ax=None</em>, <em>tickfontsize=8</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.textlabel_bargraph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.unmake_ndarray">
<code class="descclassname">pyspecdata.</code><code class="descname">unmake_ndarray</code><span class="sig-paren">(</span><em>array_to_conv</em>, <em>name_forprint='unknown'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.unmake_ndarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert this item to an ndarray</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.whereblocks">
<code class="descclassname">pyspecdata.</code><code class="descname">whereblocks</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.whereblocks" title="Permalink to this definition">¶</a></dt>
<dd><p>returns contiguous chunks where the condition is true
but, see the “contiguous” method, which is more OO</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, John M. Franck

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
||||||| merged common ancestors
=======


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pyspecdata package &mdash; pySpecData 0.9.5.1.6 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> pySpecData
          

          
          </a>

          
            
            
              <div class="version">
                0.9.5.1.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">List of Modules and Sub-Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook.html">LaTeX Notebook Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nddata.html">ND-Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../figlist.html">The Figure List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../units.html">Units</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pySpecData</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>pyspecdata package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/auto_api/pyspecdata.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pyspecdata-package">
<h1>pyspecdata package<a class="headerlink" href="#pyspecdata-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyspecdata.axis_manipulation.html">pyspecdata.axis_manipulation package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation.inhomog_coords">pyspecdata.axis_manipulation.inhomog_coords module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation.register_axis">pyspecdata.axis_manipulation.register_axis module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation.secsy">pyspecdata.axis_manipulation.secsy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation.shear">pyspecdata.axis_manipulation.shear module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyspecdata.fourier.html">pyspecdata.fourier package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.convolve">pyspecdata.fourier.convolve module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.ft">pyspecdata.fourier.ft module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.ft_shift">pyspecdata.fourier.ft_shift module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.ftshift">pyspecdata.fourier.ftshift module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.ift">pyspecdata.fourier.ift module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.shear">pyspecdata.fourier.shear module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyspecdata.load_files.html">pyspecdata.load_files package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.acert">pyspecdata.load_files.acert module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.bruker_esr">pyspecdata.load_files.bruker_esr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.bruker_nmr">pyspecdata.load_files.bruker_nmr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.open_subpath">pyspecdata.load_files.open_subpath module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.prospa">pyspecdata.load_files.prospa module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyspecdata.plot_funcs.html">pyspecdata.plot_funcs package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.plot_funcs.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.plot_funcs.html#module-pyspecdata.plot_funcs.image">pyspecdata.plot_funcs.image module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.plot_funcs.html#module-pyspecdata.plot_funcs">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pyspecdata.core">
<span id="pyspecdata-core-module"></span><h2>pyspecdata.core module<a class="headerlink" href="#module-pyspecdata.core" title="Permalink to this headline">¶</a></h2>
<p>Provides the core components of pyspecdata.
Currently, this is a very large file that we will slowly break down into separate modules or packages.</p>
<p>The classes <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">nddata</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">nddata_hdf</span></code>, <a class="reference internal" href="#pyspecdata.core.ndshape" title="pyspecdata.core.ndshape"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndshape</span></code></a>, the
function <a class="reference internal" href="#pyspecdata.core.plot" title="pyspecdata.core.plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot()</span></code></a>, and the class <a class="reference internal" href="#pyspecdata.core.fitdata" title="pyspecdata.core.fitdata"><code class="xref py py-class docutils literal notranslate"><span class="pre">fitdata</span></code></a>
are the core components of the N-Dimensional processing routines.
Start by familiarizing yourself with those.</p>
<p>The <a class="reference internal" href="../generated/pyspecdata.core.figlist.html#pyspecdata.core.figlist" title="pyspecdata.core.figlist"><code class="xref py py-class docutils literal notranslate"><span class="pre">figlist</span></code></a> is the base class for “Figure lists.”
Figure lists allows you to organize plots and text and to refer to plots
by name, rather than number.
They are designed so that same code can be used seamlessly from within
ipython, jupyter, a python script, or a python environment within latex
(JMF can also distribute latex code for this – nice python based
installer is planned).
The user does not initialize the figlist class directly,
but rather initializes <code class="docutils literal notranslate"><span class="pre">figlist_var</span></code>.
At the end of this file,
there is a snippet of code that sets
<code class="docutils literal notranslate"><span class="pre">figlist_var</span></code> to choice that’s appropriate for the working environment
(<em>i.e.</em>, python, latex environment, <a href="#id1"><span class="problematic" id="id2">*</span></a>etc.)</p>
<p>There are many helper and utility functions that need to be sorted an documented by JMF,
and can be ignored.
These are somewhat wide-ranging in nature.
For example, <a class="reference internal" href="#pyspecdata.core.box_muller" title="pyspecdata.core.box_muller"><code class="xref py py-func docutils literal notranslate"><span class="pre">box_muller()</span></code></a> is a helper function (based on numerical recipes) used by <a class="reference internal" href="#pyspecdata.core.nddata.add_noise" title="pyspecdata.core.nddata.add_noise"><code class="xref py py-func docutils literal notranslate"><span class="pre">nddata.add_noise()</span></code></a>,
while h5 functions are helper functions for using pytables in a fashion that
will hopefull be intuitive to those familiar with SQL, etc.</p>
<dl class="exception">
<dt id="pyspecdata.core.CustomError">
<em class="property">exception </em><code class="descclassname">pyspecdata.core.</code><code class="descname">CustomError</code><span class="sig-paren">(</span><em>*value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.CustomError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.addlabels">
<code class="descclassname">pyspecdata.core.</code><code class="descname">addlabels</code><span class="sig-paren">(</span><em>labelstring</em>, <em>x</em>, <em>y</em>, <em>labels</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.addlabels" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – use plot_label_points</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.apply_oom">
<code class="descclassname">pyspecdata.core.</code><code class="descname">apply_oom</code><span class="sig-paren">(</span><em>average_oom</em>, <em>numbers</em>, <em>prev_label=''</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.apply_oom" title="Permalink to this definition">¶</a></dt>
<dd><p>scale numbers by the order of magnitude average_oom and change the
label prev_label by adding the appropriate SI prefix</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.applyto_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">applyto_rec</code><span class="sig-paren">(</span><em>myfunc</em>, <em>myarray</em>, <em>mylist</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.applyto_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>apply myfunc to myarray with the intention of collapsing it to a smaller number of values</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.autolegend">
<code class="descclassname">pyspecdata.core.</code><code class="descname">autolegend</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.autolegend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.autopad_figure">
<code class="descclassname">pyspecdata.core.</code><code class="descname">autopad_figure</code><span class="sig-paren">(</span><em>pad=0.2</em>, <em>centered=False</em>, <em>figname='unknown'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.autopad_figure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.box_muller">
<code class="descclassname">pyspecdata.core.</code><code class="descname">box_muller</code><span class="sig-paren">(</span><em>length</em>, <em>return_complex=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.box_muller" title="Permalink to this definition">¶</a></dt>
<dd><p>algorithm to generate normally distributed noise</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.colormap">
<code class="descclassname">pyspecdata.core.</code><code class="descname">colormap</code><span class="sig-paren">(</span><em>points</em>, <em>colors</em>, <em>n=256</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.colormap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.concat">
<code class="descclassname">pyspecdata.core.</code><code class="descname">concat</code><span class="sig-paren">(</span><em>datalist</em>, <em>dimname</em>, <em>chop=False</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.concat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.contour_plot">
<code class="descclassname">pyspecdata.core.</code><code class="descname">contour_plot</code><span class="sig-paren">(</span><em>xvals</em>, <em>yvals</em>, <em>zvals</em>, <em>color='k'</em>, <em>alpha=1.0</em>, <em>npts=300</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.contour_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.copy_maybe_none">
<code class="descclassname">pyspecdata.core.</code><code class="descname">copy_maybe_none</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.copy_maybe_none" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.decorate_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">decorate_rec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.decorate_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate the rows in A with information in B –&gt; if names overlap,
keep the ones in A
b_ind and a_ind can be either a single key, or a list of keys;
if more than one element in B matches that in A, include both options!!</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.dp">
<code class="descclassname">pyspecdata.core.</code><code class="descname">dp</code><span class="sig-paren">(</span><em>number</em>, <em>decimalplaces</em>, <em>scientific=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.dp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.emptyfunction">
<code class="descclassname">pyspecdata.core.</code><code class="descname">emptyfunction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.emptyfunction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.emptytest">
<code class="descclassname">pyspecdata.core.</code><code class="descname">emptytest</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.emptytest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.expand_x">
<code class="descclassname">pyspecdata.core.</code><code class="descname">expand_x</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.expand_x" title="Permalink to this definition">¶</a></dt>
<dd><p>expand the axes.  If an argument is passed, then it refers to the position relative to the current coordinates.  Values can be:
:0: set this side of the axis to 0
:None: leave this side of the axis alone
:a double: rescale the distance from the center of the axis to this side by this number</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.expand_y">
<code class="descclassname">pyspecdata.core.</code><code class="descname">expand_y</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.expand_y" title="Permalink to this definition">¶</a></dt>
<dd><p>expand the axes.  If an argument is passed, then it refers to the position relative to the current coordinates.  Values can be:
:0: set this side of the axis to 0
:None: leave this side of the axis alone
:a double: rescale the distance from the center of the axis to this side by this number</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.explain_error">
<code class="descclassname">pyspecdata.core.</code><code class="descname">explain_error</code><span class="sig-paren">(</span><em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.explain_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows you to wrap existing errors with more explanation</p>
<blockquote>
<div><p>For example:</p>
<p>&gt;    except BaseException  as e:
&gt;        raise IndexError(“I can’t find the node “+pathstring+explain_error(e))
&gt;                + ‘</p>
</div></blockquote>
<p>‘.join([‘&gt;      ‘+j for j in str(e).split(‘
‘)]))# this indents</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.fa">
<code class="descclassname">pyspecdata.core.</code><code class="descname">fa</code><span class="sig-paren">(</span><em>input</em>, <em>dtype='complex128'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fa" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.core.figlist">
<em class="property">class </em><code class="descclassname">pyspecdata.core.</code><code class="descname">figlist</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="pyspecdata.core.figlist.basename">
<code class="descname">basename</code><a class="headerlink" href="#pyspecdata.core.figlist.basename" title="Permalink to this definition">¶</a></dt>
<dd><p>A basename that can be changed to generate different sets of figures with different basenames.
For example, this is useful if you are looping over different sets of data,
and generating the same set of figures for each set of data (which would correspond to a basename).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.figurelist">
<code class="descname">figurelist</code><a class="headerlink" href="#pyspecdata.core.figlist.figurelist" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the figure names</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.figdict">
<code class="descname">figdict</code><a class="headerlink" href="#pyspecdata.core.figlist.figdict" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary containing the figurelist and the figure numbers or objects that they correspond to.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.propdict">
<code class="descname">propdict</code><a class="headerlink" href="#pyspecdata.core.figlist.propdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Maintains various properties for each element in figurelist.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.adjust_spines">
<code class="descname">adjust_spines</code><span class="sig-paren">(</span><em>spines</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.adjust_spines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.check_units">
<code class="descname">check_units</code><span class="sig-paren">(</span><em>testdata</em>, <em>x_index</em>, <em>y_index</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.check_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.generate_ticks">
<code class="descname">generate_ticks</code><span class="sig-paren">(</span><em>plotdata</em>, <em>axes</em>, <em>rescale</em>, <em>z_norm=None</em>, <em>y_rescale=1</em>, <em>text_scale=0.05</em>, <em>verbose=False</em>, <em>follow_surface=False</em>, <em>lensoffset=0.005</em>, <em>line_width=0.001</em>, <em>tube_radius=0.001</em>, <em>fine_grid=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.generate_ticks" title="Permalink to this definition">¶</a></dt>
<dd><p>generate 3d ticks and grid for mayavi</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.get_fig_number">
<code class="descname">get_fig_number</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.get_fig_number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.get_num_figures">
<code class="descname">get_num_figures</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.get_num_figures" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.grid">
<code class="descname">grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.grid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.header">
<code class="descname">header</code><span class="sig-paren">(</span><em>number_above</em>, <em>input_string</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.image">
<code class="descname">image</code><span class="sig-paren">(</span><em>A</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Called as <cite>fl.image()</cite> where <cite>fl</cite> is the <cite>figlist_var</cite>
object</p>
<p>Note that this code just wraps the figlist properties, and
the heavy lifting is done by the <cite>image(</cite> function.
Together, the effect is as follows:</p>
<ul>
<li><p class="first"><cite>check_units</cite> converts to human-readable units, and
makes sure they match the units already used in the plot.</p>
</li>
<li><p class="first">if <cite>A</cite> has more than two dimensions, the final dimension in
<cite>A.dimlabels</cite> is used as the column dimension, and a
direct-product of all non-column dimensions (a Kronecker
product, such that the innermost index comes the latest in
the list <cite>A.dimlabels</cite>) is used as the row dimension. A
white/black line is drawn after the innermost index used to
create the direct product is finished iterating.</p>
</li>
<li><p class="first">If <cite>A</cite> consists of complex data, then an HSV plot
(misnomer, actually an HV plot) is used:
- convert to polar form: <span class="math notranslate nohighlight">\(z=\rho \exp(i \phi)\)</span>
- <span class="math notranslate nohighlight">\(\phi\)</span> determines the color (Hue)</p>
<blockquote>
<div><ul class="simple">
<li>Color wheel is cyclical, like <span class="math notranslate nohighlight">\(\exp(i \phi)\)</span></li>
<li>red is taken as <span class="math notranslate nohighlight">\(\phi=0\)</span>, purely real and positive</li>
<li>green-blue is <span class="math notranslate nohighlight">\(pi\)</span> radians out of phase with red and
therefore negative real</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first"><span class="math notranslate nohighlight">\(\rho\)</span> determines the intensity (value)
- Depending on whether or not <cite>black</cite> is set (either as a</p>
<blockquote>
<div><p>keyword argument, or <cite>fl.black</cite>, the background will be
black with high <span class="math notranslate nohighlight">\(\rho\)</span> values “lit up” (intended for
screen plotting) or the background will be white with
the high <span class="math notranslate nohighlight">\(\rho\)</span> values “colored in” (intended for
printing)</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p class="first">If the data type (<cite>dtype</cite>) of the data in <cite>A</cite> is real
(typically achieved by calling <cite>abs(A)</cite> or
<cite>A.runcopy(real)</cite>), then <cite>A</cite> is plotted with a colormap and
corresponding colorbar.</p>
</li>
<li><p class="first">If no title has been given, it’s set to the name of the
current plot in the figurelist</p>
</li>
</ul>
<dl class="attribute">
<dt id="pyspecdata.core.figlist.A">
<code class="descname">A</code><a class="headerlink" href="#pyspecdata.core.figlist.A" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata">nddata</a> or numpy array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.x">
<code class="descname">x</code><a class="headerlink" href="#pyspecdata.core.figlist.x" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the x axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Optional[double] or Optional[scalar]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.y">
<code class="descname">y</code><a class="headerlink" href="#pyspecdata.core.figlist.y" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the y axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Optional[double] or Optional[scalar]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.x_first">
<code class="descname">x_first</code><a class="headerlink" href="#pyspecdata.core.figlist.x_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Since it’s designed to represent matrices, an image plot
by defaults is “transposed” relative to all other plots.
If you want the first dimension on the x-axis (<em>e.g.</em>, if
you are plotting a contour plot on top of an image), then set
<cite>x_first</cite> to <cite>True</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.spacing">
<code class="descname">spacing</code><a class="headerlink" href="#pyspecdata.core.figlist.spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the size of the white/black line drawn
Defaults to 1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.ax">
<code class="descname">ax</code><a class="headerlink" href="#pyspecdata.core.figlist.ax" title="Permalink to this definition">¶</a></dt>
<dd><p>the Axis object where the plot should go.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">matplotlib Axes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">all remaning</code></dt>
<dd><p>are passed through to matplotlib <cite>imshow</cite></p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist.origin">
<code class="descname">origin</code><a class="headerlink" href="#pyspecdata.core.figlist.origin" title="Permalink to this definition">¶</a></dt>
<dd><p>upper and lower are passed to matplotlib.
Flip is for 2D nmr, and flips the data manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">{‘upper’, ‘lower’, ‘flip’}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">.. code-block:: python</code></dt>
<dd><p>from pyspecdata import *
fl = figlist_var()</p>
<p>t = r_[-1:1:300j]
x = nddata(t,[-1],[‘x’]).labels(‘x’,t)
y = nddata(t,[-1],[‘y’]).labels(‘y’,t)</p>
<p>z = x**2 + 2*y**2
print “dimlabels of z:”,z.dimlabels</p>
<p>fl.next(‘image with contours’)
fl.image(z,x_first = True) #  x_first is needed to align
#                             with the contour plot
z.contour(colors = ‘w’,alpha = 0.75)</p>
<p>fl.next(‘simple plot’) #  just to show that x is the same
#                         here as well
fl.plot(z[‘y’:(0,0.01)])</p>
<p>fl.show(‘compare_image_contour_150911.pdf’)</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.label_point">
<code class="descname">label_point</code><span class="sig-paren">(</span><em>data</em>, <em>axis</em>, <em>value</em>, <em>thislabel</em>, <em>show_point=True</em>, <em>xscale=1</em>, <em>**new_kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.label_point" title="Permalink to this definition">¶</a></dt>
<dd><p>only works for 1D data: assume you’ve passed a single-point nddata, and label it</p>
<p>xscale gives the unit scaling</p>
<p>..todo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Improve</span> <span class="n">the</span> <span class="n">unit</span> <span class="n">scaling</span><span class="p">,</span> <span class="n">so</span> <span class="n">that</span> <span class="n">this</span> <span class="n">would</span> <span class="n">also</span> <span class="n">work</span><span class="o">.</span>

<span class="n">Allow</span> <span class="n">it</span> <span class="n">to</span> <span class="n">include</span> <span class="n">a</span> <span class="nb">format</span> <span class="n">string</span> <span class="n">that</span> <span class="n">would</span> <span class="n">use</span> <span class="n">the</span> <span class="n">value</span><span class="o">.</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>show_point</strong> (<em>bool</em>) – Defaults to <cite>True</cite>. Actually generate a point (circle), <em>vs.</em>
just the label.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.marked_text">
<code class="descname">marked_text</code><span class="sig-paren">(</span><em>marker</em>, <em>input_text=''</em>, <em>sep='\n'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.marked_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a named <cite>marker</cite> where we can place text.   If <cite>marker</cite>
has been used, goes back and places text there.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.mesh">
<code class="descname">mesh</code><span class="sig-paren">(</span><em>plotdata</em>, <em>Z_normalization=None</em>, <em>equal_scale=True</em>, <em>lensoffset=0.001</em>, <em>show_contours=False</em>, <em>grey_surf=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.mesh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.next">
<code class="descname">next</code><span class="sig-paren">(</span><em>input_name</em>, <em>legend=False</em>, <em>boundaries=None</em>, <em>twinx=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to the figure given by input_name, which is used not only as
a string-based name for the figure, but also as a default title and as
a base name for resulting figure files.</p>
<p><strong>In the future, we actually want this to track the appropriate axis object!</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>legend</strong> (<em>bool</em>) – If this is set, a legend is created <em>outside</em> the figure.</li>
<li><strong>twinx</strong> (<em>{0</em><em>,</em><em>1}</em>) – <table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">1:</th><td class="field-body">plots on an overlayed axis (the matplotlib twinx) whose y axis
is labeled on the right when you set this for the first time, you
can also set a <cite>color</cite> kwarg that controls the coloring of the
right axis.</td>
</tr>
<tr class="field-even field"><th class="field-name">0:</th><td class="field-body">used to switch back to the left (default) axis</td>
</tr>
</tbody>
</table>
</li>
<li><strong>boundaries</strong> – <strong>need to add description</strong></li>
<li><strong>kwargs</strong> (<em>dict</em>) – Any other keyword arguments are passed to the matplotlib (mayavi)
figure() function that’s used to switch (create) figures.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.phaseplot_finalize">
<code class="descname">phaseplot_finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.phaseplot_finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs plot decorations that are typically desired for a manual phasing plot.  This assumes that the <code class="docutils literal notranslate"><span class="pre">y</span></code>-axis is given in units of half-cycles ($pi$ radians).</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.plot" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>linestyle</strong> (<em>{':'</em><em>,</em><em>'--'</em><em>,</em><em>'.'</em><em>,</em><em>'etc.'}</em>) – the style of the line</li>
<li><strong>plottype</strong> (<em>{'semilogy'</em><em>,</em><em>'semilogx'</em><em>,</em><em>'loglog'}</em>) – Select a logarithmic plotting style.</li>
<li><strong>nosemilog</strong> (<em>True</em>) – Typically, if you supply a log-spaced axis,
a semilogx plot will be automatically selected.
This overrides that behavior.
Defaults to False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.pop_marker">
<code class="descname">pop_marker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.pop_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.push_marker">
<code class="descname">push_marker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.push_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.setprops">
<code class="descname">setprops</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.setprops" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.show_prep">
<code class="descname">show_prep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.show_prep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.text">
<code class="descname">text</code><span class="sig-paren">(</span><em>mytext</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.twinx">
<code class="descname">twinx</code><span class="sig-paren">(</span><em>autopad=False</em>, <em>orig=False</em>, <em>color=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.twinx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.figlist.use_autolegend">
<code class="descname">use_autolegend</code><span class="sig-paren">(</span><em>value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlist.use_autolegend" title="Permalink to this definition">¶</a></dt>
<dd><p>No argument sets to true if it’s not already set</p>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.figlist_var">
<code class="descclassname">pyspecdata.core.</code><code class="descname">figlist_var</code><a class="headerlink" href="#pyspecdata.core.figlist_var" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="../generated/pyspecdata.core.figlist.html#pyspecdata.core.figlist" title="pyspecdata.core.figlist"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.figlist</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.figlistini">
<code class="descclassname">pyspecdata.core.</code><code class="descname">figlistini</code><span class="sig-paren">(</span><em>first_figure</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlistini" title="Permalink to this definition">¶</a></dt>
<dd><p>processes a figure list argument:
typically, you want to have a figure_list keyword argument for every function, which is by default set to None, then call this on the argument – it always returns a figure list, creating a new one if required
similarly, somewhere I have another guy that processes the output, so that if it’s set to None, it will by default dump and show the figure list,
and not return a figure list in the output</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.figlistini_old">
<code class="descclassname">pyspecdata.core.</code><code class="descname">figlistini_old</code><span class="sig-paren">(</span><em>first_figure</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlistini_old" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.figlistret">
<code class="descclassname">pyspecdata.core.</code><code class="descname">figlistret</code><span class="sig-paren">(</span><em>first_figure</em>, <em>figure_list</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlistret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.core.fitdata">
<em class="property">class </em><code class="descclassname">pyspecdata.core.</code><code class="descname">fitdata</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
<dl class="method">
<dt id="pyspecdata.core.fitdata.add_inactive_p">
<code class="descname">add_inactive_p</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.add_inactive_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.analytical_covariance">
<code class="descname">analytical_covariance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.analytical_covariance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.bootstrap">
<code class="descname">bootstrap</code><span class="sig-paren">(</span><em>points</em>, <em>swap_out=None</em>, <em>seedval=10347</em>, <em>minbounds={}</em>, <em>maxbounds={}</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.bootstrap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full copy of this instance.</p>
<p>Because methods typically change the data in place, you might want to
use this frequently.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>boolean</em>) – <p>Default to True.
False doesn’t copy the data – this is for internal use,
<em>e.g.</em> when you want to copy all the metadata and perform a
calculation on the data.</p>
<p>The code for this also provides the definitive list of the
nddata metadata.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.covar">
<code class="descname">covar</code><span class="sig-paren">(</span><em>*names</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.covar" title="Permalink to this definition">¶</a></dt>
<dd><p>give the covariance for the different symbols</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.covarmat">
<code class="descname">covarmat</code><span class="sig-paren">(</span><em>*names</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.covarmat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.errfunc">
<code class="descname">errfunc</code><span class="sig-paren">(</span><em>p</em>, <em>x</em>, <em>y</em>, <em>sigma</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.errfunc" title="Permalink to this definition">¶</a></dt>
<dd><p>just the error function</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.eval">
<code class="descname">eval</code><span class="sig-paren">(</span><em>taxis</em>, <em>set=None</em>, <em>set_to=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>after we have fit, evaluate the fit function along the axis taxis
set and set_to allow you to forcibly set a specific symbol to a specific value –&gt; however, this does not affect the class, but only the return value</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>set=None</em>, <em>set_to=None</em>, <em>force_analytical=False</em>, <em>silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>actually run the fit</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.fitfunc">
<code class="descname">fitfunc</code><span class="sig-paren">(</span><em>p</em>, <em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.fitfunc" title="Permalink to this definition">¶</a></dt>
<dd><p>this wraps fitfunc_raw (which gives the actual form of the fit function) to take care of forced variables</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.gen_indices">
<code class="descname">gen_indices</code><span class="sig-paren">(</span><em>this_set</em>, <em>set_to</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.gen_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>pass this this_set and this_set_to parameters, and it will return:
indices,values,mask
indices –&gt; gives the indices that are forced
values –&gt; the values they are forced to
mask –&gt; p[mask] are actually active in the fit</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.gen_symbolic">
<code class="descname">gen_symbolic</code><span class="sig-paren">(</span><em>function_name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.gen_symbolic" title="Permalink to this definition">¶</a></dt>
<dd><p>generates the symbolic representations the function</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.guess">
<code class="descname">guess</code><span class="sig-paren">(</span><em>verbose=False</em>, <em>super_verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.guess" title="Permalink to this definition">¶</a></dt>
<dd><p>provide the guess for our parameters; by default, based on pseudoinverse</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.latex">
<code class="descname">latex</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.latex" title="Permalink to this definition">¶</a></dt>
<dd><p>show the latex string for the function, with all the symbols substituted by their values</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.linear">
<code class="descname">linear</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.linear" title="Permalink to this definition">¶</a></dt>
<dd><p>return the linear-form function, either smoothly along the fit function, or on the raw data, depending on whether or not the taxis argument is given
can take optional arguments and pass them on to eval</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.makereal">
<code class="descname">makereal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.makereal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.output">
<code class="descname">output</code><span class="sig-paren">(</span><em>*name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.output" title="Permalink to this definition">¶</a></dt>
<dd><p>give the fit value of a particular symbol</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.parameter_derivatives">
<code class="descname">parameter_derivatives</code><span class="sig-paren">(</span><em>xvals</em>, <em>set=None</em>, <em>set_to=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.parameter_derivatives" title="Permalink to this definition">¶</a></dt>
<dd><p>return a matrix containing derivatives of the parameters, can set dict set, or keys set, vals set_to</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.parameter_gradient">
<code class="descname">parameter_gradient</code><span class="sig-paren">(</span><em>p</em>, <em>x</em>, <em>y</em>, <em>sigma</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.parameter_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>this gives the specific format wanted by leastsq</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.pinv">
<code class="descname">pinv</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.pinv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.remove_inactive_p">
<code class="descname">remove_inactive_p</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.remove_inactive_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>previous</em>, <em>new</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.rename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.fitdata.settoguess">
<code class="descname">settoguess</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.settoguess" title="Permalink to this definition">¶</a></dt>
<dd><p>a debugging function, to easily plot the initial guess</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.gensearch">
<code class="descclassname">pyspecdata.core.</code><code class="descname">gensearch</code><span class="sig-paren">(</span><em>labelname</em>, <em>format='%0.3f'</em>, <em>value=None</em>, <em>precision=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.gensearch" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – use h5gensearch</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.gridandtick">
<code class="descclassname">pyspecdata.core.</code><code class="descname">gridandtick</code><span class="sig-paren">(</span><em>ax</em>, <em>rotation=(0</em>, <em>0)</em>, <em>precision=(2</em>, <em>2)</em>, <em>labelstring=(''</em>, <em>'')</em>, <em>gridcolor=None</em>, <em>formatonly=False</em>, <em>fixed_y_locator=None</em>, <em>logarithmic=False</em>, <em>use_grid=True</em>, <em>spines=None</em>, <em>y=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.gridandtick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.gridon">
<code class="descclassname">pyspecdata.core.</code><code class="descname">gridon</code><span class="sig-paren">(</span><em>gridcolor=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.gridon" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5addrow">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5addrow</code><span class="sig-paren">(</span><em>bottomnode</em>, <em>tablename</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5addrow" title="Permalink to this definition">¶</a></dt>
<dd><p>add a row to a table, creating it if necessary, but don’t add if the data matches the search condition indicated by <cite>match_row</cite>
<cite>match_row</cite> can be either text or a dictionary – in the latter case it’s passed to h5searchstring</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5attachattributes">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5attachattributes</code><span class="sig-paren">(</span><em>node</em>, <em>listofattributes</em>, <em>myvalues</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5attachattributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5child">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5child</code><span class="sig-paren">(</span><em>thisnode</em>, <em>childname</em>, <em>clear=False</em>, <em>create=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5child" title="Permalink to this definition">¶</a></dt>
<dd><p>grab the child, optionally clearing it and/or (by default) creating it</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5inlist">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5inlist</code><span class="sig-paren">(</span><em>columnname</em>, <em>mylist</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5inlist" title="Permalink to this definition">¶</a></dt>
<dd><p>returns rows where the column named columnname is in the value of mylist</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5join">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5join</code><span class="sig-paren">(</span><em>firsttuple</em>, <em>secondtuple</em>, <em>additional_search=''</em>, <em>select_fields=None</em>, <em>pop_fields=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5join" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5loaddict">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5loaddict</code><span class="sig-paren">(</span><em>thisnode</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5loaddict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5nodebypath">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5nodebypath</code><span class="sig-paren">(</span><em>h5path</em>, <em>verbose=False</em>, <em>force=False</em>, <em>only_lowest=False</em>, <em>check_only=False</em>, <em>directory='.'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5nodebypath" title="Permalink to this definition">¶</a></dt>
<dd><p>return the node based on an absolute path, including the filename</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5remrows">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5remrows</code><span class="sig-paren">(</span><em>bottomnode</em>, <em>tablename</em>, <em>searchstring</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5remrows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5searchstring">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5searchstring</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5searchstring" title="Permalink to this definition">¶</a></dt>
<dd><p>generate robust search strings
:parameter fieldname,value:
search AROUND a certain value (overcomes some type conversion issues) optional arguments are the format specifier and the fractional precision:
<strong>OR</strong>
:parameter field_and_value_dictionary:
generate a search string that matches one or more criteria</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.h5table">
<code class="descclassname">pyspecdata.core.</code><code class="descname">h5table</code><span class="sig-paren">(</span><em>bottomnode</em>, <em>tablename</em>, <em>tabledata</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5table" title="Permalink to this definition">¶</a></dt>
<dd><p>create the table, or if tabledata is None, just check if it exists</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.issympy">
<code class="descclassname">pyspecdata.core.</code><code class="descname">issympy</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.issympy" title="Permalink to this definition">¶</a></dt>
<dd><p>tests if something is sympy (based on the module name)</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.join_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">join_rec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.join_rec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.lambda_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">lambda_rec</code><span class="sig-paren">(</span><em>myarray</em>, <em>myname</em>, <em>myfunction</em>, <em>*varargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.lambda_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>make a new field “myname” which consists of “myfunction” evaluated with the fields given by “myargs” as arguments
the new field is always placed after the last argument name
if myname is in myargs, the original row is popped</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.lookup_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">lookup_rec</code><span class="sig-paren">(</span><em>A</em>, <em>B</em>, <em>indexpair</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.lookup_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>look up information about A in table B (i.e. chemical by index, etc)
indexpair is either the name of the index
or – if it’s differently named – the pair of indices
given in (A,B) respectively</p>
<p>This will just drop any fields in B that are also in A,
and the output uses the first indexname</p>
<p>note that it it seems like the join_rec function above may be more efficient!!</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.lrecordarray">
<code class="descclassname">pyspecdata.core.</code><code class="descname">lrecordarray</code><span class="sig-paren">(</span><em>*x</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.lrecordarray" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.lsafe">
<code class="descclassname">pyspecdata.core.</code><code class="descname">lsafe</code><span class="sig-paren">(</span><em>*string</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.lsafe" title="Permalink to this definition">¶</a></dt>
<dd><p>replacement for normal lsafe – no escaping</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.lsafen">
<code class="descclassname">pyspecdata.core.</code><code class="descname">lsafen</code><span class="sig-paren">(</span><em>*string</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.lsafen" title="Permalink to this definition">¶</a></dt>
<dd><p>see lsafe, but with an added double newline</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.make_bar_graph_indices">
<code class="descclassname">pyspecdata.core.</code><code class="descname">make_bar_graph_indices</code><span class="sig-paren">(</span><em>mystructarray</em>, <em>list_of_text_fields</em>, <em>recursion_depth=0</em>, <em>verbose=False</em>, <em>spacing=0.1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.make_bar_graph_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a recursive function that is used as part of textlabel_bargraph; it does NOT work without the sorting given at the beginning of that function</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.make_ndarray">
<code class="descclassname">pyspecdata.core.</code><code class="descname">make_ndarray</code><span class="sig-paren">(</span><em>array_to_conv</em>, <em>name_forprint='unknown'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.make_ndarray" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.make_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">make_rec</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.make_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>input,names or a single argument, which is a dictionarynstrlen = 100 gives length of the strings (which need to be specified in record arrays)nyou can also specify (especially useful with the dictionary format) the list order = [str1,str2,…] which orders the output records with the field containing str1 first, then the field containing str2, then any remaining fields</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.maprep">
<code class="descclassname">pyspecdata.core.</code><code class="descname">maprep</code><span class="sig-paren">(</span><em>*mylist</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.maprep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.meanstd_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">meanstd_rec</code><span class="sig-paren">(</span><em>myarray</em>, <em>mylist</em>, <em>verbose=False</em>, <em>standard_error=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.meanstd_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>this is something like applyto_rec, except that it applies the mean and creates new rows for the “error,” where it puts the standard deviation</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.mybasicfunction">
<code class="descclassname">pyspecdata.core.</code><code class="descname">mybasicfunction</code><span class="sig-paren">(</span><em>first_figure=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.mybasicfunction" title="Permalink to this definition">¶</a></dt>
<dd><p>this gives the format for doing the image thing
note also
nextfigure(fl,’name’)
and
nextfigure({‘lplotproperty’:value})</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.mydiff">
<code class="descclassname">pyspecdata.core.</code><code class="descname">mydiff</code><span class="sig-paren">(</span><em>data</em>, <em>axis=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.mydiff" title="Permalink to this definition">¶</a></dt>
<dd><p>this will replace diff with a version that has the same number of indices, with the last being the copy of the first</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.myfilter">
<code class="descclassname">pyspecdata.core.</code><code class="descname">myfilter</code><span class="sig-paren">(</span><em>x</em>, <em>center=250000.0</em>, <em>sigma=100000.0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.myfilter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.core.nddata">
<em class="property">class </em><code class="descclassname">pyspecdata.core.</code><code class="descname">nddata</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the detailed API reference.
For an introduction on how to use ND-Data, see the <a class="reference internal" href="../nddata.html#nddata-summary-label"><span class="std std-ref">Main ND-Data Documentation</span></a>.</p>
<dl class="attribute">
<dt id="pyspecdata.core.nddata.C">
<code class="descname">C</code><a class="headerlink" href="#pyspecdata.core.nddata.C" title="Permalink to this definition">¶</a></dt>
<dd><p>shortcut for copy</p>
<dl class="docutils">
<dt>..todo::</dt>
<dd>We should offer “N”, which generates something like a copy,
but which is sets the equivalent of “nopop”.
For example, currently, you need to do something like
<code class="docutils literal notranslate"><span class="pre">d.C.argmax('t2')</span></code>,
which is very inefficient, since it copies the whole array.
So, instead, we should do
<code class="docutils literal notranslate"><span class="pre">d.N.argmax('t2')</span></code>, which tells argmax and all other
functions not to overwrite “self” but to return a new object.
This would cause things like “run_nopop” to become obsolete.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.add_noise">
<code class="descname">add_noise</code><span class="sig-paren">(</span><em>intensity</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.add_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Gaussian (box-muller) noise to the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>intensity</strong> (<em>double OR function</em>) – If a double, gives the standard deviation of the noise.
If a function, used to calculate the standard deviation of the noise from the data:
<em>e.g.</em> <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">max(abs(x))/10.</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.aligndata">
<code class="descname">aligndata</code><span class="sig-paren">(</span><em>arg</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.aligndata" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a fundamental method used by all of the arithmetic operations.
It uses the dimension labels of <cite>self</cite> (the current instance) and <cite>arg</cite>
(an nddata passed to this method) to generate two corresponding output
nddatas that I refer to here, respectively, as <cite>A</cite> and <cite>B</cite>.  <cite>A</cite> and
<cite>B</cite> have dimensions that are “aligned” – that is, they are identical
except for singleton dimensions (note that numpy automatically tiles
singleton dimensions).  Regardless of how the dimensions of <cite>self.data</cite>
and <cite>arg.data</cite> (the underlying numpy data) were ordered, <cite>A.data</cite> and
<cite>B.data</cite> are now ordered identically, where dimensions with the same
label (<cite>.dimlabel</cite>) correspond to the same numpy index.  This allows
you do do math.</p>
<p>Note that, currently, both <cite>A</cite> and <cite>B</cite> are given a full set of axis
labels, even for singleton dimensions.  This is because we’re assuming
you’re going to do math with them, and that the singleton dimensions
will be expanded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arg</strong> (<a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata"><em>nddata</em></a><em> or </em><em>ndarray</em>) – The nddata that you want to align to <cite>self</cite>.
If arg is an ndarray, it will try to match dimensions to self based
on the length of the dimension.
<strong>Note:</strong> currently there is an issue where this will only really
work for 1D data, since it first makes an nddata instance based on
arg, which apparently collapses multi-D data to 1D data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>A</strong> (<em>nddata</em>) – realigned version of <cite>self</cite></li>
<li><strong>B</strong> (<em>nddata</em>) – realigned version of <cite>arg</cite> (the argument)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.nddata.angle">
<code class="descname">angle</code><a class="headerlink" href="#pyspecdata.core.nddata.angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the angle component of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.argmax">
<code class="descname">argmax</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.argmax" title="Permalink to this definition">¶</a></dt>
<dd><p>find the max along a particular axis, and get rid of that axis, replacing it with the index number of the max value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>raw_index</strong> (<em>bool</em>) – return the raw (ndarray) numerical index, rather than the corresponding axis value
Note that the result returned is still, however, an nddata (rather than numpy ndarray) object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.argmin">
<code class="descname">argmin</code><span class="sig-paren">(</span><em>*axes</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.argmin" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>argmin(‘axisname’)</cite> find the min along a particular axis, and get rid of that
axis, replacing it with the index number of the max value.
If <cite>argmin()</cite>: return a dictionary giving the coordinates of the overall minimum point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>raw_index</strong> (<em>bool</em>) – Return the raw (ndarray) numerical index, rather than the corresponding axis value.
Note that the result returned is still, however, an nddata (rather than numpy ndarray) object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.axis">
<code class="descname">axis</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.axis" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a 1-D axis for further manipulation</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.axlen">
<code class="descname">axlen</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.axlen" title="Permalink to this definition">¶</a></dt>
<dd><p>return the size (length) of an axis, by name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>axis</strong> (<em>str</em>) – name of the axis whos length you are interested in</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.axn">
<code class="descname">axn</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.axn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the index number for the axis with the name “axis”</p>
<p>This is used by many other methods.
As a simple example,
self.:func:<cite>axlen`(axis) (the axis length) returns
``shape(self.data)[self.axn(axis)]`</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>axis</strong> (<em>str</em>) – name of the axis</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.cdf">
<code class="descname">cdf</code><span class="sig-paren">(</span><em>normalized=True</em>, <em>max_bins=500</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.cdf" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the Cumulative Distribution Function for the data along <cite>axis_name</cite></p>
<p>only for 1D data right now</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">A new nddata object with an axis labeled <cite>values</cite>, and data corresponding to the CDF.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.check_axis_coords_errors">
<code class="descname">check_axis_coords_errors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.check_axis_coords_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.chunk">
<code class="descname">chunk</code><span class="sig-paren">(</span><em>axisin</em>, <em>*otherargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.chunk" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>“Chunking” is defined here to be the opposite of taking a direct product, increasing the number of dimensions by the inverse of the process by which taking a direct product decreases the number of dimensions.  This function chunks axisin into multiple new axes arguments.:</dt>
<dd>axesout – gives the names of the output axes
shapesout – optional – if not given, it assumes equal length – if given, one of the values can be -1, which is assumed length</dd>
</dl>
<p>When there are axes, it assumes that the axes of the new dimensions
are nested – <em>e.g.</em>, it will chunk a dimension with axis:
[1,2,3,4,5,6,7,8,9,10]
into dimensions with axes:
[0,1,2,3,4], [1,6]</p>
<dl class="docutils">
<dt>..todo::</dt>
<dd>Deal with this efficiently when we move to new-style axes</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.chunk_auto">
<code class="descname">chunk_auto</code><span class="sig-paren">(</span><em>axis_name</em>, <em>which_field</em>, <em>verbose=False</em>, <em>dimname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.chunk_auto" title="Permalink to this definition">¶</a></dt>
<dd><p>assuming that axis “axis_name” is currently labeled with a structured array, choose one field (“which_field”) of that structured array to generate a new dimension
Note that for now, by definition, no error is allowed on the axes.
However, once I upgrade to using structured arrays to handle axis and data errors, I will want to deal with that appropriately here.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.circshift">
<code class="descname">circshift</code><span class="sig-paren">(</span><em>axis</em>, <em>amount</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.circshift" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.contiguous">
<code class="descname">contiguous</code><span class="sig-paren">(</span><em>lambdafunc</em>, <em>axis=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Return contiguous blocks that satisfy the condition given by <cite>lambdafunc</cite></p>
<p>this function returns the start and stop positions along the
axis for the contiguous blocks for which lambdafunc returns
true
<strong>Currently only supported for 1D data</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">adapted from stackexchange post <a class="reference external" href="http://stackoverflow.com/questions/4494404/find-large-number-of-consecutive-values-fulfilling-condition-in-a-numpy-array">http://stackoverflow.com/questions/4494404/find-large-number-of-consecutive-values-fulfilling-condition-in-a-numpy-array</a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lambdafunc</strong> (<em>types.FunctionType</em>) – If only one argument (lambdafunc) is given,
then lambdafunc is
a function that accepts a copy of the current nddata object
(<cite>self</cite>) as the argument.
If two arguments are given,
the second is <cite>axis</cite>, and lambdafunc has two arguments,
<cite>self</cite> and the value of <cite>axis</cite>.</li>
<li><strong>axis</strong> (<em>{None</em><em>,</em><em>str}</em>) – the name of the axis along which you want to find contiguous
blocks</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>retval</strong> – An <span class="math notranslate nohighlight">\(N\times 2\)</span> matrix, where the <span class="math notranslate nohighlight">\(N\)</span> rows correspond to pairs of axis
label that give ranges over which <cite>lambdafunc</cite> evaluates to <cite>True</cite>.
These are ordered according to descending range width.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>&gt; #{{{ debugging block
&gt; sum_for_contiguous = abs(forplot).mean(‘t1’)
&gt; fl.next(“test contiguous”)
&gt; forplot = sum_for_contiguous.copy().set_error(None)
&gt; fl.plot(forplot,alpha = 0.25,linewidth = 3)
&gt; print “this is what the max looks like”,0.5*sum_for_contiguous.set_error(None).runcopy(max,’t2’)
&gt; print sum_for_contiguous &gt; 0.5*sum_for_contiguous.runcopy(max,’t2’)
&gt; retval = sum_for_contiguous.contiguous(quarter_of_max,’t2’)
&gt; print “contiguous range / 1e6:”,retval/1e6
&gt; for j in range(retval.shape[0]):
&gt;     a,b = retval[j,:]
&gt;     fl.plot(forplot[‘t2’:(a,b)])
&gt; fl.show()
&gt; exit()
&gt; #}}}</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.contour">
<code class="descname">contour</code><span class="sig-paren">(</span><em>labels=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.contour" title="Permalink to this definition">¶</a></dt>
<dd><p>Contour plot – kwargs are passed to the matplotlib
<cite>contour</cite> function.</p>
<p>See docstring of <cite>figlist_var.image()</cite> for an example</p>
<dl class="attribute">
<dt id="pyspecdata.core.nddata.labels">
<code class="descname">labels</code><a class="headerlink" href="#pyspecdata.core.nddata.labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not the levels should be labeled.
Defaults to True</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.convolve">
<code class="descname">convolve</code><span class="sig-paren">(</span><em>axisname</em>, <em>filterwidth</em>, <em>convfunc=&lt;function &lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a convolution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>axisname</strong> (<em>str</em>) – apply the convolution along <cite>axisname</cite></li>
<li><strong>filterwidth</strong> (<em>double</em>) – width of the convolution function.</li>
<li><strong>convfunc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – A function that takes two arguments – the first are the axis coordinates and the second is <cite>filterwidth</cite>.
Default is a normalized Gaussian of width (<span class="math notranslate nohighlight">\(\sigma\)</span>)
<cite>filterwidth</cite>
<span class="math notranslate nohighlight">\(\frac{1}{2 \sigma^2}\exp\left( - \frac{x^2}{2 \sigma^2} \right)\)</span>
For example if you want a complex lorentzian with <cite>filterwidth</cite> controlled by the rate $R$,
<em>i.e.</em>
<span class="math notranslate nohighlight">\(\frac{-1}{-i 2 \pi f - R}\)</span>
then <code class="docutils literal notranslate"><span class="pre">convfunc</span> <span class="pre">=</span> <span class="pre">lambda</span> <span class="pre">f,R:</span> <span class="pre">-1./(-1j*2*pi*f-R)</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><em>data=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full copy of this instance.</p>
<p>Because methods typically change the data in place, you might want to
use this frequently.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>boolean</em>) – <p>Default to True.
False doesn’t copy the data – this is for internal use,
<em>e.g.</em> when you want to copy all the metadata and perform a
calculation on the data.</p>
<p>The code for this also provides the definitive list of the
nddata metadata.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.copy_props">
<code class="descname">copy_props</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.copy_props" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy all properties (see <a class="reference internal" href="#pyspecdata.core.nddata.get_prop" title="pyspecdata.core.nddata.get_prop"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_prop()</span></code></a>) from another nddata
object – note that these include properties pertaining the the FT
status of various dimensions.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.copyaxes">
<code class="descname">copyaxes</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.copyaxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.cropped_log">
<code class="descname">cropped_log</code><span class="sig-paren">(</span><em>subplot_axes=None</em>, <em>magnitude=4</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.cropped_log" title="Permalink to this definition">¶</a></dt>
<dd><p>For the purposes of plotting, this generates a copy where I take the log, spanning “magnitude” orders of magnitude
This is designed to be called as abs(instance).cropped_log(), so it doesn’t make a copy</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.diff">
<code class="descname">diff</code><span class="sig-paren">(</span><em>thisaxis</em>, <em>backwards=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.diff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.dot">
<code class="descname">dot</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensor dot of self with arg – dot all matching dimension labels.  This can be used to do matrix multiplication, but note that the order of doesn’t matter, since the dimensions that are contracted are determined by matching the dimension names, not the order of the dimension.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">],</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">27</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">tensordot</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">27</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">tensordot</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="p">((</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">)))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.extend">
<code class="descname">extend</code><span class="sig-paren">(</span><em>axis</em>, <em>extent</em>, <em>fill_with=0</em>, <em>tolerance=1e-05</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>axis</cite> is uniformly ascending with spacing <span class="math notranslate nohighlight">\(dx\)</span>,
then extend by adding a point every <span class="math notranslate nohighlight">\(dx\)</span> until the axis
includes the point <cite>extent</cite>.  Fill the newly created datapoints with <cite>fill_with</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>axis</strong> (<em>str</em>) – name of the axis to extend</li>
<li><strong>extent</strong> (<em>double</em>) – extend the axis <cite>axis</cite> out to this point</li>
<li><strong>fill_with</strong> (<em>double</em>) – fill the new data points with this value (defaults to 0)</li>
<li><strong>tolerance</strong> (<em>double</em>) – when checking for ascending axis labels, etc.,
values/differences must match to within tolerance
(assumed to represent the actual precision, given
various errors, etc.)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.extend_for_shear">
<code class="descname">extend_for_shear</code><span class="sig-paren">(</span><em>altered_axis</em>, <em>propto_axis</em>, <em>skew_amount</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.extend_for_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>this is propto_axis helper function for <cite>.fourier.shear</cite></p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.fld">
<code class="descname">fld</code><span class="sig-paren">(</span><em>dict_in</em>, <em>noscalar=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.fld" title="Permalink to this definition">¶</a></dt>
<dd><p>flatten dictionary – return list</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.fourier_shear">
<code class="descname">fourier_shear</code><span class="sig-paren">(</span><em>altered_axis</em>, <em>propto_axis</em>, <em>by_amount</em>, <em>zero_fill=False</em>, <em>start_in_conj=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.fourier_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>the fourier shear method – see .shear() documentation</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.fromaxis">
<code class="descname">fromaxis</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.fromaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an nddata object from one of the axis labels.</p>
<p>Can be used in one of several ways:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">self.fromaxis('axisname')</span></code>: Returns an nddata where <cite>retval.data</cite> consists of the given axis values.</li>
<li><code class="docutils literal notranslate"><span class="pre">self.fromaxis('axisname',inputfunc)</span></code>: use <cite>axisname</cite> as the input for <cite>inputfunc</cite>, and load the result into <cite>retval.data</cite></li>
<li><code class="docutils literal notranslate"><span class="pre">self.fromaxis(inputsymbolic)</span></code>: Evaluate <cite>inputsymbolic</cite> and load the result into <cite>retval.data</cite></li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>axisname</strong> (<em>str | list</em>) – The axis (or list of axes) to that is used as the argument of <cite>inputfunc</cite> or the function represented by <cite>inputsymbolic</cite>.
If this is the only argument, it cannot be a list.</li>
<li><strong>inputsymbolic</strong> (<em>sympy.Expr</em>) – A sympy expression whose only symbols are the names of axes.
It is preferred, though not required, that this is passed
without an <cite>axisname</cite> argument – the axis names are then
inferred from the symbolic expression.</li>
<li><strong>inputfunc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – A function (typically a lambda function) that taxes the values of the axis given by <cite>axisname</cite> as input.</li>
<li><strong>overwrite</strong> (<em>bool</em>) – Defaults to <cite>False</cite>. If set to <cite>True</cite>, it overwrites <cite>self</cite> with <cite>retval</cite>.</li>
<li><strong>as_array</strong> (<em>bool</em>) – Defaults to <cite>False</cite>. If set to <cite>True</cite>, <cite>retval</cite> is a properly dimensioned numpy ndarray rather than an nddata.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>retval</strong> – An expression calculated from the axis(es) given by <cite>axisname</cite> or inferred from <cite>inputsymbolic</cite>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">nddata | ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.ft">
<code class="descname">ft</code><span class="sig-paren">(</span><em>axes</em>, <em>tolerance=1e-05</em>, <em>cosine=False</em>, <em>verbose=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ft" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs a Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="docutils">
<dt>It adjusts normalization and units so that the result conforms to</dt>
<dd><span class="math notranslate nohighlight">\(\tilde{s}(f)=\int_{x_min}^{x_max} s(t) e^{-i 2 \pi f t} dt\)</span></dd>
</dl>
<p>Note that, as noted in the <a class="reference internal" href="#pyspecdata.core.nddata.ift" title="pyspecdata.core.nddata.ift"><code class="xref py py-func docutils literal notranslate"><span class="pre">ift()</span></code></a> documentation,
the inverse transform doesn’t correspond to the equivalent
expression for the IFT.</p>
<p><strong>pre-FT</strong>, we use the axis to cyclically permute <span class="math notranslate nohighlight">\(t=0\)</span> to the first index</p>
<p><strong>post-FT</strong>, we assume that the data has previously been IFT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard fftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.</li>
<li><strong>automix</strong> (<em>double</em>) – <cite>automix</cite> can be set to the approximate frequency value.  This is
useful for the specific case where the data has been captured on a
sampling scope, and it’s severely aliased over.</li>
<li><strong>cosine</strong> (<em>boolean</em>) – yields a sum of the fft and ifft, for a cosine transform</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.ft_clear_startpoints">
<code class="descname">ft_clear_startpoints</code><span class="sig-paren">(</span><em>axis</em>, <em>t=None</em>, <em>f=None</em>, <em>nearest=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ft_clear_startpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears memory of where the origins in the time and frequency domain are.
This is useful, <em>e.g.</em> when you want to ift and center about time=0.
By setting shift=True you can also manually set the points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>t</strong> (<em>float</em><em>, </em><em>'current'</em><em>, </em><em>'reset'</em><em>, or </em><em>None</em>) – keyword arguments <cite>t</cite> and <cite>f</cite> can be set by (1) manually setting
the start point (2) using the string ‘current’ to leave the
current setting a lone (3) ‘reset’, which clears the startpoint
and (4) None, which will be changed to ‘current’ when the other is set to a number or ‘rest’ if both are set to None.</li>
<li><strong>t</strong> – see <cite>t</cite></li>
<li><strong>nearest</strong> (<em>bool</em>) – <p>Shifting the startpoint can only be done
by an integral number of datapoints
(<em>i.e.</em> an integral number of dwell
times, dt, in the time domain or
integral number of df in the frequency
domain).
While it is possible to shift by a
non-integral number of datapoints,
this is done by applying a
phase-dependent shift in the inverse
domain.
Applying such a axis-dependent shift
can have vary unexpected effects if the
data in the inverse domain is aliased,
and is therefore heavily discouraged.
(For example, consider what happens if
we attempt to apply a
frequency-dependent phase shift to data
where a peak at 110 Hz is aliased and
appears at the 10 Hz position.)</p>
<p>Setting <cite>nearest</cite> to <strong>True</strong>
will choose a startpoint at the closest
integral datapoint to what you have
specified.</p>
<p>Setting <cite>nearest</cite> to <strong>False</strong>
will explicitly override the safeties –
essentially telling the code that you
know the data is not aliased in the
inverse domain and/or are willing to
deal with the consequences.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.ft_state_to_str">
<code class="descname">ft_state_to_str</code><span class="sig-paren">(</span><em>*axes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ft_state_to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string that lists the FT domain for the given axes.</p>
<p><span class="math notranslate nohighlight">\(u\)</span> refers to the original domain (typically time) and <span class="math notranslate nohighlight">\(v\)</span> refers to the FT’d domain (typically frequency)
If no axes are passed as arguments, it does this for all axes.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.ftshift">
<code class="descname">ftshift</code><span class="sig-paren">(</span><em>axis</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ftshift" title="Permalink to this definition">¶</a></dt>
<dd><p>FT-based shift.  Currently only works in time domain.</p>
<p>This was previously made obsolete, but is now a demo of how to use the ft properties.
It is not the most efficient way to do this.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.get_covariance">
<code class="descname">get_covariance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>this returns the covariance matrix of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.get_error">
<code class="descname">get_error</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_error" title="Permalink to this definition">¶</a></dt>
<dd><p>get a copy of the errors
either set_error(‘axisname’,error_for_axis) or set_error(error_for_data)</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.get_ft_prop">
<code class="descname">get_ft_prop</code><span class="sig-paren">(</span><em>axis</em>, <em>propname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_ft_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if no <cite>propname</cite> is given, this just sets the <cite>FT</cite> property, which tells if a dimension is frequency or time domain</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.get_plot_color">
<code class="descname">get_plot_color</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_plot_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.get_prop">
<code class="descname">get_prop</code><span class="sig-paren">(</span><em>propname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>return arbitrary ND-data properties (typically acquisition parameters <em>etc.</em>) by name (<cite>propname</cite>)</p>
<p>In order to allow ND-data to store acquisition parameters and other info that accompanies the data,
but might not be structured in a gridded format, nddata instances
always have a <cite>other_info</cite> dictionary attribute,
which stores these properties by name.</p>
<p>If the property doesn’t exist, this returns <cite>None</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>propname</strong> (<em>str</em>) – <p>Name of the property that you’re want returned.
If this is left out or set to “None” (not given), the names of the available
properties are returned.
If no exact match is found, and propname contains a . or * or [, it’s
assumed to be a regular expression.
If several such matches are found, the error message is informative.</p>
<span class="target" id="index-0"></span><div class="admonition-todo admonition">
<p class="first admonition-title">Todo</p>
<p class="last">have it recursively search dictionaries (e.g. bruker acq)</p>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">The value of the property (can by any type) or <cite>None</cite> if the property doesn’t exist.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.get_units">
<code class="descname">get_units</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.getaxis">
<code class="descname">getaxis</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.getaxis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.getaxisshape">
<code class="descname">getaxisshape</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.getaxisshape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.gnuplot_save">
<code class="descname">gnuplot_save</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.gnuplot_save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.hdf5_write">
<code class="descname">hdf5_write</code><span class="sig-paren">(</span><em>h5path</em>, <em>directory='.'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.hdf5_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the nddata to an HDF5 file.</p>
<p><cite>h5path</cite> is the name of the file followed by the node path where
you want to put it – it does <strong>not</strong> include the directory where
the file lives.
The directory can be passed to the <cite>directory</cite> argument.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>h5path</strong> (<em>str</em>) – The name of the file followed by the node path where
you want to put it – it does <strong>not</strong> include the directory where
the file lives.
(Because HDF5 files contain an internal directory-like group
structure.)</li>
<li><strong>directory</strong> (<em>str</em>) – the directory where the HDF5 file lives.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.histogram">
<code class="descname">histogram</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.histogram" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.human_units">
<code class="descname">human_units</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.human_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.ift">
<code class="descname">ift</code><span class="sig-paren">(</span><em>axes</em>, <em>n=False</em>, <em>tolerance=1e-05</em>, <em>verbose=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ift" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs a Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="docutils">
<dt>It adjusts normalization and units so that the result conforms to</dt>
<dd><span class="math notranslate nohighlight">\(s(t)=t_{dw} \int_{x_min}^{x_max} \tilde{s}(t) e^{i 2 \pi f t} df\)</span></dd>
</dl>
<p>Where <span class="math notranslate nohighlight">\(t_{dw}=\frac{1}{\Delta f}\)</span>, is the dwell time (with <span class="math notranslate nohighlight">\(\Delta f\)</span> the spectral width).</p>
<p><em>Why do we do this?</em> Note that while the analytical integral this corresponds to is normalized, performing
<a class="reference internal" href="#pyspecdata.core.nddata.ft" title="pyspecdata.core.nddata.ft"><code class="xref py py-func docutils literal notranslate"><span class="pre">ft()</span></code></a> followed by <a class="reference internal" href="#pyspecdata.core.nddata.ift" title="pyspecdata.core.nddata.ift"><code class="xref py py-func docutils literal notranslate"><span class="pre">ift()</span></code></a> on a discrete sequence is NOT completely invertible
(due to integration of the implied comb function??),
and would require division by a factor of $Delta f$ (the spectral width) in order
to retrieve the original function</p>
<p><strong>pre-IFT</strong>, we use the axis to cyclically permute $f=0$ to the first index</p>
<p><strong>post-IFT</strong>, we assume that the data has previously been FT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard ifftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <p><cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.   It uses the
<cite>start_time</cite> ft property to determine the start of the axis.  To
do this, it assumes that it is a stationary signal
(convolved with infinite comb function).
The value of <cite>start_time</cite> can differ from by a non-integral multiple of
<span class="math notranslate nohighlight">\(\Delta t\)</span>, though the routine will check whether or not it is safe to
do this.</p>
<dl class="docutils">
<dt>..note ::</dt>
<dd>In the code, this is controlled by <cite>p2_post</cite> (the integral
<span class="math notranslate nohighlight">\(\Delta t\)</span> and <cite>p2_post_discrepancy</cite> – the non-integral.</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.nddata.imag">
<code class="descname">imag</code><a class="headerlink" href="#pyspecdata.core.nddata.imag" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the imag component of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.indices">
<code class="descname">indices</code><span class="sig-paren">(</span><em>axis_name</em>, <em>values</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string of indeces that most closely match the axis labels corresponding to values. Filter them to make sure they are unique.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.inhomog_coords">
<code class="descname">inhomog_coords</code><span class="sig-paren">(</span><em>direct_dim</em>, <em>indirect_dim</em>, <em>tolerance=1e-05</em>, <em>method='linear'</em>, <em>plot_name=None</em>, <em>fl=None</em>, <em>debug_kwargs={}</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.inhomog_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the “inhomogeneity transform,” which rotates the data by <span class="math notranslate nohighlight">\(45^{\circ}\)</span>, and then mirrors the portion with <span class="math notranslate nohighlight">\(t_2&lt;0\)</span> in order to transform from a <span class="math notranslate nohighlight">\((t_1,t_2)\)</span> coordinate system to a <span class="math notranslate nohighlight">\((t_{inh},t_{homog})\)</span> coordinate system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>direct_dim</strong> (<em>str</em>) – Label of the direct dimension (typically <span class="math notranslate nohighlight">\(t_2\)</span>)</li>
<li><strong>indirect_dim</strong> (<em>str</em>) – Label of the indirect dimension (typically <span class="math notranslate nohighlight">\(t_1\)</span>)</li>
<li><strong>method</strong> (<em>'linear'</em><em>, </em><em>'fourier'</em>) – The interpolation method used to rotate the data and to mirror the data.
<strong>Note</strong> currently, both use a fourier-based mirroring method.</li>
<li><strong>plot_name</strong> (<em>str</em>) – the base name for the plots that are generated</li>
<li><strong>fl</strong> (<em>figlist_var</em>) – </li>
<li><strong>debug_kwargs</strong> (<em>dict</em>) – <p>with keys:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2"><cite>correct_overlap</cite>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">if False, doesn’t correct for the overlap error that occurs during mirroring</td>
</tr>
</tbody>
</table>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.integrate">
<code class="descname">integrate</code><span class="sig-paren">(</span><em>thisaxis</em>, <em>backwards=False</em>, <em>cumulative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>this performs an integration – which is similar to a sum, except that it takes the axis into account, i.e., it performs:
$int f(x) dx$
rather than
$sum_i f(x_i)$</p>
<p>Gaussian quadrature, etc, is planned for a future version.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.interp">
<code class="descname">interp</code><span class="sig-paren">(</span><em>axis</em>, <em>axisvalues</em>, <em>past_bounds=None</em>, <em>verbose=False</em>, <em>return_func=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.interp" title="Permalink to this definition">¶</a></dt>
<dd><p>interpolate data values given axis values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_func</strong> (<em>boolean</em>) – defaults to False.  If True, it returns a function that accepts
axis values and returns a data value.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.invinterp">
<code class="descname">invinterp</code><span class="sig-paren">(</span><em>axis</em>, <em>values</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.invinterp" title="Permalink to this definition">¶</a></dt>
<dd><p>interpolate axis values given data values</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.item">
<code class="descname">item</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.item" title="Permalink to this definition">¶</a></dt>
<dd><p>like numpy item – returns a number when zero-dimensional</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">labels</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span></dt>
<dd><p>label the dimensions, given in listofstrings with the axis labels given in listofaxes – listofaxes must be a numpy array;
you can pass either a dictionary or a axis name (string)/axis label (numpy array) pair</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.like">
<code class="descname">like</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.like" title="Permalink to this definition">¶</a></dt>
<dd><p>provide “zeros_like” and “ones_like” functionality</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>float</em>) – 1 is “ones_like” 0 is “zeros_like”, etc.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.linear_shear">
<code class="descname">linear_shear</code><span class="sig-paren">(</span><em>along_axis</em>, <em>propto_axis</em>, <em>shear_amnt</em>, <em>zero_fill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.linear_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>the linear shear – see <cite>self.shear</cite> for documentation</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.matchdims">
<code class="descname">matchdims</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.matchdims" title="Permalink to this definition">¶</a></dt>
<dd><p>add any dimensions to self that are not present in other</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.matrices_3d">
<code class="descname">matrices_3d</code><span class="sig-paren">(</span><em>also1d=False</em>, <em>invert=False</em>, <em>max_dimsize=1024</em>, <em>downsample_self=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.matrices_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>returns X,Y,Z,x_axis,y_axis
matrices X,Y,Z, are suitable for a variety of mesh plotting, etc, routines
x_axis and y_axis are the x and y axes</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.mayavi_surf">
<code class="descname">mayavi_surf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mayavi_surf" title="Permalink to this definition">¶</a></dt>
<dd><p>use the mayavi surf function, assuming that we’ve already loaded mlab
during initialization</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.mean">
<code class="descname">mean</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Take the mean and set the error to the standard deviation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_error</strong> (<em>bool</em>) – whether or note to return the standard deviation as an error</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.mean_all_but">
<code class="descname">mean_all_but</code><span class="sig-paren">(</span><em>listofdims</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mean_all_but" title="Permalink to this definition">¶</a></dt>
<dd><p>take the mean over all dimensions not in the list</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.mean_nopop">
<code class="descname">mean_nopop</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mean_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.mean_weighted">
<code class="descname">mean_weighted</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mean_weighted" title="Permalink to this definition">¶</a></dt>
<dd><p>perform  the weighted mean along <cite>axisname</cite> (use $sigma$ from $sigma = $self.get_error() do generate $1/sigma$ weights)
for now, it clears the error of <cite>self</cite>, though it would be easy to calculate the new error, since everything is linear</p>
<p>unlike other functions, this creates working objects that are themselves nddata objects
this strategy is easier than coding out the raw numpy math, but probably less efficient</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.meshplot">
<code class="descname">meshplot</code><span class="sig-paren">(</span><em>stride=None</em>, <em>alpha=1.0</em>, <em>onlycolor=False</em>, <em>light=None</em>, <em>rotation=None</em>, <em>cmap=&lt;matplotlib.colors.LinearSegmentedColormap object&gt;</em>, <em>ax=None</em>, <em>invert=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.meshplot" title="Permalink to this definition">¶</a></dt>
<dd><p>takes both rotation and light as elevation, azimuth
only use the light kwarg to generate a black and white shading display</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.mkd">
<code class="descname">mkd</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mkd" title="Permalink to this definition">¶</a></dt>
<dd><p>make dictionary format</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.multimin">
<code class="descname">multimin</code><span class="sig-paren">(</span><em>minfunc</em>, <em>axisname</em>, <em>filterwidth</em>, <em>numberofmins</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.multimin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.name">
<code class="descname">name</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.name" title="Permalink to this definition">¶</a></dt>
<dd><p>args:
.name(newname) –&gt; Name the object (for storage, etc)
.name() –&gt; Return the name</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.nnls">
<code class="descname">nnls</code><span class="sig-paren">(</span><em>dimname</em>, <em>newaxis_dict</em>, <em>kernel_func</em>, <em>l=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.nnls" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform regularized non-negative least-squares “fit” on self.</p>
<p>Capable of solving for solution in 1 or 2 dimensions.</p>
<p>We seek to minimize
<span class="math notranslate nohighlight">\(Q = \| Ax - b \|_2 + \|\lambda x\|_2\)</span>
in order to obtain solution vector <span class="math notranslate nohighlight">\(x\)</span> subject to non-negativity constraint
given input matrix <span class="math notranslate nohighlight">\(A\)</span>, the kernel, and input vector <span class="math notranslate nohighlight">\(b\)</span>, the data.</p>
<p>The first term assesses agreement between the fit <span class="math notranslate nohighlight">\(Ax\)</span> and the data <span class="math notranslate nohighlight">\(b\)</span>,
and the second term accounts for noise with the regularization parameter <span class="math notranslate nohighlight">\(\lambda\)</span>
according to Tikhonov regularization.</p>
<p>To perform regularized minimization in 2 dimensions, set <cite>l</cite> to <a href="#id3"><span class="problematic" id="id4">:str:`BRD`</span></a> and provide a
tuple of parameters <a href="#id5"><span class="problematic" id="id6">:str:`dimname`</span></a>, <a href="#id7"><span class="problematic" id="id8">:nddata:`newaxis_dict`</span></a>, and <a href="#id9"><span class="problematic" id="id10">:function:`kernel_func`</span></a>.
Algorithm described in Venkataramanan et al. 2002 is performed which determines optimal <span class="math notranslate nohighlight">\(\lambda\)</span>
for the data (DOI:10.1109/78.995059).</p>
<p>See: <a class="reference external" href="https://en.wikipedia.org/wiki/Non-negative_least_squares">Wikipedia page on NNLS</a>,
<a class="reference external" href="https://en.wikipedia.org/wiki/Tikhonov_regularization">Wikipedia page on Tikhonov regularization</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dimname</strong> (<em>str</em>) – Name of the “data” dimension that is to be replaced by a
distribution (the “fit” dimension);
<em>e.g.</em> if you are regularizing a set of functions
<span class="math notranslate nohighlight">\(\exp(-\tau*R_1)\)</span>, then this is <span class="math notranslate nohighlight">\(\tau\)</span></li>
<li><strong>newaxis_dict</strong> (<em>dict</em><em> or </em><a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata"><em>nddata</em></a>) – a dictionary whose key is the name of the “fit” dimension
(<span class="math notranslate nohighlight">\(R_1\)</span> in the example above)
and whose value is an array with the new axis labels.
OR
this can be a 1D nddata
– if it has an axis, the axis will be used to create the
fit axis; if it has no axis, the data will be used</li>
<li><strong>kernel_func</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – a function giving the kernel for the regularization.
The first argument is the “data” variable
and the second argument is the “fit” variable
(in the example above, this would be something like
<code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x,y:</span> <span class="pre">exp(-x*y)</span></code>)</li>
<li><strong>l</strong> (<em>double</em><em> (</em><em>default 0</em><em>) or </em><em>str</em>) – the regularization parameter
<span class="math notranslate nohighlight">\(lambda\)</span> – if this is set to 0, the algorithm reverts to
standard nnls.
If this is set to <a href="#id11"><span class="problematic" id="id12">:str:`BRD`</span></a>, then algorithm expects tuple of each parameter
described above in order to perform a 2-dimensional fit.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The regularized result.
For future use, both the kernel (as an nddata, in a property called
“nnls_kernel”) and the residual (as an nddata, in a property called
“nnls_residual”) are stored as properties of the nddata.
The regularized dimension is always last
(innermost).
If <a href="#id13"><span class="problematic" id="id14">:str:`BRD`</span></a> is specified, then the individual, uncompressed kernels <span class="math notranslate nohighlight">\(K_{1}\)</span> and <span class="math notranslate nohighlight">\(K_{2}\)</span> are returned as properties of the nddata “K1” and “K2” respectively. The number of singular values used to compressed each kernel is returned in properties of the nddata called, respectively, “s1” and “s2”.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.normalize">
<code class="descname">normalize</code><span class="sig-paren">(</span><em>axis</em>, <em>first_figure=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.normalize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.oldtimey">
<code class="descname">oldtimey</code><span class="sig-paren">(</span><em>alpha=0.5</em>, <em>ax=None</em>, <em>linewidth=None</em>, <em>sclinewidth=20.0</em>, <em>light=True</em>, <em>rotation=None</em>, <em>invert=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.oldtimey" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.plot_labels">
<code class="descname">plot_labels</code><span class="sig-paren">(</span><em>labels</em>, <em>fmt=None</em>, <em>**kwargs_passed</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.plot_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>this only works for one axis now</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.polyfit">
<code class="descname">polyfit</code><span class="sig-paren">(</span><em>axis</em>, <em>order=1</em>, <em>force_y_intercept=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.polyfit" title="Permalink to this definition">¶</a></dt>
<dd><p>polynomial fitting routine – return the coefficients and the fit
..note:</p>
<blockquote>
<div>later, should probably branch this off as a new type of fit class</div></blockquote>
<dl class="docutils">
<dt>..warning:</dt>
<dd>for some reason, this version doesn’t use orthogonal polynomials,
as the numpy routine does – we had diagnosed and determined that
that creates noticeably different results, so fix that here.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>axis</strong> (<em>str</em>) – name of the axis that you want to fit along
(not sure if this is currently tested for multi-dimensional data,
but the idea should be that multiple fits would be returned.)</li>
<li><strong>order</strong> (<em>int</em>) – the order of the polynomial to be fit</li>
<li><strong>force_y_intercept</strong> (<em>double</em><em> or </em><em>None</em>) – force the y intercept to a particular value (e.g. 0)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>c</strong> (<em>ndarray</em>) – a standard numpy array containing the coefficients (in ascending polynomial order)</li>
<li><strong>formult</strong> (<em>nddata</em>) – an nddata containing the result of the fit</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.popdim">
<code class="descname">popdim</code><span class="sig-paren">(</span><em>dimname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.popdim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.random_mask">
<code class="descname">random_mask</code><span class="sig-paren">(</span><em>axisname</em>, <em>threshold=None</em>, <em>inversion=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.random_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a random mask with about ‘threshold’ of the points thrown out</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.nddata.real">
<code class="descname">real</code><a class="headerlink" href="#pyspecdata.core.nddata.real" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the real component of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.register_axis">
<code class="descname">register_axis</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.register_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate the data so that the given axes are in register with a set of specified values. Does not change the spacing of the axis labels.</p>
<p>It finds the axis label position that is closest to the values given in <cite>arg</cite>, then interpolates (Fourier/sinc method) the data onto a new, slightly shifted, axis that passes exactly through the value given.
To do this, it uses
<a class="reference internal" href="#pyspecdata.core.nddata.ft_clear_startpoints" title="pyspecdata.core.nddata.ft_clear_startpoints"><code class="xref py py-func docutils literal notranslate"><span class="pre">.ft_clear_startpoints()</span></code></a>
and uses
<a class="reference internal" href="#pyspecdata.core.nddata.set_ft_prop" title="pyspecdata.core.nddata.set_ft_prop"><code class="xref py py-func docutils literal notranslate"><span class="pre">.set_ft_prop()</span></code></a>
to override the “not aliased” flag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arg</strong> (<em>dict</em><em> (</em><em>key</em><em>,</em><em>value = str</em><em>,</em><em>double</em><em>)</em>) – A list of the dimensions that you want to place in register, and the values you want them registered to.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>previous</em>, <em>new</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.rename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.reorder">
<code class="descname">reorder</code><span class="sig-paren">(</span><em>*axes</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.reorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorder the dimensions
the first arguments are a list of dimensions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>*axes</strong> (<em>str</em>) – Accept any number of arguments that gives the dimensions, in the
order that you want thee.</li>
<li><strong>first</strong> (<em>bool</em>) – (default True)
Put this list of dimensions first, while False puts them last (where they then come in the order given).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.replicate_units">
<code class="descname">replicate_units</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.replicate_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.repwlabels">
<code class="descname">repwlabels</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.repwlabels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.retaxis">
<code class="descname">retaxis</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.retaxis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run a standard numpy function on the nddata:</p>
<p><code class="docutils literal notranslate"><span class="pre">d.run(func,'axisname')</span></code> will run function <cite>func</cite> (<em>e.g.</em> a
lambda function) along axis named ‘axisname’</p>
<p><code class="docutils literal notranslate"><span class="pre">d.run(func)</span></code> will run function <cite>func</cite> on the data</p>
<p><strong>in general</strong>: if the result of func reduces a dimension size to
1, the ‘axisname’ dimension will be “popped” (it will not exist in
the result) – if this is not what you want, use <code class="docutils literal notranslate"><span class="pre">run_nopop</span></code></p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.run_avg">
<code class="descname">run_avg</code><span class="sig-paren">(</span><em>thisaxisname</em>, <em>decimation=20</em>, <em>centered=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.run_avg" title="Permalink to this definition">¶</a></dt>
<dd><p>a simple running average</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.run_nopop">
<code class="descname">run_nopop</code><span class="sig-paren">(</span><em>func</em>, <em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.run_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.runcopy">
<code class="descname">runcopy</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.runcopy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.secsy_transform">
<code class="descname">secsy_transform</code><span class="sig-paren">(</span><em>direct_dim</em>, <em>indirect_dim</em>, <em>has_indirect=True</em>, <em>method='fourier'</em>, <em>truncate=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.secsy_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the time-domain data backwards by the echo time.</p>
<p>As opposed to <code class="xref py py-func docutils literal notranslate"><span class="pre">secsy_transform_manual</span></code>, this calls on on <code class="xref py py-func docutils literal notranslate"><span class="pre">skew</span></code>,
rather than directly manipulating the phase of the function, which can lead to aliasing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>has_indirect</strong> (<em>bool</em>) – <p>(This option is largely specific to data loaded by <code class="xref py py-func docutils literal notranslate"><span class="pre">acert_hdf5</span></code>)</p>
<p>Does the data actually have an indirect dimension?
If not, assume that there is a constant echo time,
that can be retrieved with <code class="docutils literal notranslate"><span class="pre">.get_prop('te')</span></code>.</p>
</li>
<li><strong>truncate</strong> (<em>bool</em>) – If this is set, <cite>register_axis &lt;pyspecdata.axis_manipulation.register_axis&gt;</cite> to <span class="math notranslate nohighlight">\(t_{direct}=0\)</span>,
and then throw out the data for which <span class="math notranslate nohighlight">\(t_{direct}&lt;0\)</span>.</li>
<li><strong>method</strong> (<em>str</em>) – The shear method (linear or fourier).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.secsy_transform_manual">
<code class="descname">secsy_transform_manual</code><span class="sig-paren">(</span><em>direct_dim</em>, <em>indirect_dim</em>, <em>has_indirect=True</em>, <em>truncate=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.secsy_transform_manual" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the time-domain data backwards by the echo time.
As opposed to <code class="xref py py-func docutils literal notranslate"><span class="pre">secsy_transform</span></code>, this directlly manipulates the phase of the function, rather than calling on <code class="xref py py-func docutils literal notranslate"><span class="pre">skew</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>has_indirect</strong> (<em>bool</em>) – <p>(This option is largely specific to data loaded by <code class="xref py py-func docutils literal notranslate"><span class="pre">acert_hdf5</span></code>)</p>
<p>Does the data actually have an indirect dimension?
If not, assume that there is a constant echo time,
that can be retrieved with <code class="docutils literal notranslate"><span class="pre">.get_prop('te')</span></code>.</p>
</li>
<li><strong>truncate</strong> (<em>bool</em>) – If this is set, <cite>register_axis &lt;pyspecdata.axis_manipulation.register_axis&gt;</cite> to <span class="math notranslate nohighlight">\(t_{direct}=0\)</span>,
and then throw out the data for which <span class="math notranslate nohighlight">\(t_{direct}&lt;0\)</span>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.set_error">
<code class="descname">set_error</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_error" title="Permalink to this definition">¶</a></dt>
<dd><p>set the errors: either</p>
<p><cite>set_error(‘axisname’,error_for_axis)</cite> or <cite>set_error(error_for_data)</cite></p>
<p><cite>error_for_data</cite> can be a scalar, in which case, <strong>all</strong> the data errors are set to <cite>error_for_data</cite></p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.set_ft_prop">
<code class="descname">set_ft_prop</code><span class="sig-paren">(</span><em>axis</em>, <em>propname=None</em>, <em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_ft_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if <cite>propname</cite> is a boolean, and <cite>value</cite> is True (the default), it’s assumed that propname is actually None, and that <cite>value</cite> is set to the <cite>propname</cite> argument (this allows us to set the <cite>FT</cite> property more easily)</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.set_plot_color">
<code class="descname">set_plot_color</code><span class="sig-paren">(</span><em>thiscolor</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_plot_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.set_prop">
<code class="descname">set_prop</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>set a ‘property’ of the nddata
This is where you can put all unstructured information (e.g. experimental parameters, etc)</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.set_to">
<code class="descname">set_to</code><span class="sig-paren">(</span><em>otherinst</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Set data inside the current instance to that of the other instance.</p>
<p>Goes through the list of attributes specified in copy,
and assigns them to the element of the current instance.</p>
<p>This is to be used:</p>
<ul class="simple">
<li>for constructing classes that inherit nddata with additional methods.</li>
<li>for overwriting the current data with the result of a slicing operation</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.set_units">
<code class="descname">set_units</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.setaxis">
<code class="descname">setaxis</code><span class="sig-paren">(</span><em>axis</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.setaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>set the value of the axis if you pass a function as the <cite>value</cite>, it will use the existing axis labels as the argument of the function, and then put the result into the axis labels</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.shear">
<code class="descname">shear</code><span class="sig-paren">(</span><em>along_axis</em>, <em>propto_axis</em>, <em>shear_amnt</em>, <em>zero_fill=True</em>, <em>start_in_conj=False</em>, <em>method='linear'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.shear" title="Permalink to this definition">¶</a></dt>
<dd><p>Shear the data <span class="math notranslate nohighlight">\(s\)</span>:</p>
<p><span class="math notranslate nohighlight">\(s(x',y,z) = s(x+ay,y,z)\)</span></p>
<p>where <span class="math notranslate nohighlight">\(x\)</span> is the <cite>altered_axis</cite> and <span class="math notranslate nohighlight">\(y\)</span> is the
<cite>propto_axis</cite>.  (Actually typically 2D, but <span class="math notranslate nohighlight">\(z\)</span> included
just to illustrate other dimensions that aren’t involved)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>method</strong> (<em>{'fourier'</em><em>,</em><em>'linear'}</em>) – <dl class="docutils">
<dt>fourier</dt>
<dd>Use the Fourier shift theorem (<em>i.e.</em>, sinc interpolation).  A
shear is equivalent to the following in the conjugate domain:<p>..math: <cite>tilde{s}(f_x,f’_y,z) = tilde{s}(f_x,f_y-af_x,f_z)</cite></p>
<p class="last">Because of this, the algorithm <strong>also</strong>
automatically <cite>extend`s the data in `f_y</cite> axis.
Equivalently, it increases the resolution
(decreases the interval between points) in the
<cite>propto_axis</cite> dimension.  This prevents aliasing
in the conjugate domain, which will corrupt the
data <em>w.r.t.</em> successive transformations. It does
this whether or not <cite>zero_fill</cite> is set
(<cite>zero_fill</cite> only controls filling in the
“current” dimension)</p>
</dd>
<dt>linear</dt>
<dd>Use simple linear interpolation.</dd>
</dl>
</li>
<li><strong>altered_axis</strong> (<em>str</em>) – The coordinate for which data is altered, <em>i.e.</em>
..math: <cite>x</cite> such that ..math: <cite>f(x+ay,y)</cite>.</li>
<li><strong>by_amount</strong> (<em>double</em>) – The amount of the shear (..math: <cite>a</cite> in the previous)</li>
<li><strong>propto_axis</strong> (<em>str</em>) – The shift along the <cite>altered_axis</cite> dimension is
proportional to the shift along <cite>propto_axis</cite>.
The position of data relative to the <cite>propto_axis</cite> is not
changed.
Note that by the shift theorem, in the frequency domain,
an equivalent magnitude, opposite sign, shear is applied
with the <cite>propto_axis</cite> and <cite>altered_axis</cite> dimensions
flipped.</li>
<li><strong>start_in_conj</strong> (<em>{False</em><em>, </em><em>True}</em><em>, </em><em>optional</em>) – <p>Defaults to False</p>
<p>For efficiency, one can replace a double (I)FT call followed by a
shear call with a single shear call where <cite>start_in_conj</cite> is set.</p>
<p><cite>self</cite> before the call is given in the conjugate domain  (<em>i.e.</em>,
<span class="math notranslate nohighlight">\(f\)</span> <em>vs.</em> <span class="math notranslate nohighlight">\(t\)</span>) along both dimensions from the one that’s
desired.  This means: (1) <cite>self</cite> after the function call transformed
into the conjugate domain from that before the call and (2)
<cite>by_amount</cite>, <cite>altered_axis</cite>, and <cite>propto_axis</cite> all refer to the shear
in the conjugate domain that the data is in at the end of the
function call.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.smoosh">
<code class="descname">smoosh</code><span class="sig-paren">(</span><em>dimstocollapse</em>, <em>dimname=0</em>, <em>noaxis=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.smoosh" title="Permalink to this definition">¶</a></dt>
<dd><p>Collapse (smoosh) multiple dimensions into one dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dimstocollapse</strong> (<em>list of strings</em>) – the dimensions you want to collapse to one result dimension</li>
<li><strong>dimname</strong> (<em>None</em><em>, </em><em>string</em><em>, </em><em>integer</em><em> (</em><em>default 0</em><em>)</em>) – <p>if dimname is:</p>
<ul>
<li>None: create a new (direct product) name,</li>
<li>a number: an index to the <code class="docutils literal notranslate"><span class="pre">dimstocollapse</span></code> list.  The resulting smooshed dimension will be named <code class="docutils literal notranslate"><span class="pre">dimstocollapse[dimname]</span></code>. Because the default is the number 0, the new dimname will be the first dimname given in the list.</li>
<li>a string: the name of the resulting smooshed dimension (can be part of the <code class="docutils literal notranslate"><span class="pre">dimstocollapse</span></code> list or not)</li>
</ul>
</li>
<li><strong>noaxis</strong> (<em>bool</em>) – if set, then just skip calculating the axis for the new dimension,
which otherwise is typically a complicated record array</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>self</strong> (<em>nddata</em>) – the dimensions <cite>dimstocollapse</cite> are smooshed into a single dimension,
whose name is determined by <cite>dimname</cite>.
The axis for the resulting, smooshed dimension is a structured
array consisting of two fields that give the labels along the
original axes.</li>
<li><em>..todo::</em> – when we transition to axes that are stored using a
slice/linspace-like format,
allow for smooshing to determine a new axes that is standard
(not a structured array) and that increases linearly.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.sort">
<code class="descname">sort</code><span class="sig-paren">(</span><em>axisname</em>, <em>reverse=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.sort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.sort_and_xy">
<code class="descname">sort_and_xy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.sort_and_xy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.squeeze">
<code class="descname">squeeze</code><span class="sig-paren">(</span><em>return_dropped=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.squeeze" title="Permalink to this definition">¶</a></dt>
<dd><p>squeeze singleton dimensions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_dropped</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – return a list of the dimensions that were dropped as a second argument</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><em>self</em></li>
<li><strong>return_dropped</strong> (<em>list</em>) – (optional, only if return_dropped is True)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><em>axes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.sum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.sum_nopop">
<code class="descname">sum_nopop</code><span class="sig-paren">(</span><em>axes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.sum_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.to_ppm">
<code class="descname">to_ppm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.to_ppm" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that converts from Hz to ppm using Bruker parameters</p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p>Figure out what the units of PHC1 in Topspin are (degrees per <em>what??</em>), and apply those as well.</p>
<p class="last">make this part of an inherited bruker class</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.unitify_axis">
<code class="descname">unitify_axis</code><span class="sig-paren">(</span><em>axis_name</em>, <em>is_axis=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.unitify_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>this just generates an axis label with appropriate units</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.units_texsafe">
<code class="descname">units_texsafe</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.units_texsafe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.unset_prop">
<code class="descname">unset_prop</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.unset_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a ‘property’</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.core.nddata.want_to_prospa_decim_correct">
<code class="descname">want_to_prospa_decim_correct</code><em class="property"> = False</em><a class="headerlink" href="#pyspecdata.core.nddata.want_to_prospa_decim_correct" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.core.nddata.waterfall">
<code class="descname">waterfall</code><span class="sig-paren">(</span><em>alpha=0.3</em>, <em>ax=None</em>, <em>rotation=None</em>, <em>color='b'</em>, <em>edgecolor='k'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.waterfall" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.core.nddata_hdf5">
<em class="property">class </em><code class="descclassname">pyspecdata.core.</code><code class="descname">nddata_hdf5</code><span class="sig-paren">(</span><em>pathstring</em>, <em>directory='.'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.ndgrid">
<code class="descclassname">pyspecdata.core.</code><code class="descname">ndgrid</code><span class="sig-paren">(</span><em>*input</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.ndgrid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.core.ndshape">
<em class="property">class </em><code class="descclassname">pyspecdata.core.</code><code class="descname">ndshape</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.ndshape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyspecdata.ndshape.ndshape_base" title="pyspecdata.ndshape.ndshape_base"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.ndshape.ndshape_base</span></code></a></p>
<p>The ndshape class, including the allocation method</p>
<dl class="method">
<dt id="pyspecdata.core.ndshape.alloc">
<code class="descname">alloc</code><span class="sig-paren">(</span><em>dtype='complex128'</em>, <em>labels=False</em>, <em>format=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.ndshape.alloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the shape object to allocate an empty nddata object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> – Needs documentation</li>
<li><strong>format</strong> (<em>0</em><em>, </em><em>1</em><em>, or </em><em>None</em>) – What goes in the allocated array.
<cite>None</cite> uses numpy empty.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.newcol_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">newcol_rec</code><span class="sig-paren">(</span><em>A</em>, <em>new_dtypes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.newcol_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>add new, empty (i.e. random numbers) fields to A, as given by new_dtypes
–&gt; note that there are deeply nested numpy functions to do this, but the options are confusing, and I think the way these work is efficient</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.nextfigure">
<code class="descclassname">pyspecdata.core.</code><code class="descname">nextfigure</code><span class="sig-paren">(</span><em>figurelist</em>, <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nextfigure" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – now use class</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.normal_attrs">
<code class="descclassname">pyspecdata.core.</code><code class="descname">normal_attrs</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.normal_attrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.obs">
<code class="descclassname">pyspecdata.core.</code><code class="descname">obs</code><span class="sig-paren">(</span><em>*x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.obs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.obsn">
<code class="descclassname">pyspecdata.core.</code><code class="descname">obsn</code><span class="sig-paren">(</span><em>*x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.obsn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.othergridandtick">
<code class="descclassname">pyspecdata.core.</code><code class="descname">othergridandtick</code><span class="sig-paren">(</span><em>ax</em>, <em>rotation=(0</em>, <em>0)</em>, <em>precision=(2</em>, <em>2)</em>, <em>labelstring=(''</em>, <em>'')</em>, <em>gridcolor=None</em>, <em>y=True</em>, <em>x=True</em>, <em>spines=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.othergridandtick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.pinvr">
<code class="descclassname">pyspecdata.core.</code><code class="descname">pinvr</code><span class="sig-paren">(</span><em>C</em>, <em>alpha</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.pinvr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.plot">
<code class="descclassname">pyspecdata.core.</code><code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>The base plotting function that wraps around matplotlib to do a couple convenient things.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>label_format_string</strong> (<em>str</em>) – If supplied, it formats the values of the other dimension to turn them into a label string.</li>
<li><strong>human_units</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.plot_color_counter">
<code class="descclassname">pyspecdata.core.</code><code class="descname">plot_color_counter</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.plot_color_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Try not to use this function any more – the version-to-version support for capturing and setting color cycles in matplotlib is very very bad.  (And, the cycler object in newer versions of matplolib is confusing.) So, just import <cite>cycle</cite> from <cite>itertools</cite>, and use it to build a cycle that you directly call to set your properties.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>previous description:</p>
<p>if passed an argument: make it so that the next line will have the properties given by the argument</p>
<p class="last">if not passed an argument: just return the current plot properties,so that I can cycle back to it</p>
</div>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.plot_label_points">
<code class="descclassname">pyspecdata.core.</code><code class="descname">plot_label_points</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>labels</em>, <em>**kwargs_passed</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.plot_label_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.plot_updown">
<code class="descclassname">pyspecdata.core.</code><code class="descname">plot_updown</code><span class="sig-paren">(</span><em>data</em>, <em>axis</em>, <em>color1</em>, <em>color2</em>, <em>symbol=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.plot_updown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.reorder_rec">
<code class="descclassname">pyspecdata.core.</code><code class="descname">reorder_rec</code><span class="sig-paren">(</span><em>myarray</em>, <em>listofnames</em>, <em>first=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.reorder_rec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.sech">
<code class="descclassname">pyspecdata.core.</code><code class="descname">sech</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.sech" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.showtype">
<code class="descclassname">pyspecdata.core.</code><code class="descname">showtype</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.showtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.spectrogram">
<code class="descclassname">pyspecdata.core.</code><code class="descname">spectrogram</code><span class="sig-paren">(</span><em>waveform</em>, <em>f_start</em>, <em>f_stop</em>, <em>npoints_fdom=40</em>, <em>tdom_div=2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.spectrogram" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.sqrt">
<code class="descclassname">pyspecdata.core.</code><code class="descname">sqrt</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.sqrt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.core.subplot_dim">
<em class="property">class </em><code class="descclassname">pyspecdata.core.</code><code class="descname">subplot_dim</code><span class="sig-paren">(</span><em>firstdim</em>, <em>seconddim</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.subplot_dim" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="pyspecdata.core.subplot_dim.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>args</em>, <em>x=''</em>, <em>g=True</em>, <em>y=''</em>, <em>t=''</em>, <em>a=''</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.subplot_dim.set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.core.testclass">
<em class="property">class </em><code class="descclassname">pyspecdata.core.</code><code class="descname">testclass</code><a class="headerlink" href="#pyspecdata.core.testclass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.text_on_plot">
<code class="descclassname">pyspecdata.core.</code><code class="descname">text_on_plot</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>thistext</em>, <em>coord='axes'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.text_on_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.textlabel_bargraph">
<code class="descclassname">pyspecdata.core.</code><code class="descname">textlabel_bargraph</code><span class="sig-paren">(</span><em>mystructarray</em>, <em>othersort=None</em>, <em>spacing=0.1</em>, <em>verbose=False</em>, <em>ax=None</em>, <em>tickfontsize=8</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.textlabel_bargraph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.core.unmake_ndarray">
<code class="descclassname">pyspecdata.core.</code><code class="descname">unmake_ndarray</code><span class="sig-paren">(</span><em>array_to_conv</em>, <em>name_forprint='unknown'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.unmake_ndarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert this item to an ndarray</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.core.whereblocks">
<code class="descclassname">pyspecdata.core.</code><code class="descname">whereblocks</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.whereblocks" title="Permalink to this definition">¶</a></dt>
<dd><p>returns contiguous chunks where the condition is true
but, see the “contiguous” method, which is more OO</p>
</dd></dl>

</div>
<div class="section" id="module-pyspecdata.datadir">
<span id="pyspecdata-datadir-module"></span><h2>pyspecdata.datadir module<a class="headerlink" href="#module-pyspecdata.datadir" title="Permalink to this headline">¶</a></h2>
<p>Allows the user to run the same code on different machines,
even though the location of the raw spectral data might change.</p>
<p>This is controlled by the <code class="docutils literal notranslate"><span class="pre">~/.pyspecdata</span></code> or <code class="docutils literal notranslate"><span class="pre">~/_pyspecdata</span></code> config file.</p>
<dl class="class">
<dt id="pyspecdata.datadir.MyConfig">
<em class="property">class </em><code class="descclassname">pyspecdata.datadir.</code><code class="descname">MyConfig</code><a class="headerlink" href="#pyspecdata.datadir.MyConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Provides an easy interface to the pyspecdata configuration file.
Only one instance _my_config should be created – this instance is used by
the other functions in this module.</p>
<dl class="attribute">
<dt id="pyspecdata.datadir.MyConfig.config_vars">
<code class="descname">config_vars</code><em class="property"> = None</em><a class="headerlink" href="#pyspecdata.datadir.MyConfig.config_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>The dictionary that stores the current settings – keep these in a dictionary, which should be faster than reading from environ, or from a file.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.datadir.MyConfig.get_setting">
<code class="descname">get_setting</code><span class="sig-paren">(</span><em>this_key</em>, <em>environ=None</em>, <em>default=None</em>, <em>section='General'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.MyConfig.get_setting" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a settings from the “General” group.
If the file does not exist, or the option is not set, then set the option, creating the file as needed.
The option is determined in the following order:</p>
<blockquote>
<div><ul class="simple">
<li>The value in the <cite>config_vars</cite> dictionary.</li>
<li>The value of the environment variable named <cite>environ</cite>.</li>
<li>The value stored in the configuration file at <code class="docutils literal notranslate"><span class="pre">~/.pyspecdata</span></code> (<code class="docutils literal notranslate"><span class="pre">~/_pyspecdata</span></code> on Windows).</li>
<li>The value given by the <cite>default</cite> argument.  If <cite>default</cite> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, then return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>this_key</strong> (<em>str</em>) – The name of the settings that we want to retrieve.</li>
<li><strong>environ</strong> (<em>str</em>) – If the value corresponding to <cite>this_key</cite> is not present in the
<cite>self.config_vars</cite> dictionary, look for an environment variable
called <cite>environ</cite> that stores the value of <cite>this_key</cite>.  If this is
not set, it’s set from the config file or the default argument.</li>
<li><strong>default</strong> (<em>str</em>) – <p>If the value for <cite>this_key</cite> is not in
<cite>self.config_vars</cite>, not in the environment variable
called <cite>environ</cite>, and not in the config file, set it
to this value, and ask for user response to confirm.
Then, set the config file value, the environment, and the
<cite>self.config_vars</cite> value to the result.</p>
<p>For platform compatibility, leading period characters are converted
to <cite>self.hide_start</cite>, and ‘/’ are converted to <cite>os.path.sep</cite>.</p>
</li>
<li><strong>section</strong> (<em>str</em>) – Look in this section of the config file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">The value corresponding to <cite>this_key</cite>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.datadir.MyConfig.hide_start">
<code class="descname">hide_start</code><em class="property"> = None</em><a class="headerlink" href="#pyspecdata.datadir.MyConfig.hide_start" title="Permalink to this definition">¶</a></dt>
<dd><p>This filename prefix denotes a configuration file on the OS.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.datadir.MyConfig.set_setting">
<code class="descname">set_setting</code><span class="sig-paren">(</span><em>this_section</em>, <em>this_key</em>, <em>this_value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.MyConfig.set_setting" title="Permalink to this definition">¶</a></dt>
<dd><p>set <cite>this_key</cite> to <cite>this_value</cite> inside section <cite>this_section</cite>, creating it if necessary</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.datadir.dirformat">
<code class="descclassname">pyspecdata.datadir.</code><code class="descname">dirformat</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.dirformat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.datadir.getDATADIR">
<code class="descclassname">pyspecdata.datadir.</code><code class="descname">getDATADIR</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.getDATADIR" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the base directory where you put all your data.  If arguments
are passed, it returns the directory underneath the data directory, ending
in a trailing (back)slash</p>
<p>It is determined by a call to <cite>MyConfig.get_setting</cite> with the setting name
<cite>data_directory</cite> and the environment variable set to <code class="docutils literal notranslate"><span class="pre">PYTHON_DATA_DIR</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>exp_type</strong> (<em>str</em>) – <p>A string identifying the experiment type.
It searches for <cite>exp_type</cite> in this order:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>Look in the <code class="docutils literal notranslate"><span class="pre">ExpTypes</span></code> section of the config file.</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Note that by using this, you can store data in locations other</dt>
<dd>than your main data directory.
For example, consider the following section of the
<code class="docutils literal notranslate"><span class="pre">~/.pyspecdata</span></code> config file:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">[ExpTypes]</span>
<span class="pre">alternate_base</span> <span class="pre">=</span> <span class="pre">/opt/other_data</span>
<span class="pre">alternate_type_one</span> <span class="pre">=</span> <span class="pre">%(alternate_base)s/type_one</span>
<span class="pre">`</span></code>
which would find data with <cite>exp_type</cite> <code class="docutils literal notranslate"><span class="pre">alternate_type_one</span></code> in
<code class="docutils literal notranslate"><span class="pre">/opt/other_data/type_one</span></code>.</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>use <cite>os.walk</cite> to search for a directory with this name</dt>
<dd>inside the directory identified by <cite>experimental_data</cite>.
excluding things that start with ‘.’, ‘_’ or
containing ‘.hfssresults’, always choosing the
thing that’s highest up in the tree.
If it doesn’t find a directory inside <cite>experimental_data</cite>, it will
search inside all the directories already listed in <cite>ExpTypes</cite>.
Currently, in both attempts, it will only walk 2 levels deep (since NMR directories
can be rather complex, and otherwise it would take forever).</dd>
</dl>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.datadir.get_notebook_dir">
<code class="descclassname">pyspecdata.datadir.</code><code class="descname">get_notebook_dir</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.get_notebook_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the notebook directory.  If arguments are passed, it returns the directory underneath the notebook directory, ending in a trailing (back)slash</p>
<p>It is determined by a call to <cite>MyConfig.get_setting</cite> with the environment variable set to <code class="docutils literal notranslate"><span class="pre">PYTHON_NOTEBOOK_DIR</span></code> and default <code class="docutils literal notranslate"><span class="pre">~/notebook</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.datadir.grab_data_directory">
<code class="descclassname">pyspecdata.datadir.</code><code class="descname">grab_data_directory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.grab_data_directory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-pyspecdata.figlist">
<span id="pyspecdata-figlist-module"></span><h2>pyspecdata.figlist module<a class="headerlink" href="#module-pyspecdata.figlist" title="Permalink to this headline">¶</a></h2>
<p>Contains the figure list class</p>
<p>The figure list gives us three things:</p>
<ul>
<li><p class="first">Automatically handle the display and scaling of nddata units.</p>
</li>
<li><p class="first">Refer to plots by name, rather than number (matplotlib has a mechanism for this, which we ignore)</p>
</li>
<li><p class="first">A “basename” allowing us to generate multiple sets of plots for different datasets – <em>e.g.</em> 5 plots with 5 names plotted for 3 different datasets and labeled by 3 different basenames to give 15 plots total</p>
</li>
<li><p class="first">Ability to run the same code from the command line or from within a python environment inside latex.
*   this is achieved by choosing figlist (default gui) and figlistl (inherits</p>
<blockquote>
<div><p>from figlist – renders to latex – the <a class="reference internal" href="#pyspecdata.figlist.figlist.show" title="pyspecdata.figlist.figlist.show"><code class="xref py py-func docutils literal notranslate"><span class="pre">figlist.show()</span></code></a> method is
changed)</p>
</div></blockquote>
<ul class="simple">
<li>potential planned future ability to handle html</li>
</ul>
</li>
<li><p class="first">Ability to handle mayavi plots and matplotlib plots (switch to glumpy, etc.?)
*   potential planned future ability to handle gnuplot</p>
</li>
</ul>
<div class="admonition-todo admonition" id="index-2">
<p class="first admonition-title">Todo</p>
<p>Currently the “items” that the list tracks correspond to either plot formatting directives (see <a class="reference internal" href="#pyspecdata.figlist.figlist.setprops" title="pyspecdata.figlist.figlist.setprops"><code class="xref py py-func docutils literal notranslate"><span class="pre">figlist.setprops()</span></code></a>), text, or figures.</p>
<p>We should scrap most elements of the current implementation of figlist and rebuild it</p>
<ul class="last">
<li><p class="first">currently the figlist is set up to use a context block.  We will not only keep this, but also make it so the individual axes.  Syntax (following a <code class="docutils literal notranslate"><span class="pre">fl</span> <span class="pre">=</span> <span class="pre">figlist_var()</span></code> should look like this: <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">fl['my</span> <span class="pre">plot</span> <span class="pre">name']</span> <span class="pre">as</span> <span class="pre">p:</span></code> and contents of the block would then be <code class="docutils literal notranslate"><span class="pre">p.plot(...)</span></code>, <em>etc.</em></p>
</li>
<li><p class="first">define an “organization” function of the figlist block.  This allows us
to use standard matplotlib commands to set up and organize the axes, using
standard matplotlib commands (twinx, subplot, etc.)</p>
</li>
<li><p class="first">figlist will still have a “next” function, but its purpose will be to simply:
*   grab the current axis using matplotlib gca() (assuming the id of the axis isn’t yet assigned to an existing figlist_axis – see below)
*   otherwise, if the name argument to “next” has not yet been called,</p>
<blockquote>
<div><p>call matplotlib’s figure(), followed by subplot(111), then do the
previous bullet point</p>
</div></blockquote>
<ul class="simple">
<li>the next function is only intended to be called explicitly from within the organization function</li>
</ul>
</li>
<li><p class="first">figlist will consist simply of a list of figlist_axis objects (a new object type), which have the following attributes:
*   type – indicating the type of object:</p>
<blockquote>
<div><ul class="simple">
<li>axis (default)</li>
<li>text (raw latex (or html))</li>
<li>H1 (first level header – translates to latex section)</li>
<li>H2 (second level…)</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first">the name of the plot</p>
</li>
<li><p class="first">a matplotlib or mayavi axes object</p>
</li>
<li><p class="first">the units associated with the axes</p>
</li>
<li><p class="first">a collection.OrderedDict giving the nddata that are associated with the plot, by name.
*   If these do not have a name, they will be automatically assigned a name.
*   The name should be used by the new “plot” method to generate</p>
<blockquote>
<div><p>the “label” for the legend, and can be subsequently used to quickly
replace data – e.g. in a Qt application.</p>
</div></blockquote>
</li>
<li><p class="first">a dictionary giving any arguments to the pyspecdata.core.plot (or countour, waterfall, etc) function</p>
</li>
<li><p class="first">the title – by default the name of the plot – can be a setter</p>
</li>
<li><p class="first">the result of the id(…) function, called on the axes object –&gt;
this can be used to determine if the axes has been used yet</p>
</li>
<li><p class="first">do not use check_units – the plot method (or contour, waterfall,
etc.) will only add the nddata objects to the OrderedDict, add the
arguments to the argument dictionary, then exit
*   In the event that more than one plot method is called, the name of the underlying nddaata should be changed</p>
</li>
<li><p class="first">a boolean legend_suppress attribute</p>
</li>
<li><p class="first">a boolean legend_internal attribute (to place the legend internally, rather than outside the axis)</p>
</li>
<li><p class="first">a show method that is called by the figlistl show method.  This
will determine the appropriate units and use them to determine the
units and scale of the axes, and then go through and call
pyspecdata.core.plot on each dataset
(in matplotlib, this should be done with a formatting statement rather than by manipulating the axes themselves)
and finally call autolegend, unless the legend is supressed</p>
</li>
</ul>
</li>
<li><p class="first">The “plottype” (currently an argument to the plot function) should be an attribute of the axis object</p>
</li>
</ul>
</div>
<dl class="class">
<dt id="pyspecdata.figlist.figlist">
<em class="property">class </em><code class="descclassname">pyspecdata.figlist.</code><code class="descname">figlist</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.basename">
<code class="descname">basename</code><a class="headerlink" href="#pyspecdata.figlist.figlist.basename" title="Permalink to this definition">¶</a></dt>
<dd><p>A basename that can be changed to generate different sets of figures with different basenames.
For example, this is useful if you are looping over different sets of data,
and generating the same set of figures for each set of data (which would correspond to a basename).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.figurelist">
<code class="descname">figurelist</code><a class="headerlink" href="#pyspecdata.figlist.figlist.figurelist" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the figure names</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.figdict">
<code class="descname">figdict</code><a class="headerlink" href="#pyspecdata.figlist.figlist.figdict" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary containing the figurelist and the figure numbers or objects that they correspond to.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.propdict">
<code class="descname">propdict</code><a class="headerlink" href="#pyspecdata.figlist.figlist.propdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Maintains various properties for each element in figurelist.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.adjust_spines">
<code class="descname">adjust_spines</code><span class="sig-paren">(</span><em>spines</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.adjust_spines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.check_units">
<code class="descname">check_units</code><span class="sig-paren">(</span><em>testdata</em>, <em>x_index</em>, <em>y_index</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.check_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.generate_ticks">
<code class="descname">generate_ticks</code><span class="sig-paren">(</span><em>plotdata</em>, <em>axes</em>, <em>rescale</em>, <em>z_norm=None</em>, <em>y_rescale=1</em>, <em>text_scale=0.05</em>, <em>verbose=False</em>, <em>follow_surface=False</em>, <em>lensoffset=0.005</em>, <em>line_width=0.001</em>, <em>tube_radius=0.001</em>, <em>fine_grid=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.generate_ticks" title="Permalink to this definition">¶</a></dt>
<dd><p>generate 3d ticks and grid for mayavi</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.get_fig_number">
<code class="descname">get_fig_number</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.get_fig_number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.grid">
<code class="descname">grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.grid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.header">
<code class="descname">header</code><span class="sig-paren">(</span><em>number_above</em>, <em>input_string</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.image">
<code class="descname">image</code><span class="sig-paren">(</span><em>A</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Called as <cite>fl.image()</cite> where <cite>fl</cite> is the <cite>figlist_var</cite>
object</p>
<p>Note that this code just wraps the figlist properties, and
the heavy lifting is done by the <cite>image(</cite> function.
Together, the effect is as follows:</p>
<ul>
<li><p class="first"><cite>check_units</cite> converts to human-readable units, and
makes sure they match the units already used in the plot.</p>
</li>
<li><p class="first">if <cite>A</cite> has more than two dimensions, the final dimension in
<cite>A.dimlabels</cite> is used as the column dimension, and a
direct-product of all non-column dimensions (a Kronecker
product, such that the innermost index comes the latest in
the list <cite>A.dimlabels</cite>) is used as the row dimension. A
white/black line is drawn after the innermost index used to
create the direct product is finished iterating.</p>
</li>
<li><p class="first">If <cite>A</cite> consists of complex data, then an HSV plot
(misnomer, actually an HV plot) is used:
- convert to polar form: <span class="math notranslate nohighlight">\(z=\rho \exp(i \phi)\)</span>
- <span class="math notranslate nohighlight">\(\phi\)</span> determines the color (Hue)</p>
<blockquote>
<div><ul class="simple">
<li>Color wheel is cyclical, like <span class="math notranslate nohighlight">\(\exp(i \phi)\)</span></li>
<li>red is taken as <span class="math notranslate nohighlight">\(\phi=0\)</span>, purely real and positive</li>
<li>green-blue is <span class="math notranslate nohighlight">\(pi\)</span> radians out of phase with red and
therefore negative real</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first"><span class="math notranslate nohighlight">\(\rho\)</span> determines the intensity (value)
- Depending on whether or not <cite>black</cite> is set (either as a</p>
<blockquote>
<div><p>keyword argument, or <cite>fl.black</cite>, the background will be
black with high <span class="math notranslate nohighlight">\(\rho\)</span> values “lit up” (intended for
screen plotting) or the background will be white with
the high <span class="math notranslate nohighlight">\(\rho\)</span> values “colored in” (intended for
printing)</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p class="first">If the data type (<cite>dtype</cite>) of the data in <cite>A</cite> is real
(typically achieved by calling <cite>abs(A)</cite> or
<cite>A.runcopy(real)</cite>), then <cite>A</cite> is plotted with a colormap and
corresponding colorbar.</p>
</li>
<li><p class="first">If no title has been given, it’s set to the name of the
current plot in the figurelist</p>
</li>
</ul>
<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.A">
<code class="descname">A</code><a class="headerlink" href="#pyspecdata.figlist.figlist.A" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata">nddata</a> or numpy array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.x">
<code class="descname">x</code><a class="headerlink" href="#pyspecdata.figlist.figlist.x" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the x axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Optional[double] or Optional[scalar]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.y">
<code class="descname">y</code><a class="headerlink" href="#pyspecdata.figlist.figlist.y" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the y axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Optional[double] or Optional[scalar]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.x_first">
<code class="descname">x_first</code><a class="headerlink" href="#pyspecdata.figlist.figlist.x_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Since it’s designed to represent matrices, an image plot
by defaults is “transposed” relative to all other plots.
If you want the first dimension on the x-axis (<em>e.g.</em>, if
you are plotting a contour plot on top of an image), then set
<cite>x_first</cite> to <cite>True</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.spacing">
<code class="descname">spacing</code><a class="headerlink" href="#pyspecdata.figlist.figlist.spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the size of the white/black line drawn
Defaults to 1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.ax">
<code class="descname">ax</code><a class="headerlink" href="#pyspecdata.figlist.figlist.ax" title="Permalink to this definition">¶</a></dt>
<dd><p>the Axis object where the plot should go.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">matplotlib Axes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">all remaning</code></dt>
<dd><p>are passed through to matplotlib <cite>imshow</cite></p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figlist.origin">
<code class="descname">origin</code><a class="headerlink" href="#pyspecdata.figlist.figlist.origin" title="Permalink to this definition">¶</a></dt>
<dd><p>upper and lower are passed to matplotlib.
Flip is for 2D nmr, and flips the data manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">{‘upper’, ‘lower’, ‘flip’}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">.. code-block:: python</code></dt>
<dd><p>from pyspecdata import *
fl = figlist_var()</p>
<p>t = r_[-1:1:300j]
x = nddata(t,[-1],[‘x’]).labels(‘x’,t)
y = nddata(t,[-1],[‘y’]).labels(‘y’,t)</p>
<p>z = x**2 + 2*y**2
print “dimlabels of z:”,z.dimlabels</p>
<p>fl.next(‘image with contours’)
fl.image(z,x_first = True) #  x_first is needed to align
#                             with the contour plot
z.contour(colors = ‘w’,alpha = 0.75)</p>
<p>fl.next(‘simple plot’) #  just to show that x is the same
#                         here as well
fl.plot(z[‘y’:(0,0.01)])</p>
<p>fl.show(‘compare_image_contour_150911.pdf’)</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.label_point">
<code class="descname">label_point</code><span class="sig-paren">(</span><em>data</em>, <em>axis</em>, <em>value</em>, <em>thislabel</em>, <em>show_point=True</em>, <em>xscale=1</em>, <em>**new_kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.label_point" title="Permalink to this definition">¶</a></dt>
<dd><p>only works for 1D data: assume you’ve passed a single-point nddata, and label it</p>
<p>xscale gives the unit scaling</p>
<p>..todo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Improve</span> <span class="n">the</span> <span class="n">unit</span> <span class="n">scaling</span><span class="p">,</span> <span class="n">so</span> <span class="n">that</span> <span class="n">this</span> <span class="n">would</span> <span class="n">also</span> <span class="n">work</span><span class="o">.</span>

<span class="n">Allow</span> <span class="n">it</span> <span class="n">to</span> <span class="n">include</span> <span class="n">a</span> <span class="nb">format</span> <span class="n">string</span> <span class="n">that</span> <span class="n">would</span> <span class="n">use</span> <span class="n">the</span> <span class="n">value</span><span class="o">.</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>show_point</strong> (<em>bool</em>) – Defaults to <cite>True</cite>. Actually generate a point (circle), <em>vs.</em>
just the label.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.marked_text">
<code class="descname">marked_text</code><span class="sig-paren">(</span><em>marker</em>, <em>input_text=''</em>, <em>sep='\n'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.marked_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a named <cite>marker</cite> where we can place text.   If <cite>marker</cite>
has been used, goes back and places text there.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.mesh">
<code class="descname">mesh</code><span class="sig-paren">(</span><em>plotdata</em>, <em>Z_normalization=None</em>, <em>equal_scale=True</em>, <em>lensoffset=0.001</em>, <em>show_contours=False</em>, <em>grey_surf=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.mesh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.next">
<code class="descname">next</code><span class="sig-paren">(</span><em>input_name</em>, <em>legend=False</em>, <em>boundaries=None</em>, <em>twinx=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to the figure given by input_name, which is used not only as
a string-based name for the figure, but also as a default title and as
a base name for resulting figure files.</p>
<p><strong>In the future, we actually want this to track the appropriate axis object!</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>legend</strong> (<em>bool</em>) – If this is set, a legend is created <em>outside</em> the figure.</li>
<li><strong>twinx</strong> (<em>{0</em><em>,</em><em>1}</em>) – <table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">1:</th><td class="field-body">plots on an overlayed axis (the matplotlib twinx) whose y axis
is labeled on the right when you set this for the first time, you
can also set a <cite>color</cite> kwarg that controls the coloring of the
right axis.</td>
</tr>
<tr class="field-even field"><th class="field-name">0:</th><td class="field-body">used to switch back to the left (default) axis</td>
</tr>
</tbody>
</table>
</li>
<li><strong>boundaries</strong> – <strong>need to add description</strong></li>
<li><strong>kwargs</strong> (<em>dict</em>) – Any other keyword arguments are passed to the matplotlib (mayavi)
figure() function that’s used to switch (create) figures.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.phaseplot_finalize">
<code class="descname">phaseplot_finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.phaseplot_finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs plot decorations that are typically desired for a manual phasing plot.  This assumes that the <code class="docutils literal notranslate"><span class="pre">y</span></code>-axis is given in units of half-cycles ($pi$ radians).</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.plot" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>linestyle</strong> (<em>{':'</em><em>,</em><em>'--'</em><em>,</em><em>'.'</em><em>,</em><em>'etc.'}</em>) – the style of the line</li>
<li><strong>plottype</strong> (<em>{'semilogy'</em><em>,</em><em>'semilogx'</em><em>,</em><em>'loglog'}</em>) – Select a logarithmic plotting style.</li>
<li><strong>nosemilog</strong> (<em>True</em>) – Typically, if you supply a log-spaced axis,
a semilogx plot will be automatically selected.
This overrides that behavior.
Defaults to False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.pop_marker">
<code class="descname">pop_marker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.pop_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.push_marker">
<code class="descname">push_marker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.push_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.setprops">
<code class="descname">setprops</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.setprops" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.show_prep">
<code class="descname">show_prep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.show_prep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.text">
<code class="descname">text</code><span class="sig-paren">(</span><em>mytext</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.twinx">
<code class="descname">twinx</code><span class="sig-paren">(</span><em>autopad=False</em>, <em>orig=False</em>, <em>color=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.twinx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.figlist.use_autolegend">
<code class="descname">use_autolegend</code><span class="sig-paren">(</span><em>value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.use_autolegend" title="Permalink to this definition">¶</a></dt>
<dd><p>No argument sets to true if it’s not already set</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyspecdata.fornotebook">
<span id="pyspecdata-fornotebook-module"></span><h2>pyspecdata.fornotebook module<a class="headerlink" href="#module-pyspecdata.fornotebook" title="Permalink to this headline">¶</a></h2>
<p>This provides <a class="reference internal" href="#pyspecdata.fornotebook.figlistl" title="pyspecdata.fornotebook.figlistl"><code class="xref py py-class docutils literal notranslate"><span class="pre">figlistl</span></code></a>, the Latex figure list.
Any other functions here are helper functions for the class.
<a class="reference internal" href="#pyspecdata.fornotebook.figlist" title="pyspecdata.fornotebook.figlist"><code class="xref py py-class docutils literal notranslate"><span class="pre">figlist</span></code></a> is generally <strong>not chosen manually</strong>,
but <code class="docutils literal notranslate"><span class="pre">figlist_var</span></code> will be assigned to <a class="reference internal" href="#pyspecdata.fornotebook.figlistl" title="pyspecdata.fornotebook.figlistl"><code class="xref py py-class docutils literal notranslate"><span class="pre">figlistl</span></code></a> when
python code is embedded in a python environment inside latex.</p>
<dl class="function">
<dt id="pyspecdata.fornotebook.calcdistance">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">calcdistance</code><span class="sig-paren">(</span><em>freq</em>, <em>optdistance</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.calcdistance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.calcfield">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">calcfield</code><span class="sig-paren">(</span><em>elfreq</em>, <em>elratio=28.113</em>, <em>nmrelratio=1.5167</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.calcfield" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.calcfielddata">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">calcfielddata</code><span class="sig-paren">(</span><em>freq</em>, <em>substance</em>, <em>spec=''</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.calcfielddata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.clear_local">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">clear_local</code><span class="sig-paren">(</span><em>inputdata=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.clear_local" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.cpmgs">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">cpmgs</code><span class="sig-paren">(</span><em>exp</em>, <em>number</em>, <em>tau=None</em>, <em>alpha=None</em>, <em>alphaselect=None</em>, <em>first=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.cpmgs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.cpmgseries">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">cpmgseries</code><span class="sig-paren">(</span><em>filename</em>, <em>plotlabel</em>, <em>tau=None</em>, <em>alpha=None</em>, <em>alphaselect=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.cpmgseries" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.dict_to_txt">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">dict_to_txt</code><span class="sig-paren">(</span><em>mydict</em>, <em>file='data.txt'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.dict_to_txt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.dprint">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">dprint</code><span class="sig-paren">(</span><em>*stuff</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.dprint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.ernstangle">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">ernstangle</code><span class="sig-paren">(</span><em>pulsetime=None</em>, <em>pulsetip=None</em>, <em>Tr=None</em>, <em>T1=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.ernstangle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.esr_saturation">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">esr_saturation</code><span class="sig-paren">(</span><em>file</em>, <em>powerseries</em>, <em>smoothing=0.2</em>, <em>threshold=0.8</em>, <em>figname=None</em>, <em>hn23adjustment=1.0</em>, <em>show_avg=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.esr_saturation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.fornotebook.figlist">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">figlist</code><a class="headerlink" href="#pyspecdata.fornotebook.figlist" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#pyspecdata.fornotebook.figlistl" title="pyspecdata.fornotebook.figlistl"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.fornotebook.figlistl</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.figlisterr">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">figlisterr</code><span class="sig-paren">(</span><em>figurelist</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlisterr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.fornotebook.figlistl">
<em class="property">class </em><code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">figlistl</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlistl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.figlist.html#pyspecdata.core.figlist" title="pyspecdata.core.figlist"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.figlist</span></code></a></p>
<dl class="method">
<dt id="pyspecdata.fornotebook.figlistl.obs">
<code class="descname">obs</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlistl.obs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fornotebook.figlistl.obsn">
<code class="descname">obsn</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlistl.obsn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fornotebook.figlistl.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>string</em>, <em>line_spacing=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlistl.show" title="Permalink to this definition">¶</a></dt>
<dd><p>latexify the series of figures, where “string” gives the base file name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>line_spacing</strong> (<em>bool</em>) – if false, suppress empty lines between output</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.lplot">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">lplot</code><span class="sig-paren">(</span><em>fname</em>, <em>width=0.33</em>, <em>figure=False</em>, <em>dpi=72</em>, <em>grid=False</em>, <em>alsosave=None</em>, <em>gensvg=False</em>, <em>print_string=None</em>, <em>centered=False</em>, <em>equal_aspect=False</em>, <em>autopad=True</em>, <em>bytextwidth=None</em>, <em>showbox=True</em>, <em>boundaries=True</em>, <em>genpng=False</em>, <em>mlab=False</em>, <em>fig=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.lplot" title="Permalink to this definition">¶</a></dt>
<dd><p>used with python.sty instead of savefig</p>
<p>by default, if width is less than 1,
it’s interpreted as bytextwidth = True (i.e. width given as a fraction of the linewidth)
if it’s greater than, the width is interpreted in inches.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.lplotfigures">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">lplotfigures</code><span class="sig-paren">(</span><em>figurelist</em>, <em>string</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.lplotfigures" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete, use the class!</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.lrecordarray">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">lrecordarray</code><span class="sig-paren">(</span><em>recordlist</em>, <em>columnformat=True</em>, <em>smoosh=True</em>, <em>multi=True</em>, <em>resizebox=False</em>, <em>showpipe=True</em>, <em>return_only=False</em>, <em>format='%0.3f'</em>, <em>std_sf=2</em>, <em>scientific_notation=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.lrecordarray" title="Permalink to this definition">¶</a></dt>
<dd><p>generate latex representation of a structured array
if set to True, resizebox will automatically scale down the table so it fits on the page (but it will also scale up a small table to fit the width of the page)
resizebox can also be a fractional number, so that it is resized to a fraction of the page</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.lrecordarray_broken">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">lrecordarray_broken</code><span class="sig-paren">(</span><em>recordlist</em>, <em>rows=30</em>, <em>numwide=5</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.lrecordarray_broken" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.obs">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">obs</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.obs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.obs_repr">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">obs_repr</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.obs_repr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.obsn">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">obsn</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.obsn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.ordplot">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">ordplot</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>labels</em>, <em>formatstring</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.ordplot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.qcalc">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">qcalc</code><span class="sig-paren">(</span><em>freq1</em>, <em>freq2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.qcalc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.save_data">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">save_data</code><span class="sig-paren">(</span><em>inputdata={}</em>, <em>file='data.txt'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.save_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.save_local">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">save_local</code><span class="sig-paren">(</span><em>inputdata={}</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.save_local" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.save_variable">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">save_variable</code><span class="sig-paren">(</span><em>variable</em>, <em>content</em>, <em>disp=True</em>, <em>file='data.txt'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.save_variable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.see_if_math">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">see_if_math</code><span class="sig-paren">(</span><em>recnames</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.see_if_math" title="Permalink to this definition">¶</a></dt>
<dd><p>return latex formatted strings –&gt; ultimately, have this actually check to see if the individual strings are math or not, rather than just assuming that they are.  Do this simply by seeing whether or not the thing starts with a full word (more than two characters) or not.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.show_matrix">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">show_matrix</code><span class="sig-paren">(</span><em>B</em>, <em>plot_name</em>, <em>first_figure=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.show_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.standard_noise_comparison">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">standard_noise_comparison</code><span class="sig-paren">(</span><em>name, path='franck_cnsi/nmr/', data_subdir='reference_data', expnos=[3]</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.standard_noise_comparison" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.thisjobname">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">thisjobname</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.thisjobname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fornotebook.txt_to_dict">
<code class="descclassname">pyspecdata.fornotebook.</code><code class="descname">txt_to_dict</code><span class="sig-paren">(</span><em>file='data.txt'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.txt_to_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-pyspecdata.general_functions">
<span id="pyspecdata-general-functions-module"></span><h2>pyspecdata.general_functions module<a class="headerlink" href="#module-pyspecdata.general_functions" title="Permalink to this headline">¶</a></h2>
<p>These are general functions that need to be accessible to everything inside
pyspecdata.core.  I can’t just put these inside pyspecdata.core, because that
would lead to cyclic imports, and e.g. submodules of pyspecdata can’t find
them.</p>
<dl class="function">
<dt id="pyspecdata.general_functions.autostringconvert">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">autostringconvert</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.autostringconvert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.check_ascending_axis">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">check_ascending_axis</code><span class="sig-paren">(</span><em>u</em>, <em>tolerance=1e-07</em>, <em>additional_message=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.check_ascending_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the array <cite>u</cite> is ascending and equally spaced, and return the
spacing, <cite>du</cite>.  This is a common check needed for FT functions, shears,
etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tolerance</strong> (<em>double</em>) – The relative variation in <cite>du</cite> that is allowed.
Defaults to 1e-7.</li>
<li><strong>additional_message</strong> (<em>str</em>) – So that the user can easily figure out where the assertion error is
coming from, supply some extra text for the respective message.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>du</strong> – the spacing between the elements of u</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">double</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.complex_str">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">complex_str</code><span class="sig-paren">(</span><em>arg</em>, <em>fancy_format=False</em>, <em>format_code='%.4g'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.complex_str" title="Permalink to this definition">¶</a></dt>
<dd><p>render a complex string – leaving out imaginary if it’s real</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.exp">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">exp</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.exp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.init_logging">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">init_logging</code><span class="sig-paren">(</span><em>level=20</em>, <em>filename='pyspecdata.log'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.init_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize logging on pyspecdata.log – do NOT log if run from within a notebook (it’s fair to assume that you will run first before embedding)</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.inside_sphinx">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">inside_sphinx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.inside_sphinx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.plot">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.process_kwargs">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">process_kwargs</code><span class="sig-paren">(</span><em>listoftuples</em>, <em>kwargs</em>, <em>pass_through=False</em>, <em>as_attr=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.process_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>This function allows dynamically processed (<em>i.e.</em> function definitions with <cite>**kwargs</cite>) kwargs (keyword arguments) to be dealt with in a fashion more like standard kwargs.
The defaults set in <cite>listoftuples</cite> are used to process <cite>kwargs</cite>, which are then returned as a set of values (that are set to defaults as needed).</p>
<p>Note that having <cite>kwargs</cite> as an explicit argument avoids errors where the user forgets to pass the <cite>kwargs</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kwargs</strong> (<a href="#id15"><span class="problematic" id="id16">**</span></a>dictionary) – The keyword arguments that you want to process.</li>
<li><strong>listoftuples</strong> (<em>list of tuple pairs</em>) – Tuple pairs, consisting of <code class="docutils literal notranslate"><span class="pre">('param_name',param_value)</span></code>, that give the default values for the various parameters.</li>
<li><strong>pass_through</strong> (<em>bool</em>) – Defaults to False.  If it’s true, then it’s OK not to process all the kwargs here.
In that case, the used kwargs are popped out of the dictionary, and you are expected to pass the unprocessed values (in the dictionary after the call) on to subsequent processing.
Importantly, you should <em>always</em> end with a <cite>pass_through`=`False</cite> call of this function, or by passing <a href="#id17"><span class="problematic" id="id18">**</span></a>kwargs to a standard function in the standard way.
Otherwise it’s possible for the user to pass kwargs that are never processed!</li>
<li><strong>as_attr</strong> (<em>bool</em><em>, </em><em>object</em>) – Defaults to False. If not False, it must be an object whose attributes are set to the value of the respective kwargs.</li>
<li><strong>return</strong> (<em>tuple</em>) – It’s expected that the output is assigned to variables with the <strong>exact same</strong> names as the string in the first half of the tuples, in the <strong>exact same</strong> order.
These parameters will then be set to the appropriate values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.rc">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">rc</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.rc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.general_functions.rclass">
<em class="property">class </em><code class="descclassname">pyspecdata.general_functions.</code><code class="descname">rclass</code><a class="headerlink" href="#pyspecdata.general_functions.rclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.redim_C_to_F">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">redim_C_to_F</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.redim_C_to_F" title="Permalink to this definition">¶</a></dt>
<dd><p>see redim_F_to_C</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.redim_F_to_C">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">redim_F_to_C</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.redim_F_to_C" title="Permalink to this definition">¶</a></dt>
<dd><p>the following creates a C array, reversing the <em>apparent</em> order of dimensions, while preserving the order in memory</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.reformat_exp">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">reformat_exp</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.reformat_exp" title="Permalink to this definition">¶</a></dt>
<dd><p>reformat scientific notation in a nice latex format – used in both pdf and jupyter notebooks</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.render_matrix">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">render_matrix</code><span class="sig-paren">(</span><em>arg</em>, <em>format_code='%.4g'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.render_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>return latex string representing 2D matrix</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.general_functions.strm">
<code class="descclassname">pyspecdata.general_functions.</code><code class="descname">strm</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.strm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="pyspecdata-ipy-module">
<h2>pyspecdata.ipy module<a class="headerlink" href="#pyspecdata-ipy-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pyspecdata.latexscripts">
<span id="pyspecdata-latexscripts-module"></span><h2>pyspecdata.latexscripts module<a class="headerlink" href="#module-pyspecdata.latexscripts" title="Permalink to this headline">¶</a></h2>
<p>Provides the <code class="docutils literal notranslate"><span class="pre">pdflatex_notebook_wrapper</span></code> shell/dos command, which you run
instead of your normal Latex command to build a lab notebook.
The results of python environments are <strong>cached</strong> and <strong>only re-run if the code changes</strong>,
even if the python environments are moved around.
This makes the compilation of a Latex lab notebook extremely efficient.</p>
<dl class="function">
<dt id="pyspecdata.latexscripts.cache_output_if_needed">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">cache_output_if_needed</code><span class="sig-paren">(</span><em>scriptnum_as_str</em>, <em>hashstring</em>, <em>showcode=False</em>, <em>show_error=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.cache_output_if_needed" title="Permalink to this definition">¶</a></dt>
<dd><p>if needed, run the python script numbered by scriptnum_as_str that hashes to hashstring, and output the result to the cache ONLY</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.cached_filename">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">cached_filename</code><span class="sig-paren">(</span><em>hashstring</em>, <em>returndir=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.cached_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>this sets the format for where the cached file is stored
we use the first two characters as directory names (so there are just 16 of them</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.check_image_path">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">check_image_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.check_image_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.det_new_pdf_name">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">det_new_pdf_name</code><span class="sig-paren">(</span><em>thisargv</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.det_new_pdf_name" title="Permalink to this definition">¶</a></dt>
<dd><p>based on an original tex or pdf name, determine the original basename (i.e., no extension), as well as one with the final word after the underscore removed</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.flush_script">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">flush_script</code><span class="sig-paren">(</span><em>number</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.flush_script" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.genconfig">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">genconfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.genconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>creates a template configuration directory</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.get_scripts_dir">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">get_scripts_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.get_scripts_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.grab_script_string">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">grab_script_string</code><span class="sig-paren">(</span><em>scriptnum_as_str</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.grab_script_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.main">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.main" title="Permalink to this definition">¶</a></dt>
<dd><p>This looks for <cite>scripts/scriptsUsed.csv</cite> inside the notebook directory, and checks whether or not it should be run
if a command line argument of “flush” is passed, it flushes that script number from the cache</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.script_filename">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">script_filename</code><span class="sig-paren">(</span><em>scriptnum_as_str</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.script_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.sha_string">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">sha_string</code><span class="sig-paren">(</span><em>script</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.sha_string" title="Permalink to this definition">¶</a></dt>
<dd><p>convert the sha hash to a string</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.wraplatex">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">wraplatex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.wraplatex" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the python scripts after running latex also creates a copy of latex without the final portion under the underscore
This prevents the viewer from hanging while it’s waiting for a refresh.
This can be used in combination with wrapviewer() and latexmk by using a <code class="docutils literal notranslate"><span class="pre">~/.latexmkrc</span></code> file that looks like this:</p>
<p>If you pass the <code class="docutils literal notranslate"><span class="pre">--xelatex</span></code> argument, xelatex is used instead of pdflatex
(note that if you’re using latexmk, you need to add this in the latexmkrc file).</p>
<div class="highlight-perl notranslate"><div class="highlight"><pre><span></span><span class="nv">$pdflatex</span><span class="o">=</span><span class="sx">q/pdflatex_notebook_wrapper %O -synctex=1 %S/</span><span class="p">;</span><span class="c1"># calls this function</span>
<span class="nv">$pdf_previewer</span><span class="o">=</span><span class="sx">q/pdflatex_notebook_view_wrapper/</span><span class="p">;</span><span class="c1"># calls the wrapviewer function</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.latexscripts.wrapviewer">
<code class="descclassname">pyspecdata.latexscripts.</code><code class="descname">wrapviewer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.wrapviewer" title="Permalink to this definition">¶</a></dt>
<dd><p>see <a class="reference internal" href="../latexscripts.html#pyspecdata.latexscripts.wraplatex" title="pyspecdata.latexscripts.wraplatex"><code class="xref py py-func docutils literal notranslate"><span class="pre">wraplatex</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-pyspecdata.ndshape">
<span id="pyspecdata-ndshape-module"></span><h2>pyspecdata.ndshape module<a class="headerlink" href="#module-pyspecdata.ndshape" title="Permalink to this headline">¶</a></h2>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">ndshape</span></code> class allows you to allocate arrays and determine the shape of existing arrays.</p>
<dl class="class">
<dt id="pyspecdata.ndshape.ndshape_base">
<em class="property">class </em><code class="descclassname">pyspecdata.ndshape.</code><code class="descname">ndshape_base</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base" title="Permalink to this definition">¶</a></dt>
<dd><p>The base ndshape class, which doesn’t include an allocation method.</p>
<dl class="method">
<dt id="pyspecdata.ndshape.ndshape_base.axn">
<code class="descname">axn</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.axn" title="Permalink to this definition">¶</a></dt>
<dd><p>return the number for the axis with the name “axis”</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape.ndshape_base.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape.ndshape_base.matchdims">
<code class="descname">matchdims</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.matchdims" title="Permalink to this definition">¶</a></dt>
<dd><p>returns shape with [not in self, len 1] + [overlapping dims between arg + self] + [not in arg] –&gt; this is better accomplished by using sets as I do in the matchdims below</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape.ndshape_base.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><em>label</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a dimension</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape.ndshape_base.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>before</em>, <em>after</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>rename a dimension</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyspecdata.nnls">
<span id="pyspecdata-nnls-module"></span><h2>pyspecdata.nnls module<a class="headerlink" href="#module-pyspecdata.nnls" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pyspecdata.nnls.nnls_regularized">
<code class="descclassname">pyspecdata.nnls.</code><code class="descname">nnls_regularized</code><span class="sig-paren">(</span><em>A</em>, <em>b</em>, <em>l=0</em>, <em>maxiter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nnls.nnls_regularized" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve math:<cite>argmin_x || Ax - b ||_2^2 + lambda^2 ||x||_2^2</cite> for <code class="docutils literal notranslate"><span class="pre">x&gt;=0</span></code>.
This is a wrapper for a FORTRAN non-negative least squares solver,
with regularization (added by stacking $A$ on top an identity matrix
times $lambda$ and $b$ on top of a matching array of zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<em>ndarray</em>) – Matrix <code class="docutils literal notranslate"><span class="pre">A</span></code> as shown above.</li>
<li><strong>b</strong> (<em>ndarray</em>) – Right-hand side vector.</li>
<li><strong>l</strong> (<em>double</em><em> (</em><em>default 0</em><em>)</em>) – <span class="math notranslate nohighlight">\(lambda\)</span> – if this is set to 0, the algorithm reverts to
standard nnls (rather than stacking on top of two zero matrices
for no reason)</li>
<li><strong>maxiter</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of iterations, optional.
Default is <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">*</span> <span class="pre">A.shape[1]</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>x</strong> (<em>ndarray</em>) – Solution vector.</li>
<li><strong>rnorm</strong> (<em>float</em>) – The residual, <code class="docutils literal notranslate"><span class="pre">||</span> <span class="pre">Ax-b</span> <span class="pre">||_2</span></code>.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The FORTRAN code was published in the book below. The algorithm
is an active set method. It solves the KKT (Karush-Kuhn-Tucker)
conditions for the non-negative least squares problem.</p>
<p>This was adapted from the source distributed with scipy –
see scipy for relevant licensing.</p>
<p class="rubric">References</p>
<p>Lawson C., Hanson R.J., (1987) Solving Least Squares Problems, SIAM</p>
</dd></dl>

</div>
<div class="section" id="module-pyspecdata.units">
<span id="pyspecdata-units-module"></span><h2>pyspecdata.units module<a class="headerlink" href="#module-pyspecdata.units" title="Permalink to this headline">¶</a></h2>
<p>Not yet implemented – a preliminary idea for how to handle actual unit conversion.  (Currently, we only do s to Hz during FT and order of magnitude prefixes when plotting.)</p>
<dl class="class">
<dt id="pyspecdata.units.units">
<em class="property">class </em><code class="descclassname">pyspecdata.units.</code><code class="descname">units</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.units.units" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Each instance of this object stores a numerical representation of a single set of units, and there are routines to set units by
(<em>i.e.</em> <code class="xref py py-func docutils literal notranslate"><span class="pre">parsing</span></code>) strings to units
and routines to convert units to an
<code class="xref py py-func docutils literal notranslate"><span class="pre">str</span></code> representation.</p>
<p>At its core, the units are represented by three numpy structured arrays per instance:
one for the coefficients in terms of base units,
one for the order of magnitude used to determine any prefixes added to the base units,
and one for any scaling factors needed to convert to base units.</p>
<p>An array of these structured arrays can be converted into a row
vector with <code class="docutils literal notranslate"><span class="pre">.view((float16,len(base_dtype.names)))</span></code>.
“Base Units” here are the same as SI base units <strong>except</strong> that it uses g instead of kg (so we can do  the prefixes correctly), and we have added rad.</p>
<dl class="method">
<dt id="pyspecdata.units.units.load_derived">
<code class="descname">load_derived</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.units.units.load_derived" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses and loads a series of definitions for derived units.</p>
<p>It uses definition list to determine a derived dtype vector, which is
larger than the base dtype vector.</p>
<p>Then, (not yet done), based on the dictionary that this generates, it
will generate a matrix that converts from the derived dtype vector to
the base dtype vector.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.units.units.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>in_str</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.units.units.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Take <cite>in_str</cite> and parse it as a unit or series of units, and set the units associated with the current instance to the result.</p>
<p>Addition, subtraction, and parentheses are not allowed, and we define a
non-standard order of operations, as follows:</p>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">\\mu</span></code> (including a trailing space) and <code class="docutils literal notranslate"><span class="pre">u</span></code> are converted to the utf-8 equivalent (μ)</li>
<li><code class="docutils literal notranslate"><span class="pre">...^-0.125</span></code> any number is assumed to be part of the exponent, and only numbers are allowed.</li>
<li><code class="docutils literal notranslate"><span class="pre">*</span></code> multiplication</li>
<li>a space also represents multiplication</li>
<li><code class="docutils literal notranslate"><span class="pre">.../...</span></code> comes <strong>after</strong> all other operations, as is typical for single-line text</li>
<li><code class="docutils literal notranslate"><span class="pre">sqrt(...)</span></code> comes “last” in the sense that we take care of everything both inside and outside the sqrt first, before applying the sqrt.</li>
</ol>
<p>At this point, I use split to break up according to the order of operations, assign powers to each, and determine the prefix.
However, I’m currently only using base units, and I will eventually want to use derived units as well.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.units.units.str">
<code class="descname">str</code><span class="sig-paren">(</span><em>number</em>, <em>using_unicode=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.units.units.str" title="Permalink to this definition">¶</a></dt>
<dd><p>Give a string that prints <cite>number</cite>, which has the units
given by the current instance of the class.
Choose the simplest possible expression for the units.</p>
<p>When printing, we have a matrix that give all our “representation” units,
and we use a pseudoinverse to give us the simplest possible expression of our units.
(This is assuming that all derived units are defined in terms of powers
greater than or equal to 1 of the base units, because powers of
magnitude less than 1 would complicate things by allowing us to reduce
the norm by spreading across several derived units – in that case, we
might want to add a threshold before taking
the pinv.)</p>
<p>Currently,  I am only giving a method for printing in the base units.</p>
<p>Also, I will want to use number in order to adjust the prefix(es) of the units.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyspecdata.version">
<span id="pyspecdata-version-module"></span><h2>pyspecdata.version module<a class="headerlink" href="#module-pyspecdata.version" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pyspecdata">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pyspecdata" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="pyspecdata.CustomError">
<em class="property">exception </em><code class="descclassname">pyspecdata.</code><code class="descname">CustomError</code><span class="sig-paren">(</span><em>*value</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.CustomError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="class">
<dt id="pyspecdata.LightSource">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">LightSource</code><span class="sig-paren">(</span><em>azdeg=315</em>, <em>altdeg=45</em>, <em>hsv_min_val=0</em>, <em>hsv_max_val=1</em>, <em>hsv_min_sat=1</em>, <em>hsv_max_sat=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create a light source coming from the specified azimuth and elevation.
Angles are in degrees, with the azimuth measured
clockwise from north and elevation up from the zero plane of the surface.</p>
<p>The <a class="reference internal" href="#pyspecdata.LightSource.shade" title="pyspecdata.LightSource.shade"><code class="xref py py-meth docutils literal notranslate"><span class="pre">shade()</span></code></a> is used to produce “shaded” rgb values for a data array.
<a class="reference internal" href="#pyspecdata.LightSource.shade_rgb" title="pyspecdata.LightSource.shade_rgb"><code class="xref py py-meth docutils literal notranslate"><span class="pre">shade_rgb()</span></code></a> can be used to combine an rgb image with
The <a class="reference internal" href="#pyspecdata.LightSource.shade_rgb" title="pyspecdata.LightSource.shade_rgb"><code class="xref py py-meth docutils literal notranslate"><span class="pre">shade_rgb()</span></code></a>
The <a class="reference internal" href="#pyspecdata.LightSource.hillshade" title="pyspecdata.LightSource.hillshade"><code class="xref py py-meth docutils literal notranslate"><span class="pre">hillshade()</span></code></a> produces an illumination map of a surface.</p>
<dl class="method">
<dt id="pyspecdata.LightSource.blend_hsv">
<code class="descname">blend_hsv</code><span class="sig-paren">(</span><em>rgb</em>, <em>intensity</em>, <em>hsv_max_sat=None</em>, <em>hsv_max_val=None</em>, <em>hsv_min_val=None</em>, <em>hsv_min_sat=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.blend_hsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Take the input data array, convert to HSV values in the given colormap,
then adjust those color values to give the impression of a shaded
relief map with a specified light source.  RGBA values are returned,
which can then be used to plot the shaded image with imshow.</p>
<p>The color of the resulting image will be darkened by moving the (s,v)
values (in hsv colorspace) toward (hsv_min_sat, hsv_min_val) in the
shaded regions, or lightened by sliding (s,v) toward (hsv_max_sat
hsv_max_val) in regions that are illuminated.  The default extremes are
chose so that completely shaded points are nearly black (s = 1, v = 0)
and completely illuminated points are nearly white (s = 0, v = 1).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rgb</strong> (<em>ndarray</em>) – An MxNx3 RGB array of floats ranging from 0 to 1 (color image).</li>
<li><strong>intensity</strong> (<em>ndarray</em>) – An MxNx1 array of floats ranging from 0 to 1 (grayscale image).</li>
<li><strong>hsv_max_sat</strong> (<em>number</em><em>, </em><em>optional</em>) – The maximum saturation value that the <em>intensity</em> map can shift the
output image to. Defaults to 1.</li>
<li><strong>hsv_min_sat</strong> (<em>number</em><em>, </em><em>optional</em>) – The minimum saturation value that the <em>intensity</em> map can shift the
output image to. Defaults to 0.</li>
<li><strong>hsv_max_val</strong> (<em>number</em><em>, </em><em>optional</em>) – The maximum value (“v” in “hsv”) that the <em>intensity</em> map can shift
the output image to. Defaults to 1.</li>
<li><strong>hsv_min_val</strong> (<em>number</em><em>, </em><em>optional</em>) – The minimum value (“v” in “hsv”) that the <em>intensity</em> map can shift
the output image to. Defaults to 0.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>rgb</strong> – An MxNx3 RGB array representing the combined images.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.LightSource.blend_overlay">
<code class="descname">blend_overlay</code><span class="sig-paren">(</span><em>rgb</em>, <em>intensity</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.blend_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines an rgb image with an intensity map using “overlay” blending.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rgb</strong> (<em>ndarray</em>) – An MxNx3 RGB array of floats ranging from 0 to 1 (color image).</li>
<li><strong>intensity</strong> (<em>ndarray</em>) – An MxNx1 array of floats ranging from 0 to 1 (grayscale image).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>rgb</strong> – An MxNx3 RGB array representing the combined images.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.LightSource.blend_soft_light">
<code class="descname">blend_soft_light</code><span class="sig-paren">(</span><em>rgb</em>, <em>intensity</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.blend_soft_light" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines an rgb image with an intensity map using “soft light”
blending.  Uses the “pegtop” formula.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rgb</strong> (<em>ndarray</em>) – An MxNx3 RGB array of floats ranging from 0 to 1 (color image).</li>
<li><strong>intensity</strong> (<em>ndarray</em>) – An MxNx1 array of floats ranging from 0 to 1 (grayscale image).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>rgb</strong> – An MxNx3 RGB array representing the combined images.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.LightSource.direction">
<code class="descname">direction</code><a class="headerlink" href="#pyspecdata.LightSource.direction" title="Permalink to this definition">¶</a></dt>
<dd><p>The unit vector direction towards the light source</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.LightSource.hillshade">
<code class="descname">hillshade</code><span class="sig-paren">(</span><em>elevation</em>, <em>vert_exag=1</em>, <em>dx=1</em>, <em>dy=1</em>, <em>fraction=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.hillshade" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the illumination intensity for a surface using the defined
azimuth and elevation for the light source.</p>
<p>This computes the normal vectors for the surface, and then passes them
on to <cite>shade_normals</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>elevation</strong> (<em>array-like</em>) – A 2d array (or equivalent) of the height values used to generate an
illumination map</li>
<li><strong>vert_exag</strong> (<em>number</em><em>, </em><em>optional</em>) – The amount to exaggerate the elevation values by when calculating
illumination. This can be used either to correct for differences in
units between the x-y coordinate system and the elevation
coordinate system (e.g. decimal degrees vs meters) or to exaggerate
or de-emphasize topographic effects.</li>
<li><strong>dx</strong> (<em>number</em><em>, </em><em>optional</em>) – The x-spacing (columns) of the input <em>elevation</em> grid.</li>
<li><strong>dy</strong> (<em>number</em><em>, </em><em>optional</em>) – The y-spacing (rows) of the input <em>elevation</em> grid.</li>
<li><strong>fraction</strong> (<em>number</em><em>, </em><em>optional</em>) – Increases or decreases the contrast of the hillshade.  Values
greater than one will cause intermediate values to move closer to
full illumination or shadow (and clipping any values that move
beyond 0 or 1). Note that this is not visually or mathematically
the same as vertical exaggeration.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>intensity</strong> – A 2d array of illumination values between 0-1, where 0 is
completely in shadow and 1 is completely illuminated.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.LightSource.shade">
<code class="descname">shade</code><span class="sig-paren">(</span><em>data</em>, <em>cmap</em>, <em>norm=None</em>, <em>blend_mode=u'overlay'</em>, <em>vmin=None</em>, <em>vmax=None</em>, <em>vert_exag=1</em>, <em>dx=1</em>, <em>dy=1</em>, <em>fraction=1</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.shade" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine colormapped data values with an illumination intensity map
(a.k.a.  “hillshade”) of the values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>array-like</em>) – A 2d array (or equivalent) of the height values used to generate a
shaded map.</li>
<li><strong>cmap</strong> (<cite>~matplotlib.colors.Colormap</cite> instance) – The colormap used to color the <em>data</em> array. Note that this must be
a <cite>~matplotlib.colors.Colormap</cite> instance.  For example, rather than
passing in <cite>cmap=’gist_earth’</cite>, use
<cite>cmap=plt.get_cmap(‘gist_earth’)</cite> instead.</li>
<li><strong>norm</strong> (<cite>~matplotlib.colors.Normalize</cite> instance, optional) – The normalization used to scale values before colormapping. If
None, the input will be linearly scaled between its min and max.</li>
<li><strong>blend_mode</strong> (<em>{'hsv'</em><em>, </em><em>'overlay'</em><em>, </em><em>'soft'}</em><em> or </em><em>callable</em><em>, </em><em>optional</em>) – The type of blending used to combine the colormapped data
values with the illumination intensity.  Default is
“overlay”.  Note that for most topographic surfaces,
“overlay” or “soft” appear more visually realistic. If a
user-defined function is supplied, it is expected to
combine an MxNx3 RGB array of floats (ranging 0 to 1) with
an MxNx1 hillshade array (also 0 to 1).  (Call signature
<cite>func(rgb, illum, **kwargs)</cite>) Additional kwargs supplied
to this function will be passed on to the <em>blend_mode</em>
function.</li>
<li><strong>vmin</strong> (<em>scalar</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The minimum value used in colormapping <em>data</em>. If <em>None</em> the
minimum value in <em>data</em> is used. If <em>norm</em> is specified, then this
argument will be ignored.</li>
<li><strong>vmax</strong> (<em>scalar</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The maximum value used in colormapping <em>data</em>. If <em>None</em> the
maximum value in <em>data</em> is used. If <em>norm</em> is specified, then this
argument will be ignored.</li>
<li><strong>vert_exag</strong> (<em>number</em><em>, </em><em>optional</em>) – The amount to exaggerate the elevation values by when calculating
illumination. This can be used either to correct for differences in
units between the x-y coordinate system and the elevation
coordinate system (e.g. decimal degrees vs meters) or to exaggerate
or de-emphasize topography.</li>
<li><strong>dx</strong> (<em>number</em><em>, </em><em>optional</em>) – The x-spacing (columns) of the input <em>elevation</em> grid.</li>
<li><strong>dy</strong> (<em>number</em><em>, </em><em>optional</em>) – The y-spacing (rows) of the input <em>elevation</em> grid.</li>
<li><strong>fraction</strong> (<em>number</em><em>, </em><em>optional</em>) – Increases or decreases the contrast of the hillshade.  Values
greater than one will cause intermediate values to move closer to
full illumination or shadow (and clipping any values that move
beyond 0 or 1). Note that this is not visually or mathematically
the same as vertical exaggeration.</li>
<li><strong>kwargs are passed on to the blend_mode function.</strong> (<em>Additional</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>rgba</strong> – An MxNx4 array of floats ranging between 0-1.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.LightSource.shade_normals">
<code class="descname">shade_normals</code><span class="sig-paren">(</span><em>normals</em>, <em>fraction=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.shade_normals" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the illumination intensity for the normal vectors of a
surface using the defined azimuth and elevation for the light source.</p>
<p>Imagine an artificial sun placed at infinity in some azimuth and
elevation position illuminating our surface. The parts of the surface
that slope toward the sun should brighten while those sides facing away
should become darker.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fraction</strong> (<em>number</em><em>, </em><em>optional</em>) – Increases or decreases the contrast of the hillshade.  Values
greater than one will cause intermediate values to move closer to
full illumination or shadow (and clipping any values that move
beyond 0 or 1). Note that this is not visually or mathematically
the same as vertical exaggeration.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>intensity</strong> – A 2d array of illumination values between 0-1, where 0 is
completely in shadow and 1 is completely illuminated.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.LightSource.shade_rgb">
<code class="descname">shade_rgb</code><span class="sig-paren">(</span><em>rgb</em>, <em>elevation</em>, <em>fraction=1.0</em>, <em>blend_mode=u'hsv'</em>, <em>vert_exag=1</em>, <em>dx=1</em>, <em>dy=1</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.shade_rgb" title="Permalink to this definition">¶</a></dt>
<dd><p>Take the input RGB array (ny*nx*3) adjust their color values
to given the impression of a shaded relief map with a
specified light source using the elevation (ny*nx).
A new RGB array ((ny*nx*3)) is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rgb</strong> (<em>array-like</em>) – An MxNx3 RGB array, assumed to be in the range of 0 to 1.</li>
<li><strong>elevation</strong> (<em>array-like</em>) – A 2d array (or equivalent) of the height values used to generate a
shaded map.</li>
<li><strong>fraction</strong> (<em>number</em>) – Increases or decreases the contrast of the hillshade.  Values
greater than one will cause intermediate values to move closer to
full illumination or shadow (and clipping any values that move
beyond 0 or 1). Note that this is not visually or mathematically
the same as vertical exaggeration.</li>
<li><strong>blend_mode</strong> (<em>{'hsv'</em><em>, </em><em>'overlay'</em><em>, </em><em>'soft'}</em><em> or </em><em>callable</em><em>, </em><em>optional</em>) – The type of blending used to combine the colormapped data values
with the illumination intensity.  For backwards compatibility, this
defaults to “hsv”. Note that for most topographic surfaces,
“overlay” or “soft” appear more visually realistic. If a
user-defined function is supplied, it is expected to combine an
MxNx3 RGB array of floats (ranging 0 to 1) with an MxNx1 hillshade
array (also 0 to 1).  (Call signature <cite>func(rgb, illum, **kwargs)</cite>)
Additional kwargs supplied to this function will be passed on to
the <em>blend_mode</em> function.</li>
<li><strong>vert_exag</strong> (<em>number</em><em>, </em><em>optional</em>) – The amount to exaggerate the elevation values by when calculating
illumination. This can be used either to correct for differences in
units between the x-y coordinate system and the elevation
coordinate system (e.g. decimal degrees vs meters) or to exaggerate
or de-emphasize topography.</li>
<li><strong>dx</strong> (<em>number</em><em>, </em><em>optional</em>) – The x-spacing (columns) of the input <em>elevation</em> grid.</li>
<li><strong>dy</strong> (<em>number</em><em>, </em><em>optional</em>) – The y-spacing (rows) of the input <em>elevation</em> grid.</li>
<li><strong>kwargs are passed on to the blend_mode function.</strong> (<em>Additional</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>shaded_rgb</strong> – An MxNx3 array of floats ranging between 0-1.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.Line2D">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">Line2D</code><span class="sig-paren">(</span><em>xdata</em>, <em>ydata</em>, <em>linewidth=None</em>, <em>linestyle=None</em>, <em>color=None</em>, <em>marker=None</em>, <em>markersize=None</em>, <em>markeredgewidth=None</em>, <em>markeredgecolor=None</em>, <em>markerfacecolor=None</em>, <em>markerfacecoloralt=u'none'</em>, <em>fillstyle=None</em>, <em>antialiased=None</em>, <em>dash_capstyle=None</em>, <em>solid_capstyle=None</em>, <em>dash_joinstyle=None</em>, <em>solid_joinstyle=None</em>, <em>pickradius=5</em>, <em>drawstyle=None</em>, <em>markevery=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.artist.Artist</span></code></p>
<p>A line - the line can have both a solid linestyle connecting all
the vertices, and a marker at each vertex.  Additionally, the
drawing of the solid line is influenced by the drawstyle, e.g., one
can create “stepped” lines in various styles.</p>
<dl class="attribute">
<dt id="pyspecdata.Line2D.axes">
<code class="descname">axes</code><a class="headerlink" href="#pyspecdata.Line2D.axes" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Axes</span></code> instance the artist
resides in, or <em>None</em>.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.contains">
<code class="descname">contains</code><span class="sig-paren">(</span><em>mouseevent</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether the mouse event occurred on the line.  The pick
radius determines the precision of the location test (usually
within five points of the value).  Use
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pickradius()</span></code> or
<code class="xref py py-meth docutils literal notranslate"><span class="pre">set_pickradius()</span></code> to view or
modify it.</p>
<p>Returns <em>True</em> if any values are within the radius along with
<code class="docutils literal notranslate"><span class="pre">{'ind':</span> <span class="pre">pointlist}</span></code>, where <em>pointlist</em> is the set of points
within the radius.</p>
<p>TODO: sort returned indices by distance</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.draw">
<code class="descname">draw</code><span class="sig-paren">(</span><em>renderer</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.draw" title="Permalink to this definition">¶</a></dt>
<dd><p>draw the Line with <cite>renderer</cite> unless visibility is False</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.drawStyleKeys">
<code class="descname">drawStyleKeys</code><em class="property"> = [u'default', u'steps-mid', u'steps-pre', u'steps-post', u'steps']</em><a class="headerlink" href="#pyspecdata.Line2D.drawStyleKeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.drawStyles">
<code class="descname">drawStyles</code><em class="property"> = {u'default': u'_draw_lines', u'steps': u'_draw_steps_pre', u'steps-mid': u'_draw_steps_mid', u'steps-post': u'_draw_steps_post', u'steps-pre': u'_draw_steps_pre'}</em><a class="headerlink" href="#pyspecdata.Line2D.drawStyles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.fillStyles">
<code class="descname">fillStyles</code><em class="property"> = (u'full', u'left', u'right', u'bottom', u'top', u'none')</em><a class="headerlink" href="#pyspecdata.Line2D.fillStyles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.filled_markers">
<code class="descname">filled_markers</code><em class="property"> = (u'o', u'v', u'^', u'&lt;', u'&gt;', u'8', u's', u'p', u'*', u'h', u'H', u'D', u'd', u'P', u'X')</em><a class="headerlink" href="#pyspecdata.Line2D.filled_markers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_aa">
<code class="descname">get_aa</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_aa" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_antialiased</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_antialiased">
<code class="descname">get_antialiased</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_antialiased" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_c">
<code class="descname">get_c</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_c" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_color</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_color">
<code class="descname">get_color</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_dash_capstyle">
<code class="descname">get_dash_capstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_dash_capstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the cap style for dashed linestyles</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_dash_joinstyle">
<code class="descname">get_dash_joinstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_dash_joinstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the join style for dashed linestyles</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_data">
<code class="descname">get_data</code><span class="sig-paren">(</span><em>orig=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the xdata, ydata.</p>
<p>If <em>orig</em> is <em>True</em>, return the original data.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_drawstyle">
<code class="descname">get_drawstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_drawstyle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_fillstyle">
<code class="descname">get_fillstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_fillstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>return the marker fillstyle</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_linestyle">
<code class="descname">get_linestyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_linestyle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_linewidth">
<code class="descname">get_linewidth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_linewidth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_ls">
<code class="descname">get_ls</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_ls" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_linestyle</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_lw">
<code class="descname">get_lw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_lw" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_linewidth</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_marker">
<code class="descname">get_marker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_markeredgecolor">
<code class="descname">get_markeredgecolor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markeredgecolor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_markeredgewidth">
<code class="descname">get_markeredgewidth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markeredgewidth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_markerfacecolor">
<code class="descname">get_markerfacecolor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markerfacecolor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_markerfacecoloralt">
<code class="descname">get_markerfacecoloralt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markerfacecoloralt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_markersize">
<code class="descname">get_markersize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markersize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_markevery">
<code class="descname">get_markevery</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markevery" title="Permalink to this definition">¶</a></dt>
<dd><p>return the markevery setting</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_mec">
<code class="descname">get_mec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_mec" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_markeredgecolor</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_mew">
<code class="descname">get_mew</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_mew" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_markeredgewidth</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_mfc">
<code class="descname">get_mfc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_mfc" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_markerfacecolor</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_mfcalt">
<code class="descname">get_mfcalt</code><span class="sig-paren">(</span><em>alt=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_mfcalt" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_markerfacecoloralt</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_ms">
<code class="descname">get_ms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_ms" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for get_markersize</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_path">
<code class="descname">get_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code> object associated
with this line.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_pickradius">
<code class="descname">get_pickradius</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_pickradius" title="Permalink to this definition">¶</a></dt>
<dd><p>return the pick radius used for containment tests</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_solid_capstyle">
<code class="descname">get_solid_capstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_solid_capstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the cap style for solid linestyles</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_solid_joinstyle">
<code class="descname">get_solid_joinstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_solid_joinstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the join style for solid linestyles</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_window_extent">
<code class="descname">get_window_extent</code><span class="sig-paren">(</span><em>renderer</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_window_extent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_xdata">
<code class="descname">get_xdata</code><span class="sig-paren">(</span><em>orig=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_xdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the xdata.</p>
<p>If <em>orig</em> is <em>True</em>, return the original data, else the
processed data.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_xydata">
<code class="descname">get_xydata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_xydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <em>xy</em> data as a Nx2 numpy array.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.get_ydata">
<code class="descname">get_ydata</code><span class="sig-paren">(</span><em>orig=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_ydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ydata.</p>
<p>If <em>orig</em> is <em>True</em>, return the original data, else the
processed data.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.is_dashed">
<code class="descname">is_dashed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.is_dashed" title="Permalink to this definition">¶</a></dt>
<dd><p>return True if line is dashstyle</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.lineStyles">
<code class="descname">lineStyles</code><em class="property"> = {u'': u'_draw_nothing', u' ': u'_draw_nothing', u'-': u'_draw_solid', u'--': u'_draw_dashed', u'-.': u'_draw_dash_dot', u':': u'_draw_dotted', u'None': u'_draw_nothing'}</em><a class="headerlink" href="#pyspecdata.Line2D.lineStyles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.markers">
<code class="descname">markers</code><em class="property"> = {None: u'nothing', 0: u'tickleft', 1: u'tickright', 2: u'tickup', 3: u'tickdown', 4: u'caretleft', 5: u'caretright', 6: u'caretup', 7: u'caretdown', 8: u'caretleftbase', 9: u'caretrightbase', 10: u'caretupbase', 11: u'caretdownbase', u'': u'nothing', u' ': u'nothing', u'*': u'star', u'+': u'plus', u',': u'pixel', u'.': u'point', u'1': u'tri_down', u'2': u'tri_up', u'3': u'tri_left', u'4': u'tri_right', u'8': u'octagon', u'&lt;': u'triangle_left', u'&gt;': u'triangle_right', u'D': u'diamond', u'H': u'hexagon2', u'None': u'nothing', u'P': u'plus_filled', u'X': u'x_filled', u'^': u'triangle_up', u'_': u'hline', u'd': u'thin_diamond', u'h': u'hexagon1', u'o': u'circle', u'p': u'pentagon', u's': u'square', u'v': u'triangle_down', u'x': u'x', u'|': u'vline'}</em><a class="headerlink" href="#pyspecdata.Line2D.markers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.recache">
<code class="descname">recache</code><span class="sig-paren">(</span><em>always=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.recache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.recache_always">
<code class="descname">recache_always</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.recache_always" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_aa">
<code class="descname">set_aa</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_aa" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_antialiased</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_antialiased">
<code class="descname">set_antialiased</code><span class="sig-paren">(</span><em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_antialiased" title="Permalink to this definition">¶</a></dt>
<dd><p>Set whether to use antialiased rendering.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>b</strong> (<em>bool</em>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_c">
<code class="descname">set_c</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_c" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_color</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_color">
<code class="descname">set_color</code><span class="sig-paren">(</span><em>color</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_color" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the color of the line</p>
<p>ACCEPTS: any matplotlib color</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_dash_capstyle">
<code class="descname">set_dash_capstyle</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_dash_capstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the cap style for dashed linestyles</p>
<p>ACCEPTS: [‘butt’ | ‘round’ | ‘projecting’]</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_dash_joinstyle">
<code class="descname">set_dash_joinstyle</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_dash_joinstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the join style for dashed linestyles
ACCEPTS: [‘miter’ | ‘round’ | ‘bevel’]</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_dashes">
<code class="descname">set_dashes</code><span class="sig-paren">(</span><em>seq</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_dashes" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dash sequence, sequence of dashes with on off ink in
points.  If seq is empty or if seq = (None, None), the
linestyle will be set to solid.</p>
<p>ACCEPTS: sequence of on/off ink in points</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_data">
<code class="descname">set_data</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the x and y data</p>
<p>ACCEPTS: 2D array (rows are x, y) or two 1D arrays</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_drawstyle">
<code class="descname">set_drawstyle</code><span class="sig-paren">(</span><em>drawstyle</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_drawstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the drawstyle of the plot</p>
<p>‘default’ connects the points with lines. The steps variants
produce step-plots. ‘steps’ is equivalent to ‘steps-pre’ and
is maintained for backward-compatibility.</p>
<dl class="docutils">
<dt>ACCEPTS: [‘default’ | ‘steps’ | ‘steps-pre’ | ‘steps-mid’ |</dt>
<dd>‘steps-post’]</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_fillstyle">
<code class="descname">set_fillstyle</code><span class="sig-paren">(</span><em>fs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_fillstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker fill style; ‘full’ means fill the whole marker.
‘none’ means no filling; other options are for half-filled markers.</p>
<p>ACCEPTS: [‘full’ | ‘left’ | ‘right’ | ‘bottom’ | ‘top’ | ‘none’]</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_linestyle">
<code class="descname">set_linestyle</code><span class="sig-paren">(</span><em>ls</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_linestyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the linestyle of the line (also accepts drawstyles,
e.g., <code class="docutils literal notranslate"><span class="pre">'steps--'</span></code>)</p>
<table border="1" class="docutils">
<colgroup>
<col width="61%" />
<col width="39%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">linestyle</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">'-'</span></code> or <code class="docutils literal notranslate"><span class="pre">'solid'</span></code></td>
<td>solid line</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">'--'</span></code> or  <code class="docutils literal notranslate"><span class="pre">'dashed'</span></code></td>
<td>dashed line</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">'-.'</span></code> or  <code class="docutils literal notranslate"><span class="pre">'dashdot'</span></code></td>
<td>dash-dotted line</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">':'</span></code> or <code class="docutils literal notranslate"><span class="pre">'dotted'</span></code></td>
<td>dotted line</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">'None'</span></code></td>
<td>draw nothing</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">'</span> <span class="pre">'</span></code></td>
<td>draw nothing</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">''</span></code></td>
<td>draw nothing</td>
</tr>
</tbody>
</table>
<p>‘steps’ is equivalent to ‘steps-pre’ and is maintained for
backward-compatibility.</p>
<p>Alternatively a dash tuple of the following form can be provided:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">onoffseq</span><span class="p">),</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">onoffseq</span></code> is an even length tuple of on and off ink
in points.</p>
<dl class="docutils">
<dt>ACCEPTS: [‘solid’ | ‘dashed’, ‘dashdot’, ‘dotted’ |</dt>
<dd>(offset, on-off-dash-seq) |
<code class="docutils literal notranslate"><span class="pre">'-'</span></code> | <code class="docutils literal notranslate"><span class="pre">'--'</span></code> | <code class="docutils literal notranslate"><span class="pre">'-.'</span></code> | <code class="docutils literal notranslate"><span class="pre">':'</span></code> | <code class="docutils literal notranslate"><span class="pre">'None'</span></code> |
<code class="docutils literal notranslate"><span class="pre">'</span> <span class="pre">'</span></code> | <code class="docutils literal notranslate"><span class="pre">''</span></code>]</dd>
</dl>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#pyspecdata.Line2D.set_drawstyle" title="pyspecdata.Line2D.set_drawstyle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_drawstyle()</span></code></a></dt>
<dd>To set the drawing style (stepping) of the plot.</dd>
</dl>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ls</strong> ({ <code class="docutils literal notranslate"><span class="pre">'-'</span></code>,  <code class="docutils literal notranslate"><span class="pre">'--'</span></code>, <code class="docutils literal notranslate"><span class="pre">'-.'</span></code>, <code class="docutils literal notranslate"><span class="pre">':'</span></code>} and more see description) – The line style.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_linewidth">
<code class="descname">set_linewidth</code><span class="sig-paren">(</span><em>w</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_linewidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the line width in points</p>
<p>ACCEPTS: float value in points</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_ls">
<code class="descname">set_ls</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_ls" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_linestyle</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_lw">
<code class="descname">set_lw</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_lw" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_linewidth</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_marker">
<code class="descname">set_marker</code><span class="sig-paren">(</span><em>marker</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the line marker</p>
<p>ACCEPTS: <code class="xref py py-mod docutils literal notranslate"><span class="pre">A</span> <span class="pre">valid</span> <span class="pre">marker</span> <span class="pre">style</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>marker</strong> (<em>marker style</em>) – See <cite>~matplotlib.markers</cite> for full description of possible
argument</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_markeredgecolor">
<code class="descname">set_markeredgecolor</code><span class="sig-paren">(</span><em>ec</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markeredgecolor" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker edge color</p>
<p>ACCEPTS: any matplotlib color</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_markeredgewidth">
<code class="descname">set_markeredgewidth</code><span class="sig-paren">(</span><em>ew</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markeredgewidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker edge width in points</p>
<p>ACCEPTS: float value in points</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_markerfacecolor">
<code class="descname">set_markerfacecolor</code><span class="sig-paren">(</span><em>fc</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markerfacecolor" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker face color.</p>
<p>ACCEPTS: any matplotlib color</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_markerfacecoloralt">
<code class="descname">set_markerfacecoloralt</code><span class="sig-paren">(</span><em>fc</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markerfacecoloralt" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the alternate marker face color.</p>
<p>ACCEPTS: any matplotlib color</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_markersize">
<code class="descname">set_markersize</code><span class="sig-paren">(</span><em>sz</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markersize" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker size in points</p>
<p>ACCEPTS: float</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_markevery">
<code class="descname">set_markevery</code><span class="sig-paren">(</span><em>every</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markevery" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the markevery property to subsample the plot when using markers.</p>
<p>e.g., if <cite>every=5</cite>, every 5-th marker will be plotted.</p>
<p>ACCEPTS: [None | int | length-2 tuple of int | slice |
list/array of int | float | length-2 tuple of float]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>every</strong> (<em>None | int | length-2 tuple of int | slice | list/array of int | float | length-2 tuple of float</em>) – <p>Which markers to plot.</p>
<ul class="simple">
<li>every=None, every point will be plotted.</li>
<li>every=N, every N-th marker will be plotted starting with
marker 0.</li>
<li>every=(start, N), every N-th marker, starting at point
start, will be plotted.</li>
<li>every=slice(start, end, N), every N-th marker, starting at
point start, upto but not including point end, will be plotted.</li>
<li>every=[i, j, m, n], only markers at points i, j, m, and n
will be plotted.</li>
<li>every=0.1, (i.e. a float) then markers will be spaced at
approximately equal distances along the line; the distance
along the line between markers is determined by multiplying the
display-coordinate distance of the axes bounding-box diagonal
by the value of every.</li>
<li>every=(0.5, 0.1) (i.e. a length-2 tuple of float), the
same functionality as every=0.1 is exhibited but the first
marker will be 0.5 multiplied by the
display-cordinate-diagonal-distance along the line.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Setting the markevery property will only show markers at actual data
points.  When using float arguments to set the markevery property
on irregularly spaced data, the markers will likely not appear evenly
spaced because the actual data points do not coincide with the
theoretical spacing between markers.</p>
<p>When using a start offset to specify the first marker, the offset will
be from the first data point which may be different from the first
the visible data point if the plot is zoomed in.</p>
<p>If zooming in on a plot when using float arguments then the actual
data points that have markers will change because the distance between
markers is always determined from the display-coordinates
axes-bounding-box-diagonal regardless of the actual axes data limits.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_mec">
<code class="descname">set_mec</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_mec" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_markeredgecolor</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_mew">
<code class="descname">set_mew</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_mew" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_markeredgewidth</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_mfc">
<code class="descname">set_mfc</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_mfc" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_markerfacecolor</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_mfcalt">
<code class="descname">set_mfcalt</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_mfcalt" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_markerfacecoloralt</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_ms">
<code class="descname">set_ms</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_ms" title="Permalink to this definition">¶</a></dt>
<dd><p>alias for set_markersize</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_picker">
<code class="descname">set_picker</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_picker" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the event picker details for the line.</p>
<p>ACCEPTS: float distance in points or callable pick function
<code class="docutils literal notranslate"><span class="pre">fn(artist,</span> <span class="pre">event)</span></code></p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_pickradius">
<code class="descname">set_pickradius</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_pickradius" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the pick radius used for containment tests.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>d</strong> (<em>float</em>) – Pick radius, in points.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_solid_capstyle">
<code class="descname">set_solid_capstyle</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_solid_capstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the cap style for solid linestyles</p>
<p>ACCEPTS: [‘butt’ | ‘round’ |  ‘projecting’]</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_solid_joinstyle">
<code class="descname">set_solid_joinstyle</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_solid_joinstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the join style for solid linestyles
ACCEPTS: [‘miter’ | ‘round’ | ‘bevel’]</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_transform">
<code class="descname">set_transform</code><span class="sig-paren">(</span><em>t</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>set the Transformation instance used by this artist</p>
<p>ACCEPTS: a <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.transforms.Transform</span></code> instance</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_xdata">
<code class="descname">set_xdata</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_xdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the data np.array for x</p>
<p>ACCEPTS: 1D array</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.set_ydata">
<code class="descname">set_ydata</code><span class="sig-paren">(</span><em>y</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_ydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the data np.array for y</p>
<p>ACCEPTS: 1D array</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.Line2D.update_from">
<code class="descname">update_from</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.update_from" title="Permalink to this definition">¶</a></dt>
<dd><p>copy properties from other to self</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.validCap">
<code class="descname">validCap</code><em class="property"> = (u'butt', u'round', u'projecting')</em><a class="headerlink" href="#pyspecdata.Line2D.validCap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.validJoin">
<code class="descname">validJoin</code><em class="property"> = (u'miter', u'round', u'bevel')</em><a class="headerlink" href="#pyspecdata.Line2D.validJoin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.Line2D.zorder">
<code class="descname">zorder</code><em class="property"> = 2</em><a class="headerlink" href="#pyspecdata.Line2D.zorder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.LooseVersion">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">LooseVersion</code><span class="sig-paren">(</span><em>vstring=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LooseVersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">distutils.version.Version</span></code></p>
<p>Version numbering for anarchists and software realists.
Implements the standard interface for version number classes as
described above.  A version number consists of a series of numbers,
separated by either periods or strings of letters.  When comparing
version numbers, the numeric components will be compared
numerically, and the alphabetic components lexically.  The following
are all valid version numbers, in no particular order:</p>
<blockquote>
<div>1.5.1
1.5.2b2
161
3.10a
8.02
3.4j
1996.07.12
3.2.pl0
3.1.1.6
2g6
11g
0.960923
2.2beta29
1.13++
5.5.kw
2.0b1pl0</div></blockquote>
<p>In fact, there is no such thing as an invalid version number under
this scheme; the rules for comparison are simple and predictable,
but may not always give the results you want (for some definition
of “want”).</p>
<dl class="attribute">
<dt id="pyspecdata.LooseVersion.component_re">
<code class="descname">component_re</code><em class="property"> = &lt;_sre.SRE_Pattern object&gt;</em><a class="headerlink" href="#pyspecdata.LooseVersion.component_re" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.LooseVersion.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>vstring</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LooseVersion.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.OLDplot">
<code class="descclassname">pyspecdata.</code><code class="descname">OLDplot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.OLDplot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.PolyCollection">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">PolyCollection</code><span class="sig-paren">(</span><em>verts</em>, <em>sizes=None</em>, <em>closed=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.PolyCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.collections._CollectionWithSizes</span></code></p>
<dl class="method">
<dt id="pyspecdata.PolyCollection.set_paths">
<code class="descname">set_paths</code><span class="sig-paren">(</span><em>verts</em>, <em>closed=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.PolyCollection.set_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>This allows one to delay initialization of the vertices.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.PolyCollection.set_verts">
<code class="descname">set_verts</code><span class="sig-paren">(</span><em>verts</em>, <em>closed=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.PolyCollection.set_verts" title="Permalink to this definition">¶</a></dt>
<dd><p>This allows one to delay initialization of the vertices.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.PolyCollection.set_verts_and_codes">
<code class="descname">set_verts_and_codes</code><span class="sig-paren">(</span><em>verts</em>, <em>codes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.PolyCollection.set_verts_and_codes" title="Permalink to this definition">¶</a></dt>
<dd><p>This allows one to initialize vertices with path codes.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.UnivariateSpline">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">UnivariateSpline</code><span class="sig-paren">(</span><em>x, y, w=None, bbox=[None, None], k=3, s=None, ext=0, check_finite=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>One-dimensional smoothing spline fit to a given set of data points.</p>
<p>Fits a spline y = spl(x) of degree <cite>k</cite> to the provided <cite>x</cite>, <cite>y</cite> data.  <cite>s</cite>
specifies the number of knots by specifying a smoothing condition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>(</em><em>N</em><em>,</em><em>) </em><em>array_like</em>) – 1-D array of independent input data. Must be increasing.</li>
<li><strong>y</strong> (<em>(</em><em>N</em><em>,</em><em>) </em><em>array_like</em>) – 1-D array of dependent input data, of the same length as <cite>x</cite>.</li>
<li><strong>w</strong> (<em>(</em><em>N</em><em>,</em><em>) </em><em>array_like</em><em>, </em><em>optional</em>) – Weights for spline fitting.  Must be positive.  If None (default),
weights are all equal.</li>
<li><strong>bbox</strong> (<em>(</em><em>2</em><em>,</em><em>) </em><em>array_like</em><em>, </em><em>optional</em>) – 2-sequence specifying the boundary of the approximation interval. If
None (default), <code class="docutils literal notranslate"><span class="pre">bbox=[x[0],</span> <span class="pre">x[-1]]</span></code>.</li>
<li><strong>k</strong> (<em>int</em><em>, </em><em>optional</em>) – Degree of the smoothing spline.  Must be &lt;= 5.
Default is k=3, a cubic spline.</li>
<li><strong>s</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>Positive smoothing factor used to choose the number of knots.  Number
of knots will be increased until the smoothing condition is satisfied:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">((</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">spl</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">s</span>
</pre></div>
</div>
<p>If None (default), <code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">len(w)</span></code> which should be a good value if
<code class="docutils literal notranslate"><span class="pre">1/w[i]</span></code> is an estimate of the standard deviation of <code class="docutils literal notranslate"><span class="pre">y[i]</span></code>.
If 0, spline will interpolate through all data points.</p>
</li>
<li><strong>ext</strong> (<em>int</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – <p>Controls the extrapolation mode for elements
not in the interval defined by the knot sequence.</p>
<ul>
<li>if ext=0 or ‘extrapolate’, return the extrapolated value.</li>
<li>if ext=1 or ‘zeros’, return 0</li>
<li>if ext=2 or ‘raise’, raise a ValueError</li>
<li>if ext=3 of ‘const’, return the boundary value.</li>
</ul>
<p>The default value is 0.</p>
</li>
<li><strong>check_finite</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to check that the input arrays contain only finite numbers.
Disabling may give a performance gain, but may result in problems
(crashes, non-termination or non-sensical results) if the inputs
do contain infinities or NaNs.
Default is False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">InterpolatedUnivariateSpline</span></code></dt>
<dd>Subclass with smoothing forced to 0</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">LSQUnivariateSpline</span></code></dt>
<dd>Subclass in which knots are user-selected instead of being set by smoothing condition</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">splrep</span></code></dt>
<dd>An older, non object-oriented wrapping of FITPACK</dd>
</dl>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">splev</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">sproot</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">splint</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">spalde</span></code></p>
<dl class="last docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">BivariateSpline</span></code></dt>
<dd>A similar class for two-dimensional spline interpolation</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The number of data points must be larger than the spline degree <cite>k</cite>.</p>
<p><strong>NaN handling</strong>: If the input arrays contain <code class="docutils literal notranslate"><span class="pre">nan</span></code> values, the result
is not useful, since the underlying spline fitting routines cannot deal
with <code class="docutils literal notranslate"><span class="pre">nan</span></code> . A workaround is to use zero weights for not-a-number
data points:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="k">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="p">[</span><span class="n">w</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="o">=~</span><span class="n">w</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice the need to replace a <code class="docutils literal notranslate"><span class="pre">nan</span></code> by a numerical value (precise value
does not matter as long as the corresponding weight is zero.)</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="k">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;ro&#39;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>Use the default value for the smoothing parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">spl</span><span class="p">(</span><span class="n">xs</span><span class="p">),</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>Manually change the amount of smoothing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">set_smoothing_factor</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">spl</span><span class="p">(</span><span class="n">xs</span><span class="p">),</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="pyspecdata.UnivariateSpline.antiderivative">
<code class="descname">antiderivative</code><span class="sig-paren">(</span><em>n=1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.antiderivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new spline representing the antiderivative of this spline.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em><em>, </em><em>optional</em>) – Order of antiderivative to evaluate. Default: 1</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>spline</strong> – Spline of order k2=k+n representing the antiderivative of this
spline.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#pyspecdata.UnivariateSpline" title="pyspecdata.UnivariateSpline">UnivariateSpline</a></td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.13.0.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal notranslate"><span class="pre">splantider()</span></code>, <a class="reference internal" href="#pyspecdata.UnivariateSpline.derivative" title="pyspecdata.UnivariateSpline.derivative"><code class="xref py py-meth docutils literal notranslate"><span class="pre">derivative()</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="k">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mf">0.8</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>The derivative is the inverse operation of the antiderivative,
although some floating point error accumulates:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="p">(</span><span class="mf">1.7</span><span class="p">),</span> <span class="n">spl</span><span class="o">.</span><span class="n">antiderivative</span><span class="p">()</span><span class="o">.</span><span class="n">derivative</span><span class="p">()(</span><span class="mf">1.7</span><span class="p">)</span>
<span class="go">(array(2.1565429877197317), array(2.1565429877201865))</span>
</pre></div>
</div>
<p>Antiderivative can be used to evaluate definite integrals:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ispl</span> <span class="o">=</span> <span class="n">spl</span><span class="o">.</span><span class="n">antiderivative</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ispl</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="n">ispl</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">2.2572053588768486</span>
</pre></div>
</div>
<p>This is indeed an approximation to the complete elliptic integral
<span class="math notranslate nohighlight">\(K(m) = \int_0^{\pi/2} [1 - m\sin^2 x]^{-1/2} dx\)</span>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.special</span> <span class="k">import</span> <span class="n">ellipk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ellipk</span><span class="p">(</span><span class="mf">0.8</span><span class="p">)</span>
<span class="go">2.2572053268208538</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.derivative">
<code class="descname">derivative</code><span class="sig-paren">(</span><em>n=1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new spline representing the derivative of this spline.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em><em>, </em><em>optional</em>) – Order of derivative to evaluate. Default: 1</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>spline</strong> – Spline of order k2=k-n representing the derivative of this
spline.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#pyspecdata.UnivariateSpline" title="pyspecdata.UnivariateSpline">UnivariateSpline</a></td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal notranslate"><span class="pre">splder()</span></code>, <a class="reference internal" href="#pyspecdata.UnivariateSpline.antiderivative" title="pyspecdata.UnivariateSpline.antiderivative"><code class="xref py py-meth docutils literal notranslate"><span class="pre">antiderivative()</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.13.0.</span></p>
</div>
<p class="rubric">Examples</p>
<p>This can be used for finding maxima of a curve:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="k">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, differentiate the spline and find the zeros of the
derivative. (NB: <cite>sproot</cite> only works for order 3 splines, so we
fit an order 4 spline):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">derivative</span><span class="p">()</span><span class="o">.</span><span class="n">roots</span><span class="p">()</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
<span class="go">array([ 0.50000001,  1.5       ,  2.49999998])</span>
</pre></div>
</div>
<p>This agrees well with roots <span class="math notranslate nohighlight">\(\pi/2 + n\pi\)</span> of
<span class="math notranslate nohighlight">\(\cos(x) = \sin'(x)\)</span>.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.derivatives">
<code class="descname">derivatives</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.derivatives" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all derivatives of the spline at the point x.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong> (<em>float</em>) – The point to evaluate the derivatives at.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>der</strong> – Derivatives of the orders 0 to k.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">ndarray, shape(k+1,)</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="k">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">derivatives</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
<span class="go">array([2.25, 3.0, 2.0, 0])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.get_coeffs">
<code class="descname">get_coeffs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.get_coeffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return spline coefficients.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.get_knots">
<code class="descname">get_knots</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.get_knots" title="Permalink to this definition">¶</a></dt>
<dd><p>Return positions of interior knots of the spline.</p>
<p>Internally, the knot vector contains <code class="docutils literal notranslate"><span class="pre">2*k</span></code> additional boundary knots.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.get_residual">
<code class="descname">get_residual</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.get_residual" title="Permalink to this definition">¶</a></dt>
<dd><p>Return weighted sum of squared residuals of the spline approximation.</p>
<p>This is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">((</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">spl</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.integral">
<code class="descname">integral</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.integral" title="Permalink to this definition">¶</a></dt>
<dd><p>Return definite integral of the spline between two given points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a</strong> (<em>float</em>) – Lower limit of integration.</li>
<li><strong>b</strong> (<em>float</em>) – Upper limit of integration.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>integral</strong> – The value of the definite integral of the spline between limits.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="k">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">9.0</span>
</pre></div>
</div>
<p>which agrees with <span class="math notranslate nohighlight">\(\int x^2 dx = x^3 / 3\)</span> between the limits
of 0 and 3.</p>
<p>A caveat is that this routine assumes the spline to be zero outside of
the data limits:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">9.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.roots">
<code class="descname">roots</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.roots" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the zeros of the spline.</p>
<p>Restriction: only cubic splines are supported by fitpack.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.UnivariateSpline.set_smoothing_factor">
<code class="descname">set_smoothing_factor</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.set_smoothing_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Continue spline computation with the given smoothing
factor s and with the knots found at the last call.</p>
<p>This routine modifies the spline in place.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.addlabels">
<code class="descclassname">pyspecdata.</code><code class="descname">addlabels</code><span class="sig-paren">(</span><em>labelstring</em>, <em>x</em>, <em>y</em>, <em>labels</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.addlabels" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – use plot_label_points</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.apply_oom">
<code class="descclassname">pyspecdata.</code><code class="descname">apply_oom</code><span class="sig-paren">(</span><em>average_oom</em>, <em>numbers</em>, <em>prev_label=''</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.apply_oom" title="Permalink to this definition">¶</a></dt>
<dd><p>scale numbers by the order of magnitude average_oom and change the
label prev_label by adding the appropriate SI prefix</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.applyto_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">applyto_rec</code><span class="sig-paren">(</span><em>myfunc</em>, <em>myarray</em>, <em>mylist</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.applyto_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>apply myfunc to myarray with the intention of collapsing it to a smaller number of values</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.autolegend">
<code class="descclassname">pyspecdata.</code><code class="descname">autolegend</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.autolegend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.autopad_figure">
<code class="descclassname">pyspecdata.</code><code class="descname">autopad_figure</code><span class="sig-paren">(</span><em>pad=0.2</em>, <em>centered=False</em>, <em>figname='unknown'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.autopad_figure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.autostringconvert">
<code class="descclassname">pyspecdata.</code><code class="descname">autostringconvert</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.autostringconvert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.box_muller">
<code class="descclassname">pyspecdata.</code><code class="descname">box_muller</code><span class="sig-paren">(</span><em>length</em>, <em>return_complex=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.box_muller" title="Permalink to this definition">¶</a></dt>
<dd><p>algorithm to generate normally distributed noise</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.bruker_load_t1_axis">
<code class="descclassname">pyspecdata.</code><code class="descname">bruker_load_t1_axis</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.bruker_load_t1_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.bruker_load_title">
<code class="descclassname">pyspecdata.</code><code class="descname">bruker_load_title</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.bruker_load_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.check_ascending_axis">
<code class="descclassname">pyspecdata.</code><code class="descname">check_ascending_axis</code><span class="sig-paren">(</span><em>u</em>, <em>tolerance=1e-07</em>, <em>additional_message=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.check_ascending_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the array <cite>u</cite> is ascending and equally spaced, and return the
spacing, <cite>du</cite>.  This is a common check needed for FT functions, shears,
etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tolerance</strong> (<em>double</em>) – The relative variation in <cite>du</cite> that is allowed.
Defaults to 1e-7.</li>
<li><strong>additional_message</strong> (<em>str</em>) – So that the user can easily figure out where the assertion error is
coming from, supply some extra text for the respective message.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>du</strong> – the spacing between the elements of u</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">double</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.colormap">
<code class="descclassname">pyspecdata.</code><code class="descname">colormap</code><span class="sig-paren">(</span><em>points</em>, <em>colors</em>, <em>n=256</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.colormap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.complex_str">
<code class="descclassname">pyspecdata.</code><code class="descname">complex_str</code><span class="sig-paren">(</span><em>arg</em>, <em>fancy_format=False</em>, <em>format_code='%.4g'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.complex_str" title="Permalink to this definition">¶</a></dt>
<dd><p>render a complex string – leaving out imaginary if it’s real</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.concat">
<code class="descclassname">pyspecdata.</code><code class="descname">concat</code><span class="sig-paren">(</span><em>datalist</em>, <em>dimname</em>, <em>chop=False</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.concat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.contour_plot">
<code class="descclassname">pyspecdata.</code><code class="descname">contour_plot</code><span class="sig-paren">(</span><em>xvals</em>, <em>yvals</em>, <em>zvals</em>, <em>color='k'</em>, <em>alpha=1.0</em>, <em>npts=300</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.contour_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.copy_maybe_none">
<code class="descclassname">pyspecdata.</code><code class="descname">copy_maybe_none</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.copy_maybe_none" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.cw">
<code class="descclassname">pyspecdata.</code><code class="descname">cw</code><span class="sig-paren">(</span><em>file</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.cw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.decorate_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">decorate_rec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.decorate_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate the rows in A with information in B –&gt; if names overlap,
keep the ones in A
b_ind and a_ind can be either a single key, or a list of keys;
if more than one element in B matches that in A, include both options!!</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.deepcopy">
<code class="descclassname">pyspecdata.</code><code class="descname">deepcopy</code><span class="sig-paren">(</span><em>x</em>, <em>memo=None</em>, <em>_nil=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.deepcopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Deep copy operation on arbitrary Python objects.</p>
<p>See the module’s __doc__ string for more info.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.dp">
<code class="descclassname">pyspecdata.</code><code class="descname">dp</code><span class="sig-paren">(</span><em>number</em>, <em>decimalplaces</em>, <em>scientific=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.dp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.drop_fields">
<code class="descclassname">pyspecdata.</code><code class="descname">drop_fields</code><span class="sig-paren">(</span><em>base</em>, <em>drop_names</em>, <em>usemask=True</em>, <em>asrecarray=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.drop_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new array with fields in <cite>drop_names</cite> dropped.</p>
<p>Nested fields are supported.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>base</strong> (<em>array</em>) – Input array</li>
<li><strong>drop_names</strong> (<em>string</em><em> or </em><em>sequence</em>) – String or sequence of strings corresponding to the names of the
fields to drop.</li>
<li><strong>usemask</strong> (<em>{False</em><em>, </em><em>True}</em><em>, </em><em>optional</em>) – Whether to return a masked array or not.</li>
<li><strong>asrecarray</strong> (<em>string</em><em> or </em><em>sequence</em><em>, </em><em>optional</em>) – Whether to return a recarray or a mrecarray (<cite>asrecarray=True</cite>) or
a plain ndarray or masked array with flexible dtype. The default
is False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.lib</span> <span class="k">import</span> <span class="n">recfunctions</span> <span class="k">as</span> <span class="n">rfn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">)),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">))],</span>
<span class="gp">... </span>  <span class="n">dtype</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;ba&#39;</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;bb&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">)])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span><span class="o">.</span><span class="n">drop_fields</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">array([((2.0, 3),), ((5.0, 6),)],</span>
<span class="go">      dtype=[(&#39;b&#39;, [(&#39;ba&#39;, &#39;&lt;f8&#39;), (&#39;bb&#39;, &#39;&lt;i4&#39;)])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span><span class="o">.</span><span class="n">drop_fields</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;ba&#39;</span><span class="p">)</span>
<span class="go">array([(1, (3,)), (4, (6,))],</span>
<span class="go">      dtype=[(&#39;a&#39;, &#39;&lt;i4&#39;), (&#39;b&#39;, [(&#39;bb&#39;, &#39;&lt;i4&#39;)])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span><span class="o">.</span><span class="n">drop_fields</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;ba&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">])</span>
<span class="go">array([(1,), (4,)],</span>
<span class="go">      dtype=[(&#39;a&#39;, &#39;&lt;i4&#39;)])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.emptyfunction">
<code class="descclassname">pyspecdata.</code><code class="descname">emptyfunction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.emptyfunction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.emptytest">
<code class="descclassname">pyspecdata.</code><code class="descname">emptytest</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.emptytest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.exc_info">
<code class="descclassname">pyspecdata.</code><code class="descname">exc_info</code><span class="sig-paren">(</span><em>) -&gt; (type</em>, <em>value</em>, <em>traceback</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.exc_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Return information about the most recent exception caught by an except
clause in the current stack frame or in an older stack frame.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.exp">
<code class="descclassname">pyspecdata.</code><code class="descname">exp</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.exp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.expand_x">
<code class="descclassname">pyspecdata.</code><code class="descname">expand_x</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.expand_x" title="Permalink to this definition">¶</a></dt>
<dd><p>expand the axes.  If an argument is passed, then it refers to the position relative to the current coordinates.  Values can be:
:0: set this side of the axis to 0
:None: leave this side of the axis alone
:a double: rescale the distance from the center of the axis to this side by this number</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.expand_y">
<code class="descclassname">pyspecdata.</code><code class="descname">expand_y</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.expand_y" title="Permalink to this definition">¶</a></dt>
<dd><p>expand the axes.  If an argument is passed, then it refers to the position relative to the current coordinates.  Values can be:
:0: set this side of the axis to 0
:None: leave this side of the axis alone
:a double: rescale the distance from the center of the axis to this side by this number</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.explain_error">
<code class="descclassname">pyspecdata.</code><code class="descname">explain_error</code><span class="sig-paren">(</span><em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.explain_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows you to wrap existing errors with more explanation</p>
<blockquote>
<div><p>For example:</p>
<p>&gt;    except BaseException  as e:
&gt;        raise IndexError(“I can’t find the node “+pathstring+explain_error(e))
&gt;                + ‘</p>
</div></blockquote>
<p>‘.join([‘&gt;      ‘+j for j in str(e).split(‘
‘)]))# this indents</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.fa">
<code class="descclassname">pyspecdata.</code><code class="descname">fa</code><span class="sig-paren">(</span><em>input</em>, <em>dtype='complex128'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fa" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.fftconvolve">
<code class="descclassname">pyspecdata.</code><code class="descname">fftconvolve</code><span class="sig-paren">(</span><em>in1</em>, <em>in2</em>, <em>mode='full'</em>, <em>axes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fftconvolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve two N-dimensional arrays using FFT.</p>
<p>Convolve <cite>in1</cite> and <cite>in2</cite> using the fast Fourier transform method, with
the output size determined by the <cite>mode</cite> argument.</p>
<p>This is generally much faster than <cite>convolve</cite> for large arrays (n &gt; ~500),
but can be slower when only a few output values are needed, and can only
output float arrays (int or object array inputs will be cast to float).</p>
<p>As of v0.19, <cite>convolve</cite> automatically chooses this method or the direct
method based on an estimation of which is faster.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>in1</strong> (<em>array_like</em>) – First input.</li>
<li><strong>in2</strong> (<em>array_like</em>) – Second input. Should have the same number of dimensions as <cite>in1</cite>.</li>
<li><strong>mode</strong> (<em>str {'full'</em><em>, </em><em>'valid'</em><em>, </em><em>'same'}</em><em>, </em><em>optional</em>) – <p>A string indicating the size of the output:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">full</span></code></dt>
<dd>The output is the full discrete linear convolution
of the inputs. (Default)</dd>
<dt><code class="docutils literal notranslate"><span class="pre">valid</span></code></dt>
<dd>The output consists only of those elements that do not
rely on the zero-padding. In ‘valid’ mode, either <cite>in1</cite> or <cite>in2</cite>
must be at least as large as the other in every dimension.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">same</span></code></dt>
<dd>The output is the same size as <cite>in1</cite>, centered
with respect to the ‘full’ output.
axis : tuple, optional</dd>
</dl>
</li>
<li><strong>axes</strong> (<em>int</em><em> or </em><em>array_like of ints</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Axes over which to compute the convolution.
The default is over all axes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> – An N-dimensional array containing a subset of the discrete linear
convolution of <cite>in1</cite> with <cite>in2</cite>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Autocorrelation of white noise is an impulse.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy</span> <span class="k">import</span> <span class="n">signal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sig</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">autocorr</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">fftconvolve</span><span class="p">(</span><span class="n">sig</span><span class="p">,</span> <span class="n">sig</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax_orig</span><span class="p">,</span> <span class="n">ax_mag</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;White noise&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_mag</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">sig</span><span class="p">)),</span> <span class="n">autocorr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_mag</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Autocorrelation&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Gaussian blur implemented using FFT convolution.  Notice the dark borders
around the image, due to the zero-padding beyond its boundaries.
The <cite>convolve2d</cite> function allows for other types of image boundaries,
but is far slower.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy</span> <span class="k">import</span> <span class="n">misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">face</span> <span class="o">=</span> <span class="n">misc</span><span class="o">.</span><span class="n">face</span><span class="p">(</span><span class="n">gray</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kernel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">outer</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">gaussian</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">signal</span><span class="o">.</span><span class="n">gaussian</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">blurred</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">fftconvolve</span><span class="p">(</span><span class="n">face</span><span class="p">,</span> <span class="n">kernel</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;same&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax_orig</span><span class="p">,</span> <span class="n">ax_kernel</span><span class="p">,</span> <span class="n">ax_blurred</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>                                                     <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">face</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_kernel</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">kernel</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_kernel</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Gaussian kernel&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_kernel</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_blurred</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">blurred</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_blurred</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Blurred&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_blurred</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="pyspecdata.figlist">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">figlist</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="pyspecdata.figlist.basename">
<code class="descname">basename</code><a class="headerlink" href="#pyspecdata.figlist.basename" title="Permalink to this definition">¶</a></dt>
<dd><p>A basename that can be changed to generate different sets of figures with different basenames.
For example, this is useful if you are looping over different sets of data,
and generating the same set of figures for each set of data (which would correspond to a basename).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figurelist">
<code class="descname">figurelist</code><a class="headerlink" href="#pyspecdata.figlist.figurelist" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the figure names</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.figdict">
<code class="descname">figdict</code><a class="headerlink" href="#pyspecdata.figlist.figdict" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary containing the figurelist and the figure numbers or objects that they correspond to.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.propdict">
<code class="descname">propdict</code><a class="headerlink" href="#pyspecdata.figlist.propdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Maintains various properties for each element in figurelist.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.adjust_spines">
<code class="descname">adjust_spines</code><span class="sig-paren">(</span><em>spines</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.adjust_spines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.check_units">
<code class="descname">check_units</code><span class="sig-paren">(</span><em>testdata</em>, <em>x_index</em>, <em>y_index</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.check_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.generate_ticks">
<code class="descname">generate_ticks</code><span class="sig-paren">(</span><em>plotdata</em>, <em>axes</em>, <em>rescale</em>, <em>z_norm=None</em>, <em>y_rescale=1</em>, <em>text_scale=0.05</em>, <em>verbose=False</em>, <em>follow_surface=False</em>, <em>lensoffset=0.005</em>, <em>line_width=0.001</em>, <em>tube_radius=0.001</em>, <em>fine_grid=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.generate_ticks" title="Permalink to this definition">¶</a></dt>
<dd><p>generate 3d ticks and grid for mayavi</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.get_fig_number">
<code class="descname">get_fig_number</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.get_fig_number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.grid">
<code class="descname">grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.grid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.header">
<code class="descname">header</code><span class="sig-paren">(</span><em>number_above</em>, <em>input_string</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.image">
<code class="descname">image</code><span class="sig-paren">(</span><em>A</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Called as <cite>fl.image()</cite> where <cite>fl</cite> is the <cite>figlist_var</cite>
object</p>
<p>Note that this code just wraps the figlist properties, and
the heavy lifting is done by the <cite>image(</cite> function.
Together, the effect is as follows:</p>
<ul>
<li><p class="first"><cite>check_units</cite> converts to human-readable units, and
makes sure they match the units already used in the plot.</p>
</li>
<li><p class="first">if <cite>A</cite> has more than two dimensions, the final dimension in
<cite>A.dimlabels</cite> is used as the column dimension, and a
direct-product of all non-column dimensions (a Kronecker
product, such that the innermost index comes the latest in
the list <cite>A.dimlabels</cite>) is used as the row dimension. A
white/black line is drawn after the innermost index used to
create the direct product is finished iterating.</p>
</li>
<li><p class="first">If <cite>A</cite> consists of complex data, then an HSV plot
(misnomer, actually an HV plot) is used:
- convert to polar form: <span class="math notranslate nohighlight">\(z=\rho \exp(i \phi)\)</span>
- <span class="math notranslate nohighlight">\(\phi\)</span> determines the color (Hue)</p>
<blockquote>
<div><ul class="simple">
<li>Color wheel is cyclical, like <span class="math notranslate nohighlight">\(\exp(i \phi)\)</span></li>
<li>red is taken as <span class="math notranslate nohighlight">\(\phi=0\)</span>, purely real and positive</li>
<li>green-blue is <span class="math notranslate nohighlight">\(pi\)</span> radians out of phase with red and
therefore negative real</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first"><span class="math notranslate nohighlight">\(\rho\)</span> determines the intensity (value)
- Depending on whether or not <cite>black</cite> is set (either as a</p>
<blockquote>
<div><p>keyword argument, or <cite>fl.black</cite>, the background will be
black with high <span class="math notranslate nohighlight">\(\rho\)</span> values “lit up” (intended for
screen plotting) or the background will be white with
the high <span class="math notranslate nohighlight">\(\rho\)</span> values “colored in” (intended for
printing)</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p class="first">If the data type (<cite>dtype</cite>) of the data in <cite>A</cite> is real
(typically achieved by calling <cite>abs(A)</cite> or
<cite>A.runcopy(real)</cite>), then <cite>A</cite> is plotted with a colormap and
corresponding colorbar.</p>
</li>
<li><p class="first">If no title has been given, it’s set to the name of the
current plot in the figurelist</p>
</li>
</ul>
<dl class="attribute">
<dt id="pyspecdata.figlist.A">
<code class="descname">A</code><a class="headerlink" href="#pyspecdata.figlist.A" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata">nddata</a> or numpy array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.x">
<code class="descname">x</code><a class="headerlink" href="#pyspecdata.figlist.x" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the x axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Optional[double] or Optional[scalar]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.y">
<code class="descname">y</code><a class="headerlink" href="#pyspecdata.figlist.y" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the y axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">Optional[double] or Optional[scalar]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.x_first">
<code class="descname">x_first</code><a class="headerlink" href="#pyspecdata.figlist.x_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Since it’s designed to represent matrices, an image plot
by defaults is “transposed” relative to all other plots.
If you want the first dimension on the x-axis (<em>e.g.</em>, if
you are plotting a contour plot on top of an image), then set
<cite>x_first</cite> to <cite>True</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.spacing">
<code class="descname">spacing</code><a class="headerlink" href="#pyspecdata.figlist.spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the size of the white/black line drawn
Defaults to 1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.ax">
<code class="descname">ax</code><a class="headerlink" href="#pyspecdata.figlist.ax" title="Permalink to this definition">¶</a></dt>
<dd><p>the Axis object where the plot should go.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">matplotlib Axes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">all remaning</code></dt>
<dd><p>are passed through to matplotlib <cite>imshow</cite></p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist.origin">
<code class="descname">origin</code><a class="headerlink" href="#pyspecdata.figlist.origin" title="Permalink to this definition">¶</a></dt>
<dd><p>upper and lower are passed to matplotlib.
Flip is for 2D nmr, and flips the data manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">{‘upper’, ‘lower’, ‘flip’}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">.. code-block:: python</code></dt>
<dd><p>from pyspecdata import *
fl = figlist_var()</p>
<p>t = r_[-1:1:300j]
x = nddata(t,[-1],[‘x’]).labels(‘x’,t)
y = nddata(t,[-1],[‘y’]).labels(‘y’,t)</p>
<p>z = x**2 + 2*y**2
print “dimlabels of z:”,z.dimlabels</p>
<p>fl.next(‘image with contours’)
fl.image(z,x_first = True) #  x_first is needed to align
#                             with the contour plot
z.contour(colors = ‘w’,alpha = 0.75)</p>
<p>fl.next(‘simple plot’) #  just to show that x is the same
#                         here as well
fl.plot(z[‘y’:(0,0.01)])</p>
<p>fl.show(‘compare_image_contour_150911.pdf’)</p>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.label_point">
<code class="descname">label_point</code><span class="sig-paren">(</span><em>data</em>, <em>axis</em>, <em>value</em>, <em>thislabel</em>, <em>show_point=True</em>, <em>xscale=1</em>, <em>**new_kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.label_point" title="Permalink to this definition">¶</a></dt>
<dd><p>only works for 1D data: assume you’ve passed a single-point nddata, and label it</p>
<p>xscale gives the unit scaling</p>
<p>..todo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Improve</span> <span class="n">the</span> <span class="n">unit</span> <span class="n">scaling</span><span class="p">,</span> <span class="n">so</span> <span class="n">that</span> <span class="n">this</span> <span class="n">would</span> <span class="n">also</span> <span class="n">work</span><span class="o">.</span>

<span class="n">Allow</span> <span class="n">it</span> <span class="n">to</span> <span class="n">include</span> <span class="n">a</span> <span class="nb">format</span> <span class="n">string</span> <span class="n">that</span> <span class="n">would</span> <span class="n">use</span> <span class="n">the</span> <span class="n">value</span><span class="o">.</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>show_point</strong> (<em>bool</em>) – Defaults to <cite>True</cite>. Actually generate a point (circle), <em>vs.</em>
just the label.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.marked_text">
<code class="descname">marked_text</code><span class="sig-paren">(</span><em>marker</em>, <em>input_text=''</em>, <em>sep='\n'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.marked_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a named <cite>marker</cite> where we can place text.   If <cite>marker</cite>
has been used, goes back and places text there.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.mesh">
<code class="descname">mesh</code><span class="sig-paren">(</span><em>plotdata</em>, <em>Z_normalization=None</em>, <em>equal_scale=True</em>, <em>lensoffset=0.001</em>, <em>show_contours=False</em>, <em>grey_surf=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.mesh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.next">
<code class="descname">next</code><span class="sig-paren">(</span><em>input_name</em>, <em>legend=False</em>, <em>boundaries=None</em>, <em>twinx=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to the figure given by input_name, which is used not only as
a string-based name for the figure, but also as a default title and as
a base name for resulting figure files.</p>
<p><strong>In the future, we actually want this to track the appropriate axis object!</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>legend</strong> (<em>bool</em>) – If this is set, a legend is created <em>outside</em> the figure.</li>
<li><strong>twinx</strong> (<em>{0</em><em>,</em><em>1}</em>) – <table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">1:</th><td class="field-body">plots on an overlayed axis (the matplotlib twinx) whose y axis
is labeled on the right when you set this for the first time, you
can also set a <cite>color</cite> kwarg that controls the coloring of the
right axis.</td>
</tr>
<tr class="field-even field"><th class="field-name">0:</th><td class="field-body">used to switch back to the left (default) axis</td>
</tr>
</tbody>
</table>
</li>
<li><strong>boundaries</strong> – <strong>need to add description</strong></li>
<li><strong>kwargs</strong> (<em>dict</em>) – Any other keyword arguments are passed to the matplotlib (mayavi)
figure() function that’s used to switch (create) figures.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.phaseplot_finalize">
<code class="descname">phaseplot_finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.phaseplot_finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs plot decorations that are typically desired for a manual phasing plot.  This assumes that the <code class="docutils literal notranslate"><span class="pre">y</span></code>-axis is given in units of half-cycles ($pi$ radians).</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.plot" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>linestyle</strong> (<em>{':'</em><em>,</em><em>'--'</em><em>,</em><em>'.'</em><em>,</em><em>'etc.'}</em>) – the style of the line</li>
<li><strong>plottype</strong> (<em>{'semilogy'</em><em>,</em><em>'semilogx'</em><em>,</em><em>'loglog'}</em>) – Select a logarithmic plotting style.</li>
<li><strong>nosemilog</strong> (<em>True</em>) – Typically, if you supply a log-spaced axis,
a semilogx plot will be automatically selected.
This overrides that behavior.
Defaults to False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.pop_marker">
<code class="descname">pop_marker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.pop_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.push_marker">
<code class="descname">push_marker</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.push_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.setprops">
<code class="descname">setprops</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.setprops" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.show_prep">
<code class="descname">show_prep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.show_prep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.text">
<code class="descname">text</code><span class="sig-paren">(</span><em>mytext</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.twinx">
<code class="descname">twinx</code><span class="sig-paren">(</span><em>autopad=False</em>, <em>orig=False</em>, <em>color=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.twinx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.figlist.use_autolegend">
<code class="descname">use_autolegend</code><span class="sig-paren">(</span><em>value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.use_autolegend" title="Permalink to this definition">¶</a></dt>
<dd><p>No argument sets to true if it’s not already set</p>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.figlist_var">
<code class="descclassname">pyspecdata.</code><code class="descname">figlist_var</code><a class="headerlink" href="#pyspecdata.figlist_var" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="../generated/pyspecdata.core.figlist.html#pyspecdata.core.figlist" title="pyspecdata.core.figlist"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.figlist</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.figlistini">
<code class="descclassname">pyspecdata.</code><code class="descname">figlistini</code><span class="sig-paren">(</span><em>first_figure</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlistini" title="Permalink to this definition">¶</a></dt>
<dd><p>processes a figure list argument:
typically, you want to have a figure_list keyword argument for every function, which is by default set to None, then call this on the argument – it always returns a figure list, creating a new one if required
similarly, somewhere I have another guy that processes the output, so that if it’s set to None, it will by default dump and show the figure list,
and not return a figure list in the output</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.figlistini_old">
<code class="descclassname">pyspecdata.</code><code class="descname">figlistini_old</code><span class="sig-paren">(</span><em>first_figure</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlistini_old" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.figlistret">
<code class="descclassname">pyspecdata.</code><code class="descname">figlistret</code><span class="sig-paren">(</span><em>first_figure</em>, <em>figure_list</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlistret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.find_file">
<code class="descclassname">pyspecdata.</code><code class="descname">find_file</code><span class="sig-paren">(</span><em>searchstring</em>, <em>exp_type=None</em>, <em>postproc=None</em>, <em>print_result=True</em>, <em>verbose=False</em>, <em>prefilter=None</em>, <em>expno=None</em>, <em>dimname=''</em>, <em>return_acq=False</em>, <em>add_sizes=[]</em>, <em>add_dims=[]</em>, <em>use_sweep=None</em>, <em>indirect_dimlabels=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.find_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the file  given by the regular expression <cite>searchstring</cite> inside the directory identified by <cite>exp_type</cite>, load the nddata object, and postprocess with the function <cite>postproc</cite>.</p>
<p>It looks at the top level of the directory first, and if that fails, starts to look recursively.
Whenever it finds a file in the current directory, it will not return data from files in the directories underneath.</p>
<p>It calls <a class="reference internal" href="../temp_stubs.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a>, which finds the specific routine from inside one of the modules (sub-packages) associated with a particular file-type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>searchstring</strong> (<em>str</em>) – Most commonly, this is just a fragment of the file name,
with any literal <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">.</span></code>, or <code class="docutils literal notranslate"><span class="pre">?</span></code> characters preceded by
a backslash.
More generally, it is a regular expression,
where <code class="docutils literal notranslate"><span class="pre">.*searchstring.*</span></code> matches a filename inside the
directory appropriate for <cite>exp_type</cite>.</li>
<li><strong>expno</strong> (<em>int</em>) – For Bruker NMR and Prospa files, where the files are stored in numbered
subdirectories,
give the number of the subdirectory that you want.
Currently, this parameter is needed to load Bruker and Kea files.
If it finds multiple files that match the regular expression,
it will try to load this experiment number from all the directories.</li>
<li><strong>exp_type</strong> (<em>str</em>) – Since the function assumes that you have different types of
experiments sorted into different directories, this argument
specifies the type of experiment see <a class="reference internal" href="#pyspecdata.datadir.getDATADIR" title="pyspecdata.datadir.getDATADIR"><code class="xref py py-func docutils literal notranslate"><span class="pre">getDATADIR()</span></code></a> for
more info.</li>
<li><strong>postproc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a><em>, </em><em>str</em><em>, or </em><em>None</em>) – <p>This function is fed the nddata data and the remaining keyword
arguments (<cite>kwargs</cite>) as arguments.
It’s assumed that each module for each different file type
provides a dictionary called <cite>postproc_lookup</cite>.
If <cite>postproc</cite> is a string,
it looks up the string inside the <cite>postproc_lookup</cite>
dictionary that’s appropriate for the file type.
If <cite>postproc</cite> is None,
it checks to see if the any of the loading functions that were
called set the <cite>postproc_type</cite> property
– <em>i.e.</em> it checks the value of
<code class="docutils literal notranslate"><span class="pre">data.get_prop('postproc_type')</span></code> –
if this is set, it uses this as a key
to pull the corresponding value from <cite>postproc_lookup</cite>.</p>
<p>For instance, when the acert module loads an ACERT HDF5 file,
it sets <cite>postproc_type</cite> to the value of
<code class="docutils literal notranslate"><span class="pre">(h5</span> <span class="pre">root).experiment.description['class']</span></code>.
This, in turn, is used to choose the type of post-processing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">dimname:</th><td class="field-body">passed to <a class="reference internal" href="../temp_stubs.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">return_acq:</th><td class="field-body">passed to <a class="reference internal" href="../temp_stubs.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">add_sizes:</th><td class="field-body">passed to <a class="reference internal" href="../temp_stubs.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">add_dims:</th><td class="field-body">passed to <a class="reference internal" href="../temp_stubs.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">use_sweep:</th><td class="field-body">passed to <a class="reference internal" href="../temp_stubs.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">indirect_dimlabels:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">passed to <a class="reference internal" href="../temp_stubs.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></td>
</tr>
</tbody>
</table>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pyspecdata.fitdata">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">fitdata</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
<dl class="method">
<dt id="pyspecdata.fitdata.add_inactive_p">
<code class="descname">add_inactive_p</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.add_inactive_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.analytical_covariance">
<code class="descname">analytical_covariance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.analytical_covariance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.bootstrap">
<code class="descname">bootstrap</code><span class="sig-paren">(</span><em>points</em>, <em>swap_out=None</em>, <em>seedval=10347</em>, <em>minbounds={}</em>, <em>maxbounds={}</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.bootstrap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full copy of this instance.</p>
<p>Because methods typically change the data in place, you might want to
use this frequently.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>boolean</em>) – <p>Default to True.
False doesn’t copy the data – this is for internal use,
<em>e.g.</em> when you want to copy all the metadata and perform a
calculation on the data.</p>
<p>The code for this also provides the definitive list of the
nddata metadata.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.covar">
<code class="descname">covar</code><span class="sig-paren">(</span><em>*names</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.covar" title="Permalink to this definition">¶</a></dt>
<dd><p>give the covariance for the different symbols</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.covarmat">
<code class="descname">covarmat</code><span class="sig-paren">(</span><em>*names</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.covarmat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.errfunc">
<code class="descname">errfunc</code><span class="sig-paren">(</span><em>p</em>, <em>x</em>, <em>y</em>, <em>sigma</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.errfunc" title="Permalink to this definition">¶</a></dt>
<dd><p>just the error function</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.eval">
<code class="descname">eval</code><span class="sig-paren">(</span><em>taxis</em>, <em>set=None</em>, <em>set_to=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>after we have fit, evaluate the fit function along the axis taxis
set and set_to allow you to forcibly set a specific symbol to a specific value –&gt; however, this does not affect the class, but only the return value</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>set=None</em>, <em>set_to=None</em>, <em>force_analytical=False</em>, <em>silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>actually run the fit</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.fitfunc">
<code class="descname">fitfunc</code><span class="sig-paren">(</span><em>p</em>, <em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.fitfunc" title="Permalink to this definition">¶</a></dt>
<dd><p>this wraps fitfunc_raw (which gives the actual form of the fit function) to take care of forced variables</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.gen_indices">
<code class="descname">gen_indices</code><span class="sig-paren">(</span><em>this_set</em>, <em>set_to</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.gen_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>pass this this_set and this_set_to parameters, and it will return:
indices,values,mask
indices –&gt; gives the indices that are forced
values –&gt; the values they are forced to
mask –&gt; p[mask] are actually active in the fit</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.gen_symbolic">
<code class="descname">gen_symbolic</code><span class="sig-paren">(</span><em>function_name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.gen_symbolic" title="Permalink to this definition">¶</a></dt>
<dd><p>generates the symbolic representations the function</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.guess">
<code class="descname">guess</code><span class="sig-paren">(</span><em>verbose=False</em>, <em>super_verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.guess" title="Permalink to this definition">¶</a></dt>
<dd><p>provide the guess for our parameters; by default, based on pseudoinverse</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.latex">
<code class="descname">latex</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.latex" title="Permalink to this definition">¶</a></dt>
<dd><p>show the latex string for the function, with all the symbols substituted by their values</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.linear">
<code class="descname">linear</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.linear" title="Permalink to this definition">¶</a></dt>
<dd><p>return the linear-form function, either smoothly along the fit function, or on the raw data, depending on whether or not the taxis argument is given
can take optional arguments and pass them on to eval</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.makereal">
<code class="descname">makereal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.makereal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.output">
<code class="descname">output</code><span class="sig-paren">(</span><em>*name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.output" title="Permalink to this definition">¶</a></dt>
<dd><p>give the fit value of a particular symbol</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.parameter_derivatives">
<code class="descname">parameter_derivatives</code><span class="sig-paren">(</span><em>xvals</em>, <em>set=None</em>, <em>set_to=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.parameter_derivatives" title="Permalink to this definition">¶</a></dt>
<dd><p>return a matrix containing derivatives of the parameters, can set dict set, or keys set, vals set_to</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.parameter_gradient">
<code class="descname">parameter_gradient</code><span class="sig-paren">(</span><em>p</em>, <em>x</em>, <em>y</em>, <em>sigma</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.parameter_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>this gives the specific format wanted by leastsq</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.pinv">
<code class="descname">pinv</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.pinv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.remove_inactive_p">
<code class="descname">remove_inactive_p</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.remove_inactive_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>previous</em>, <em>new</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.rename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.fitdata.settoguess">
<code class="descname">settoguess</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.settoguess" title="Permalink to this definition">¶</a></dt>
<dd><p>a debugging function, to easily plot the initial guess</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.format_listofexps">
<code class="descclassname">pyspecdata.</code><code class="descname">format_listofexps</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.format_listofexps" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Phased out</strong>: leaving documentation so we can interpret and update old code</p>
<p>This is an auxiliary function that’s used to decode the experiment list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>args</strong> (<em>list</em><em> or </em><em>tuple</em>) – <p>can be in one of two formats
:<code class="docutils literal notranslate"><span class="pre">(dirname,[i,j,k,...N])</span></code>:  typically used, <em>e.g.</em> for</p>
<blockquote>
<div>Bruker NMR experiments.  <code class="docutils literal notranslate"><span class="pre">i,j,...N</span></code> are integer numbers
referring to individual experiments that are stored in
subdirectories of <cite>dirname</cite> (a string).</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2"><code class="docutils literal notranslate"><span class="pre">([exp_name1,...,exp_nameN])</span></code>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">just return this list of
experiments given by the strings
<cite>exp_name1</cite>…`exp_nameN`.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2"><code class="docutils literal notranslate"><span class="pre">([exp_name1,...,exp_nameN],[])</span></code>:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">identical to previous</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2"><code class="docutils literal notranslate"><span class="pre">([exp_name1,...,exp_nameN],[])</span></code>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">identical to previous</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2"><code class="docutils literal notranslate"><span class="pre">(exp_name1,...,exp_nameN)</span></code>:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">identical to previous</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2"><code class="docutils literal notranslate"><span class="pre">(exp_name)</span></code> or <code class="docutils literal notranslate"><span class="pre">(exp_name,[])</span></code>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">works for a single
experiment</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pyspecdata.function">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">function</code><span class="sig-paren">(</span><em>code</em>, <em>globals</em><span class="optional">[</span>, <em>name</em><span class="optional">[</span>, <em>argdefs</em><span class="optional">[</span>, <em>closure</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.function" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create a function object from a code object and a dictionary.
The optional name string overrides the name from the code object.
The optional argdefs tuple specifies the default argument values.
The optional closure tuple supplies the bindings for free variables.</p>
<dl class="attribute">
<dt id="pyspecdata.function.func_closure">
<code class="descname">func_closure</code><a class="headerlink" href="#pyspecdata.function.func_closure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.function.func_code">
<code class="descname">func_code</code><a class="headerlink" href="#pyspecdata.function.func_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.function.func_defaults">
<code class="descname">func_defaults</code><a class="headerlink" href="#pyspecdata.function.func_defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.function.func_dict">
<code class="descname">func_dict</code><a class="headerlink" href="#pyspecdata.function.func_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.function.func_doc">
<code class="descname">func_doc</code><a class="headerlink" href="#pyspecdata.function.func_doc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.function.func_globals">
<code class="descname">func_globals</code><a class="headerlink" href="#pyspecdata.function.func_globals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyspecdata.function.func_name">
<code class="descname">func_name</code><a class="headerlink" href="#pyspecdata.function.func_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.gensearch">
<code class="descclassname">pyspecdata.</code><code class="descname">gensearch</code><span class="sig-paren">(</span><em>labelname</em>, <em>format='%0.3f'</em>, <em>value=None</em>, <em>precision=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.gensearch" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – use h5gensearch</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.getDATADIR">
<code class="descclassname">pyspecdata.</code><code class="descname">getDATADIR</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.getDATADIR" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the base directory where you put all your data.  If arguments
are passed, it returns the directory underneath the data directory, ending
in a trailing (back)slash</p>
<p>It is determined by a call to <cite>MyConfig.get_setting</cite> with the setting name
<cite>data_directory</cite> and the environment variable set to <code class="docutils literal notranslate"><span class="pre">PYTHON_DATA_DIR</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>exp_type</strong> (<em>str</em>) – <p>A string identifying the experiment type.
It searches for <cite>exp_type</cite> in this order:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>Look in the <code class="docutils literal notranslate"><span class="pre">ExpTypes</span></code> section of the config file.</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Note that by using this, you can store data in locations other</dt>
<dd>than your main data directory.
For example, consider the following section of the
<code class="docutils literal notranslate"><span class="pre">~/.pyspecdata</span></code> config file:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">[ExpTypes]</span>
<span class="pre">alternate_base</span> <span class="pre">=</span> <span class="pre">/opt/other_data</span>
<span class="pre">alternate_type_one</span> <span class="pre">=</span> <span class="pre">%(alternate_base)s/type_one</span>
<span class="pre">`</span></code>
which would find data with <cite>exp_type</cite> <code class="docutils literal notranslate"><span class="pre">alternate_type_one</span></code> in
<code class="docutils literal notranslate"><span class="pre">/opt/other_data/type_one</span></code>.</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>use <cite>os.walk</cite> to search for a directory with this name</dt>
<dd>inside the directory identified by <cite>experimental_data</cite>.
excluding things that start with ‘.’, ‘_’ or
containing ‘.hfssresults’, always choosing the
thing that’s highest up in the tree.
If it doesn’t find a directory inside <cite>experimental_data</cite>, it will
search inside all the directories already listed in <cite>ExpTypes</cite>.
Currently, in both attempts, it will only walk 2 levels deep (since NMR directories
can be rather complex, and otherwise it would take forever).</dd>
</dl>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.getargspec">
<code class="descclassname">pyspecdata.</code><code class="descname">getargspec</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.getargspec" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the names and default values of a function’s arguments.</p>
<p>A tuple of four things is returned: (args, varargs, varkw, defaults).
‘args’ is a list of the argument names (it may contain nested lists).
‘varargs’ and ‘varkw’ are the names of the * and ** arguments or None.
‘defaults’ is an n-tuple of the default values of the last n arguments.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.gridandtick">
<code class="descclassname">pyspecdata.</code><code class="descname">gridandtick</code><span class="sig-paren">(</span><em>ax</em>, <em>rotation=(0</em>, <em>0)</em>, <em>precision=(2</em>, <em>2)</em>, <em>labelstring=(''</em>, <em>'')</em>, <em>gridcolor=None</em>, <em>formatonly=False</em>, <em>fixed_y_locator=None</em>, <em>logarithmic=False</em>, <em>use_grid=True</em>, <em>spines=None</em>, <em>y=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.gridandtick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.gridon">
<code class="descclassname">pyspecdata.</code><code class="descname">gridon</code><span class="sig-paren">(</span><em>gridcolor=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.gridon" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.h5addrow">
<code class="descclassname">pyspecdata.</code><code class="descname">h5addrow</code><span class="sig-paren">(</span><em>bottomnode</em>, <em>tablename</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5addrow" title="Permalink to this definition">¶</a></dt>
<dd><p>add a row to a table, creating it if necessary, but don’t add if the data matches the search condition indicated by <cite>match_row</cite>
<cite>match_row</cite> can be either text or a dictionary – in the latter case it’s passed to h5searchstring</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.h5attachattributes">
<code class="descclassname">pyspecdata.</code><code class="descname">h5attachattributes</code><span class="sig-paren">(</span><em>node</em>, <em>listofattributes</em>, <em>myvalues</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5attachattributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.h5child">
<code class="descclassname">pyspecdata.</code><code class="descname">h5child</code><span class="sig-paren">(</span><em>thisnode</em>, <em>childname</em>, <em>clear=False</em>, <em>create=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5child" title="Permalink to this definition">¶</a></dt>
<dd><p>grab the child, optionally clearing it and/or (by default) creating it</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.h5inlist">
<code class="descclassname">pyspecdata.</code><code class="descname">h5inlist</code><span class="sig-paren">(</span><em>columnname</em>, <em>mylist</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5inlist" title="Permalink to this definition">¶</a></dt>
<dd><p>returns rows where the column named columnname is in the value of mylist</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.h5join">
<code class="descclassname">pyspecdata.</code><code class="descname">h5join</code><span class="sig-paren">(</span><em>firsttuple</em>, <em>secondtuple</em>, <em>additional_search=''</em>, <em>select_fields=None</em>, <em>pop_fields=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5join" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.h5loaddict">
<code class="descclassname">pyspecdata.</code><code class="descname">h5loaddict</code><span class="sig-paren">(</span><em>thisnode</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5loaddict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.h5nodebypath">
<code class="descclassname">pyspecdata.</code><code class="descname">h5nodebypath</code><span class="sig-paren">(</span><em>h5path</em>, <em>verbose=False</em>, <em>force=False</em>, <em>only_lowest=False</em>, <em>check_only=False</em>, <em>directory='.'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5nodebypath" title="Permalink to this definition">¶</a></dt>
<dd><p>return the node based on an absolute path, including the filename</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.h5remrows">
<code class="descclassname">pyspecdata.</code><code class="descname">h5remrows</code><span class="sig-paren">(</span><em>bottomnode</em>, <em>tablename</em>, <em>searchstring</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5remrows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.h5searchstring">
<code class="descclassname">pyspecdata.</code><code class="descname">h5searchstring</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5searchstring" title="Permalink to this definition">¶</a></dt>
<dd><p>generate robust search strings
:parameter fieldname,value:
search AROUND a certain value (overcomes some type conversion issues) optional arguments are the format specifier and the fractional precision:
<strong>OR</strong>
:parameter field_and_value_dictionary:
generate a search string that matches one or more criteria</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.h5table">
<code class="descclassname">pyspecdata.</code><code class="descname">h5table</code><span class="sig-paren">(</span><em>bottomnode</em>, <em>tablename</em>, <em>tabledata</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5table" title="Permalink to this definition">¶</a></dt>
<dd><p>create the table, or if tabledata is None, just check if it exists</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.image">
<code class="descclassname">pyspecdata.</code><code class="descname">image</code><span class="sig-paren">(</span><em>A</em>, <em>x=[]</em>, <em>y=[]</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Please don’t call image directly anymore – use the image method of figurelist</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.init_logging">
<code class="descclassname">pyspecdata.</code><code class="descname">init_logging</code><span class="sig-paren">(</span><em>level=20</em>, <em>filename='pyspecdata.log'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.init_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize logging on pyspecdata.log – do NOT log if run from within a notebook (it’s fair to assume that you will run first before embedding)</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.inside_sphinx">
<code class="descclassname">pyspecdata.</code><code class="descname">inside_sphinx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.inside_sphinx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.interp1d">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">interp1d</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>kind='linear'</em>, <em>axis=-1</em>, <em>copy=True</em>, <em>bounds_error=None</em>, <em>fill_value=nan</em>, <em>assume_sorted=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.interp1d" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.interpolate.polyint._Interpolator1D</span></code></p>
<p>Interpolate a 1-D function.</p>
<p><cite>x</cite> and <cite>y</cite> are arrays of values used to approximate some function f:
<code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">f(x)</span></code>.  This class returns a function whose call method uses
interpolation to find the value of new points.</p>
<p>Note that calling <cite>interp1d</cite> with NaNs present in input values results in
undefined behaviour.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> (<em>(</em><em>N</em><em>,</em><em>) </em><em>array_like</em>) – A 1-D array of real values.</li>
<li><strong>y</strong> (<em>(</em><em>..</em><em>,</em><em>N</em><em>,</em><em>..</em><em>) </em><em>array_like</em>) – A N-D array of real values. The length of <cite>y</cite> along the interpolation
axis must be equal to the length of <cite>x</cite>.</li>
<li><strong>kind</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Specifies the kind of interpolation as a string
(‘linear’, ‘nearest’, ‘zero’, ‘slinear’, ‘quadratic’, ‘cubic’,
‘previous’, ‘next’, where ‘zero’, ‘slinear’, ‘quadratic’ and ‘cubic’
refer to a spline interpolation of zeroth, first, second or third
order; ‘previous’ and ‘next’ simply return the previous or next value
of the point) or as an integer specifying the order of the spline
interpolator to use.
Default is ‘linear’.</li>
<li><strong>axis</strong> (<em>int</em><em>, </em><em>optional</em>) – Specifies the axis of <cite>y</cite> along which to interpolate.
Interpolation defaults to the last axis of <cite>y</cite>.</li>
<li><strong>copy</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the class makes internal copies of x and y.
If False, references to <cite>x</cite> and <cite>y</cite> are used. The default is to copy.</li>
<li><strong>bounds_error</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, a ValueError is raised any time interpolation is attempted on
a value outside of the range of x (where extrapolation is
necessary). If False, out of bounds values are assigned <cite>fill_value</cite>.
By default, an error is raised unless <cite>fill_value=”extrapolate”</cite>.</li>
<li><strong>fill_value</strong> (<em>array-like</em><em> or </em><em>(</em><em>array-like</em><em>, </em><em>array_like</em><em>) or </em><em>&quot;extrapolate&quot;</em><em>, </em><em>optional</em>) – <ul>
<li>if a ndarray (or float), this value will be used to fill in for
requested points outside of the data range. If not provided, then
the default is NaN. The array-like must broadcast properly to the
dimensions of the non-interpolation axes.</li>
<li>If a two-element tuple, then the first element is used as a
fill value for <code class="docutils literal notranslate"><span class="pre">x_new</span> <span class="pre">&lt;</span> <span class="pre">x[0]</span></code> and the second element is used for
<code class="docutils literal notranslate"><span class="pre">x_new</span> <span class="pre">&gt;</span> <span class="pre">x[-1]</span></code>. Anything that is not a 2-element tuple (e.g.,
list or ndarray, regardless of shape) is taken to be a single
array-like argument meant to be used for both bounds as
<code class="docutils literal notranslate"><span class="pre">below,</span> <span class="pre">above</span> <span class="pre">=</span> <span class="pre">fill_value,</span> <span class="pre">fill_value</span></code>.<div class="versionadded">
<p><span class="versionmodified">New in version 0.17.0.</span></p>
</div>
</li>
<li>If “extrapolate”, then points outside the data range will be
extrapolated.<div class="versionadded">
<p><span class="versionmodified">New in version 0.17.0.</span></p>
</div>
</li>
</ul>
</li>
<li><strong>assume_sorted</strong> (<em>bool</em><em>, </em><em>optional</em>) – If False, values of <cite>x</cite> can be in any order and they are sorted first.
If True, <cite>x</cite> has to be an array of monotonically increasing values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyspecdata.interp1d.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.interp1d.__call__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">splrep</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">splev</span></code></p>
<dl class="last docutils">
<dt><a class="reference internal" href="#pyspecdata.UnivariateSpline" title="pyspecdata.UnivariateSpline"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnivariateSpline</span></code></a></dt>
<dd>An object-oriented wrapper of the FITPACK routines.</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">interp2d</span></code></dt>
<dd>2-D interpolation</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy</span> <span class="k">import</span> <span class="n">interpolate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">/</span><span class="mf">3.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">interpolate</span><span class="o">.</span><span class="n">interp1d</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xnew</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ynew</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">xnew</span><span class="p">)</span>   <span class="c1"># use interpolation function returned by `interp1d`</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">xnew</span><span class="p">,</span> <span class="n">ynew</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="pyspecdata.interp1d.fill_value">
<code class="descname">fill_value</code><a class="headerlink" href="#pyspecdata.interp1d.fill_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.ismethod">
<code class="descclassname">pyspecdata.</code><code class="descname">ismethod</code><span class="sig-paren">(</span><em>object</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ismethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the object is an instance method.</p>
<dl class="docutils">
<dt>Instance method objects provide these attributes:</dt>
<dd>__doc__         documentation string
__name__        name with which this method was defined
im_class        class object in which this method belongs
im_func         function object containing implementation of method
im_self         instance to which this method is bound, or None</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.issympy">
<code class="descclassname">pyspecdata.</code><code class="descname">issympy</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.issympy" title="Permalink to this definition">¶</a></dt>
<dd><p>tests if something is sympy (based on the module name)</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.join_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">join_rec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.join_rec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.lambda_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">lambda_rec</code><span class="sig-paren">(</span><em>myarray</em>, <em>myname</em>, <em>myfunction</em>, <em>*varargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lambda_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>make a new field “myname” which consists of “myfunction” evaluated with the fields given by “myargs” as arguments
the new field is always placed after the last argument name
if myname is in myargs, the original row is popped</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.leastsq">
<code class="descclassname">pyspecdata.</code><code class="descname">leastsq</code><span class="sig-paren">(</span><em>func</em>, <em>x0</em>, <em>args=()</em>, <em>Dfun=None</em>, <em>full_output=0</em>, <em>col_deriv=0</em>, <em>ftol=1.49012e-08</em>, <em>xtol=1.49012e-08</em>, <em>gtol=0.0</em>, <em>maxfev=0</em>, <em>epsfcn=None</em>, <em>factor=100</em>, <em>diag=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.leastsq" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimize the sum of squares of a set of equations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">arg</span> <span class="nb">min</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
         <span class="n">y</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>callable</em>) – should take at least one (possibly length N vector) argument and
returns M floating point numbers. It must not return NaNs or
fitting might fail.</li>
<li><strong>x0</strong> (<em>ndarray</em>) – The starting estimate for the minimization.</li>
<li><strong>args</strong> (<em>tuple</em><em>, </em><em>optional</em>) – Any extra arguments to func are placed in this tuple.</li>
<li><strong>Dfun</strong> (<em>callable</em><em>, </em><em>optional</em>) – A function or method to compute the Jacobian of func with derivatives
across the rows. If this is None, the Jacobian will be estimated.</li>
<li><strong>full_output</strong> (<em>bool</em><em>, </em><em>optional</em>) – non-zero to return all optional outputs.</li>
<li><strong>col_deriv</strong> (<em>bool</em><em>, </em><em>optional</em>) – non-zero to specify that the Jacobian function computes derivatives
down the columns (faster, because there is no transpose operation).</li>
<li><strong>ftol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative error desired in the sum of squares.</li>
<li><strong>xtol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative error desired in the approximate solution.</li>
<li><strong>gtol</strong> (<em>float</em><em>, </em><em>optional</em>) – Orthogonality desired between the function vector and the columns of
the Jacobian.</li>
<li><strong>maxfev</strong> (<em>int</em><em>, </em><em>optional</em>) – The maximum number of calls to the function. If <cite>Dfun</cite> is provided
then the default <cite>maxfev</cite> is 100*(N+1) where N is the number of elements
in x0, otherwise the default <cite>maxfev</cite> is 200*(N+1).</li>
<li><strong>epsfcn</strong> (<em>float</em><em>, </em><em>optional</em>) – A variable used in determining a suitable step length for the forward-
difference approximation of the Jacobian (for Dfun=None).
Normally the actual step length will be sqrt(epsfcn)*x
If epsfcn is less than the machine precision, it is assumed that the
relative errors are of the order of the machine precision.</li>
<li><strong>factor</strong> (<em>float</em><em>, </em><em>optional</em>) – A parameter determining the initial step bound
(<code class="docutils literal notranslate"><span class="pre">factor</span> <span class="pre">*</span> <span class="pre">||</span> <span class="pre">diag</span> <span class="pre">*</span> <span class="pre">x||</span></code>). Should be in interval <code class="docutils literal notranslate"><span class="pre">(0.1,</span> <span class="pre">100)</span></code>.</li>
<li><strong>diag</strong> (<em>sequence</em><em>, </em><em>optional</em>) – N positive entries that serve as a scale factors for the variables.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul>
<li><p class="first"><strong>x</strong> (<em>ndarray</em>) – The solution (or the result of the last iteration for an unsuccessful
call).</p>
</li>
<li><p class="first"><strong>cov_x</strong> (<em>ndarray</em>) – Uses the fjac and ipvt optional outputs to construct an
estimate of the jacobian around the solution. None if a
singular matrix encountered (indicates very flat curvature in
some direction).  This matrix must be multiplied by the
residual variance to get the covariance of the
parameter estimates – see curve_fit.</p>
</li>
<li><p class="first"><strong>infodict</strong> (<em>dict</em>) – a dictionary of optional outputs with the key s:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">nfev</span></code></dt>
<dd><p class="first last">The number of function calls</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fvec</span></code></dt>
<dd><p class="first last">The function evaluated at the output</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fjac</span></code></dt>
<dd><p class="first last">A permutation of the R matrix of a QR
factorization of the final approximate
Jacobian matrix, stored column wise.
Together with ipvt, the covariance of the
estimate can be approximated.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ipvt</span></code></dt>
<dd><p class="first last">An integer array of length N which defines
a permutation matrix, p, such that
fjac*p = q*r, where r is upper triangular
with diagonal elements of nonincreasing
magnitude. Column j of p is column ipvt(j)
of the identity matrix.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">qtf</span></code></dt>
<dd><p class="first last">The vector (transpose(q) * fvec).</p>
</dd>
</dl>
</li>
<li><p class="first"><strong>mesg</strong> (<em>str</em>) – A string message giving information about the cause of failure.</p>
</li>
<li><p class="first"><strong>ier</strong> (<em>int</em>) – An integer flag.  If it is equal to 1, 2, 3 or 4, the solution was
found.  Otherwise, the solution was not found. In either case, the
optional output variable ‘mesg’ gives more information.</p>
</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>“leastsq” is a wrapper around MINPACK’s lmdif and lmder algorithms.</p>
<p>cov_x is a Jacobian approximation to the Hessian of the least squares
objective function.
This approximation assumes that the objective function is based on the
difference between some observed target data (ydata) and a (non-linear)
function of the parameters <cite>f(xdata, params)</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="n">params</span><span class="p">)</span> <span class="o">=</span> <span class="n">ydata</span> <span class="o">-</span> <span class="n">f</span><span class="p">(</span><span class="n">xdata</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</pre></div>
</div>
<p>so that the objective function is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="nb">min</span>   <span class="nb">sum</span><span class="p">((</span><span class="n">ydata</span> <span class="o">-</span> <span class="n">f</span><span class="p">(</span><span class="n">xdata</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">params</span>
</pre></div>
</div>
<p>The solution, <cite>x</cite>, is always a 1D array, regardless of the shape of <cite>x0</cite>,
or whether <cite>x0</cite> is a scalar.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.listdir">
<code class="descclassname">pyspecdata.</code><code class="descname">listdir</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span> &#x2192; list_of_strings<a class="headerlink" href="#pyspecdata.listdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list containing the names of the entries in the directory.</p>
<blockquote>
<div>path: path of directory to list</div></blockquote>
<p>The list is in arbitrary order.  It does not include the special
entries ‘.’ and ‘..’ even if they are present in the directory.</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.load_indiv_file">
<code class="descclassname">pyspecdata.</code><code class="descname">load_indiv_file</code><span class="sig-paren">(</span><em>filename</em>, <em>dimname=''</em>, <em>return_acq=False</em>, <em>add_sizes=[]</em>, <em>add_dims=[]</em>, <em>use_sweep=None</em>, <em>indirect_dimlabels=None</em>, <em>expno=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.load_indiv_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the file given by <cite>filename</cite>, use file signature magic and/or
filename extension(s) to identify the file type, and call the appropriate
function to open it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dimname</strong> (<em>str</em>) – When there is a single indirect dimension composed of several scans,
call the indirect dimension <cite>dimname</cite>.</li>
<li><strong>return_acq</strong> (<em>DEPRECATED</em>) – </li>
<li><strong>add_sizes</strong> (<em>list</em>) – the sizes associated with the dimensions in add_dims</li>
<li><strong>add_dims</strong> (<em>list</em>) – Can only be used with <cite>dimname</cite>.
Break the dimension <cite>dimname</cite> into several dimensions,
with the names given by the list <cite>add_dims</cite> and sizes given by <cite>add_sizes</cite>.
If the product of the sizes is not the same as the original dimension
given by <cite>dimname</cite>,
retain it as the “outermost” (leftmost) dimension.
<code class="xref py py-func docutils literal notranslate"><span class="pre">pyspecdata.core.chunkoff()</span></code> is used to do this, like so:
<code class="docutils literal notranslate"><span class="pre">data.chunkoff(dimname,add_dims,add_sizes)</span></code></li>
<li><strong>indirect_dimlabels</strong> (<em>str</em><em> or </em><em>None</em>) – passed through to <cite>acert.load_pulse</cite> (names an indirect dimension when dimlabels isn’t provided)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the nddata containing the data,
or else, <cite>None</cite>, indicating that this is part of a pair of
files that should be skipped</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata">nddata</a> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.load_t1_axis">
<code class="descclassname">pyspecdata.</code><code class="descname">load_t1_axis</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.load_t1_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.lookup_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">lookup_rec</code><span class="sig-paren">(</span><em>A</em>, <em>B</em>, <em>indexpair</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lookup_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>look up information about A in table B (i.e. chemical by index, etc)
indexpair is either the name of the index
or – if it’s differently named – the pair of indices
given in (A,B) respectively</p>
<p>This will just drop any fields in B that are also in A,
and the output uses the first indexname</p>
<p>note that it it seems like the join_rec function above may be more efficient!!</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.lrecordarray">
<code class="descclassname">pyspecdata.</code><code class="descname">lrecordarray</code><span class="sig-paren">(</span><em>*x</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lrecordarray" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.lsafe">
<code class="descclassname">pyspecdata.</code><code class="descname">lsafe</code><span class="sig-paren">(</span><em>*string</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lsafe" title="Permalink to this definition">¶</a></dt>
<dd><p>replacement for normal lsafe – no escaping</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.lsafen">
<code class="descclassname">pyspecdata.</code><code class="descname">lsafen</code><span class="sig-paren">(</span><em>*string</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lsafen" title="Permalink to this definition">¶</a></dt>
<dd><p>see lsafe, but with an added double newline</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.make_bar_graph_indices">
<code class="descclassname">pyspecdata.</code><code class="descname">make_bar_graph_indices</code><span class="sig-paren">(</span><em>mystructarray</em>, <em>list_of_text_fields</em>, <em>recursion_depth=0</em>, <em>verbose=False</em>, <em>spacing=0.1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.make_bar_graph_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a recursive function that is used as part of textlabel_bargraph; it does NOT work without the sorting given at the beginning of that function</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.make_ndarray">
<code class="descclassname">pyspecdata.</code><code class="descname">make_ndarray</code><span class="sig-paren">(</span><em>array_to_conv</em>, <em>name_forprint='unknown'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.make_ndarray" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.make_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">make_rec</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.make_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>input,names or a single argument, which is a dictionarynstrlen = 100 gives length of the strings (which need to be specified in record arrays)nyou can also specify (especially useful with the dictionary format) the list order = [str1,str2,…] which orders the output records with the field containing str1 first, then the field containing str2, then any remaining fields</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.maprep">
<code class="descclassname">pyspecdata.</code><code class="descname">maprep</code><span class="sig-paren">(</span><em>*mylist</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.maprep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.meanstd_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">meanstd_rec</code><span class="sig-paren">(</span><em>myarray</em>, <em>mylist</em>, <em>verbose=False</em>, <em>standard_error=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.meanstd_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>this is something like applyto_rec, except that it applies the mean and creates new rows for the “error,” where it puts the standard deviation</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.mybasicfunction">
<code class="descclassname">pyspecdata.</code><code class="descname">mybasicfunction</code><span class="sig-paren">(</span><em>first_figure=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.mybasicfunction" title="Permalink to this definition">¶</a></dt>
<dd><p>this gives the format for doing the image thing
note also
nextfigure(fl,’name’)
and
nextfigure({‘lplotproperty’:value})</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.mydiff">
<code class="descclassname">pyspecdata.</code><code class="descname">mydiff</code><span class="sig-paren">(</span><em>data</em>, <em>axis=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.mydiff" title="Permalink to this definition">¶</a></dt>
<dd><p>this will replace diff with a version that has the same number of indices, with the last being the copy of the first</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.myfilter">
<code class="descclassname">pyspecdata.</code><code class="descname">myfilter</code><span class="sig-paren">(</span><em>x</em>, <em>center=250000.0</em>, <em>sigma=100000.0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.myfilter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.myplotfunc">
<code class="descclassname">pyspecdata.</code><code class="descname">myplotfunc</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.myplotfunc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.nddata">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">nddata</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the detailed API reference.
For an introduction on how to use ND-Data, see the <a class="reference internal" href="../nddata.html#nddata-summary-label"><span class="std std-ref">Main ND-Data Documentation</span></a>.</p>
<dl class="attribute">
<dt id="pyspecdata.nddata.C">
<code class="descname">C</code><a class="headerlink" href="#pyspecdata.nddata.C" title="Permalink to this definition">¶</a></dt>
<dd><p>shortcut for copy</p>
<dl class="docutils">
<dt>..todo::</dt>
<dd>We should offer “N”, which generates something like a copy,
but which is sets the equivalent of “nopop”.
For example, currently, you need to do something like
<code class="docutils literal notranslate"><span class="pre">d.C.argmax('t2')</span></code>,
which is very inefficient, since it copies the whole array.
So, instead, we should do
<code class="docutils literal notranslate"><span class="pre">d.N.argmax('t2')</span></code>, which tells argmax and all other
functions not to overwrite “self” but to return a new object.
This would cause things like “run_nopop” to become obsolete.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.add_noise">
<code class="descname">add_noise</code><span class="sig-paren">(</span><em>intensity</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.add_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Gaussian (box-muller) noise to the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>intensity</strong> (<em>double OR function</em>) – If a double, gives the standard deviation of the noise.
If a function, used to calculate the standard deviation of the noise from the data:
<em>e.g.</em> <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">max(abs(x))/10.</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.aligndata">
<code class="descname">aligndata</code><span class="sig-paren">(</span><em>arg</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.aligndata" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a fundamental method used by all of the arithmetic operations.
It uses the dimension labels of <cite>self</cite> (the current instance) and <cite>arg</cite>
(an nddata passed to this method) to generate two corresponding output
nddatas that I refer to here, respectively, as <cite>A</cite> and <cite>B</cite>.  <cite>A</cite> and
<cite>B</cite> have dimensions that are “aligned” – that is, they are identical
except for singleton dimensions (note that numpy automatically tiles
singleton dimensions).  Regardless of how the dimensions of <cite>self.data</cite>
and <cite>arg.data</cite> (the underlying numpy data) were ordered, <cite>A.data</cite> and
<cite>B.data</cite> are now ordered identically, where dimensions with the same
label (<cite>.dimlabel</cite>) correspond to the same numpy index.  This allows
you do do math.</p>
<p>Note that, currently, both <cite>A</cite> and <cite>B</cite> are given a full set of axis
labels, even for singleton dimensions.  This is because we’re assuming
you’re going to do math with them, and that the singleton dimensions
will be expanded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arg</strong> (<a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata"><em>nddata</em></a><em> or </em><em>ndarray</em>) – The nddata that you want to align to <cite>self</cite>.
If arg is an ndarray, it will try to match dimensions to self based
on the length of the dimension.
<strong>Note:</strong> currently there is an issue where this will only really
work for 1D data, since it first makes an nddata instance based on
arg, which apparently collapses multi-D data to 1D data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>A</strong> (<em>nddata</em>) – realigned version of <cite>self</cite></li>
<li><strong>B</strong> (<em>nddata</em>) – realigned version of <cite>arg</cite> (the argument)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.nddata.angle">
<code class="descname">angle</code><a class="headerlink" href="#pyspecdata.nddata.angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the angle component of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.argmax">
<code class="descname">argmax</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.argmax" title="Permalink to this definition">¶</a></dt>
<dd><p>find the max along a particular axis, and get rid of that axis, replacing it with the index number of the max value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>raw_index</strong> (<em>bool</em>) – return the raw (ndarray) numerical index, rather than the corresponding axis value
Note that the result returned is still, however, an nddata (rather than numpy ndarray) object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.argmin">
<code class="descname">argmin</code><span class="sig-paren">(</span><em>*axes</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.argmin" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>argmin(‘axisname’)</cite> find the min along a particular axis, and get rid of that
axis, replacing it with the index number of the max value.
If <cite>argmin()</cite>: return a dictionary giving the coordinates of the overall minimum point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>raw_index</strong> (<em>bool</em>) – Return the raw (ndarray) numerical index, rather than the corresponding axis value.
Note that the result returned is still, however, an nddata (rather than numpy ndarray) object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.axis">
<code class="descname">axis</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.axis" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a 1-D axis for further manipulation</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.axlen">
<code class="descname">axlen</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.axlen" title="Permalink to this definition">¶</a></dt>
<dd><p>return the size (length) of an axis, by name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>axis</strong> (<em>str</em>) – name of the axis whos length you are interested in</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.axn">
<code class="descname">axn</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.axn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the index number for the axis with the name “axis”</p>
<p>This is used by many other methods.
As a simple example,
self.:func:<cite>axlen`(axis) (the axis length) returns
``shape(self.data)[self.axn(axis)]`</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>axis</strong> (<em>str</em>) – name of the axis</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.cdf">
<code class="descname">cdf</code><span class="sig-paren">(</span><em>normalized=True</em>, <em>max_bins=500</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.cdf" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the Cumulative Distribution Function for the data along <cite>axis_name</cite></p>
<p>only for 1D data right now</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">A new nddata object with an axis labeled <cite>values</cite>, and data corresponding to the CDF.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.check_axis_coords_errors">
<code class="descname">check_axis_coords_errors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.check_axis_coords_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.chunk">
<code class="descname">chunk</code><span class="sig-paren">(</span><em>axisin</em>, <em>*otherargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.chunk" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>“Chunking” is defined here to be the opposite of taking a direct product, increasing the number of dimensions by the inverse of the process by which taking a direct product decreases the number of dimensions.  This function chunks axisin into multiple new axes arguments.:</dt>
<dd>axesout – gives the names of the output axes
shapesout – optional – if not given, it assumes equal length – if given, one of the values can be -1, which is assumed length</dd>
</dl>
<p>When there are axes, it assumes that the axes of the new dimensions
are nested – <em>e.g.</em>, it will chunk a dimension with axis:
[1,2,3,4,5,6,7,8,9,10]
into dimensions with axes:
[0,1,2,3,4], [1,6]</p>
<dl class="docutils">
<dt>..todo::</dt>
<dd>Deal with this efficiently when we move to new-style axes</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.chunk_auto">
<code class="descname">chunk_auto</code><span class="sig-paren">(</span><em>axis_name</em>, <em>which_field</em>, <em>verbose=False</em>, <em>dimname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.chunk_auto" title="Permalink to this definition">¶</a></dt>
<dd><p>assuming that axis “axis_name” is currently labeled with a structured array, choose one field (“which_field”) of that structured array to generate a new dimension
Note that for now, by definition, no error is allowed on the axes.
However, once I upgrade to using structured arrays to handle axis and data errors, I will want to deal with that appropriately here.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.circshift">
<code class="descname">circshift</code><span class="sig-paren">(</span><em>axis</em>, <em>amount</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.circshift" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.contiguous">
<code class="descname">contiguous</code><span class="sig-paren">(</span><em>lambdafunc</em>, <em>axis=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Return contiguous blocks that satisfy the condition given by <cite>lambdafunc</cite></p>
<p>this function returns the start and stop positions along the
axis for the contiguous blocks for which lambdafunc returns
true
<strong>Currently only supported for 1D data</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">adapted from stackexchange post <a class="reference external" href="http://stackoverflow.com/questions/4494404/find-large-number-of-consecutive-values-fulfilling-condition-in-a-numpy-array">http://stackoverflow.com/questions/4494404/find-large-number-of-consecutive-values-fulfilling-condition-in-a-numpy-array</a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lambdafunc</strong> (<em>types.FunctionType</em>) – If only one argument (lambdafunc) is given,
then lambdafunc is
a function that accepts a copy of the current nddata object
(<cite>self</cite>) as the argument.
If two arguments are given,
the second is <cite>axis</cite>, and lambdafunc has two arguments,
<cite>self</cite> and the value of <cite>axis</cite>.</li>
<li><strong>axis</strong> (<em>{None</em><em>,</em><em>str}</em>) – the name of the axis along which you want to find contiguous
blocks</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>retval</strong> – An <span class="math notranslate nohighlight">\(N\times 2\)</span> matrix, where the <span class="math notranslate nohighlight">\(N\)</span> rows correspond to pairs of axis
label that give ranges over which <cite>lambdafunc</cite> evaluates to <cite>True</cite>.
These are ordered according to descending range width.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>&gt; #{{{ debugging block
&gt; sum_for_contiguous = abs(forplot).mean(‘t1’)
&gt; fl.next(“test contiguous”)
&gt; forplot = sum_for_contiguous.copy().set_error(None)
&gt; fl.plot(forplot,alpha = 0.25,linewidth = 3)
&gt; print “this is what the max looks like”,0.5*sum_for_contiguous.set_error(None).runcopy(max,’t2’)
&gt; print sum_for_contiguous &gt; 0.5*sum_for_contiguous.runcopy(max,’t2’)
&gt; retval = sum_for_contiguous.contiguous(quarter_of_max,’t2’)
&gt; print “contiguous range / 1e6:”,retval/1e6
&gt; for j in range(retval.shape[0]):
&gt;     a,b = retval[j,:]
&gt;     fl.plot(forplot[‘t2’:(a,b)])
&gt; fl.show()
&gt; exit()
&gt; #}}}</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.contour">
<code class="descname">contour</code><span class="sig-paren">(</span><em>labels=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.contour" title="Permalink to this definition">¶</a></dt>
<dd><p>Contour plot – kwargs are passed to the matplotlib
<cite>contour</cite> function.</p>
<p>See docstring of <cite>figlist_var.image()</cite> for an example</p>
<dl class="attribute">
<dt id="pyspecdata.nddata.labels">
<code class="descname">labels</code><a class="headerlink" href="#pyspecdata.nddata.labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not the levels should be labeled.
Defaults to True</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.convolve">
<code class="descname">convolve</code><span class="sig-paren">(</span><em>axisname</em>, <em>filterwidth</em>, <em>convfunc=&lt;function &lt;lambda&gt;&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a convolution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>axisname</strong> (<em>str</em>) – apply the convolution along <cite>axisname</cite></li>
<li><strong>filterwidth</strong> (<em>double</em>) – width of the convolution function.</li>
<li><strong>convfunc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – A function that takes two arguments – the first are the axis coordinates and the second is <cite>filterwidth</cite>.
Default is a normalized Gaussian of width (<span class="math notranslate nohighlight">\(\sigma\)</span>)
<cite>filterwidth</cite>
<span class="math notranslate nohighlight">\(\frac{1}{2 \sigma^2}\exp\left( - \frac{x^2}{2 \sigma^2} \right)\)</span>
For example if you want a complex lorentzian with <cite>filterwidth</cite> controlled by the rate $R$,
<em>i.e.</em>
<span class="math notranslate nohighlight">\(\frac{-1}{-i 2 \pi f - R}\)</span>
then <code class="docutils literal notranslate"><span class="pre">convfunc</span> <span class="pre">=</span> <span class="pre">lambda</span> <span class="pre">f,R:</span> <span class="pre">-1./(-1j*2*pi*f-R)</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><em>data=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full copy of this instance.</p>
<p>Because methods typically change the data in place, you might want to
use this frequently.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>boolean</em>) – <p>Default to True.
False doesn’t copy the data – this is for internal use,
<em>e.g.</em> when you want to copy all the metadata and perform a
calculation on the data.</p>
<p>The code for this also provides the definitive list of the
nddata metadata.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.copy_props">
<code class="descname">copy_props</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.copy_props" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy all properties (see <a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata.get_prop" title="pyspecdata.nddata.get_prop"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_prop()</span></code></a>) from another nddata
object – note that these include properties pertaining the the FT
status of various dimensions.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.copyaxes">
<code class="descname">copyaxes</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.copyaxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.cropped_log">
<code class="descname">cropped_log</code><span class="sig-paren">(</span><em>subplot_axes=None</em>, <em>magnitude=4</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.cropped_log" title="Permalink to this definition">¶</a></dt>
<dd><p>For the purposes of plotting, this generates a copy where I take the log, spanning “magnitude” orders of magnitude
This is designed to be called as abs(instance).cropped_log(), so it doesn’t make a copy</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.diff">
<code class="descname">diff</code><span class="sig-paren">(</span><em>thisaxis</em>, <em>backwards=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.diff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.dot">
<code class="descname">dot</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensor dot of self with arg – dot all matching dimension labels.  This can be used to do matrix multiplication, but note that the order of doesn’t matter, since the dimensions that are contracted are determined by matching the dimension names, not the order of the dimension.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">],</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">27</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">tensordot</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">27</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">tensordot</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="p">((</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">)))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.extend">
<code class="descname">extend</code><span class="sig-paren">(</span><em>axis</em>, <em>extent</em>, <em>fill_with=0</em>, <em>tolerance=1e-05</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>axis</cite> is uniformly ascending with spacing <span class="math notranslate nohighlight">\(dx\)</span>,
then extend by adding a point every <span class="math notranslate nohighlight">\(dx\)</span> until the axis
includes the point <cite>extent</cite>.  Fill the newly created datapoints with <cite>fill_with</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>axis</strong> (<em>str</em>) – name of the axis to extend</li>
<li><strong>extent</strong> (<em>double</em>) – extend the axis <cite>axis</cite> out to this point</li>
<li><strong>fill_with</strong> (<em>double</em>) – fill the new data points with this value (defaults to 0)</li>
<li><strong>tolerance</strong> (<em>double</em>) – when checking for ascending axis labels, etc.,
values/differences must match to within tolerance
(assumed to represent the actual precision, given
various errors, etc.)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.extend_for_shear">
<code class="descname">extend_for_shear</code><span class="sig-paren">(</span><em>altered_axis</em>, <em>propto_axis</em>, <em>skew_amount</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.extend_for_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>this is propto_axis helper function for <cite>.fourier.shear</cite></p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.fld">
<code class="descname">fld</code><span class="sig-paren">(</span><em>dict_in</em>, <em>noscalar=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.fld" title="Permalink to this definition">¶</a></dt>
<dd><p>flatten dictionary – return list</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.fourier_shear">
<code class="descname">fourier_shear</code><span class="sig-paren">(</span><em>altered_axis</em>, <em>propto_axis</em>, <em>by_amount</em>, <em>zero_fill=False</em>, <em>start_in_conj=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.fourier_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>the fourier shear method – see .shear() documentation</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.fromaxis">
<code class="descname">fromaxis</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.fromaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an nddata object from one of the axis labels.</p>
<p>Can be used in one of several ways:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">self.fromaxis('axisname')</span></code>: Returns an nddata where <cite>retval.data</cite> consists of the given axis values.</li>
<li><code class="docutils literal notranslate"><span class="pre">self.fromaxis('axisname',inputfunc)</span></code>: use <cite>axisname</cite> as the input for <cite>inputfunc</cite>, and load the result into <cite>retval.data</cite></li>
<li><code class="docutils literal notranslate"><span class="pre">self.fromaxis(inputsymbolic)</span></code>: Evaluate <cite>inputsymbolic</cite> and load the result into <cite>retval.data</cite></li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>axisname</strong> (<em>str | list</em>) – The axis (or list of axes) to that is used as the argument of <cite>inputfunc</cite> or the function represented by <cite>inputsymbolic</cite>.
If this is the only argument, it cannot be a list.</li>
<li><strong>inputsymbolic</strong> (<em>sympy.Expr</em>) – A sympy expression whose only symbols are the names of axes.
It is preferred, though not required, that this is passed
without an <cite>axisname</cite> argument – the axis names are then
inferred from the symbolic expression.</li>
<li><strong>inputfunc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – A function (typically a lambda function) that taxes the values of the axis given by <cite>axisname</cite> as input.</li>
<li><strong>overwrite</strong> (<em>bool</em>) – Defaults to <cite>False</cite>. If set to <cite>True</cite>, it overwrites <cite>self</cite> with <cite>retval</cite>.</li>
<li><strong>as_array</strong> (<em>bool</em>) – Defaults to <cite>False</cite>. If set to <cite>True</cite>, <cite>retval</cite> is a properly dimensioned numpy ndarray rather than an nddata.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>retval</strong> – An expression calculated from the axis(es) given by <cite>axisname</cite> or inferred from <cite>inputsymbolic</cite>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">nddata | ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.ft">
<code class="descname">ft</code><span class="sig-paren">(</span><em>axes</em>, <em>tolerance=1e-05</em>, <em>cosine=False</em>, <em>verbose=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ft" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs a Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="docutils">
<dt>It adjusts normalization and units so that the result conforms to</dt>
<dd><span class="math notranslate nohighlight">\(\tilde{s}(f)=\int_{x_min}^{x_max} s(t) e^{-i 2 \pi f t} dt\)</span></dd>
</dl>
<p>Note that, as noted in the <a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata.ift" title="pyspecdata.nddata.ift"><code class="xref py py-func docutils literal notranslate"><span class="pre">ift()</span></code></a> documentation,
the inverse transform doesn’t correspond to the equivalent
expression for the IFT.</p>
<p><strong>pre-FT</strong>, we use the axis to cyclically permute <span class="math notranslate nohighlight">\(t=0\)</span> to the first index</p>
<p><strong>post-FT</strong>, we assume that the data has previously been IFT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard fftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.</li>
<li><strong>automix</strong> (<em>double</em>) – <cite>automix</cite> can be set to the approximate frequency value.  This is
useful for the specific case where the data has been captured on a
sampling scope, and it’s severely aliased over.</li>
<li><strong>cosine</strong> (<em>boolean</em>) – yields a sum of the fft and ifft, for a cosine transform</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.ft_clear_startpoints">
<code class="descname">ft_clear_startpoints</code><span class="sig-paren">(</span><em>axis</em>, <em>t=None</em>, <em>f=None</em>, <em>nearest=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ft_clear_startpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears memory of where the origins in the time and frequency domain are.
This is useful, <em>e.g.</em> when you want to ift and center about time=0.
By setting shift=True you can also manually set the points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>t</strong> (<em>float</em><em>, </em><em>'current'</em><em>, </em><em>'reset'</em><em>, or </em><em>None</em>) – keyword arguments <cite>t</cite> and <cite>f</cite> can be set by (1) manually setting
the start point (2) using the string ‘current’ to leave the
current setting a lone (3) ‘reset’, which clears the startpoint
and (4) None, which will be changed to ‘current’ when the other is set to a number or ‘rest’ if both are set to None.</li>
<li><strong>t</strong> – see <cite>t</cite></li>
<li><strong>nearest</strong> (<em>bool</em>) – <p>Shifting the startpoint can only be done
by an integral number of datapoints
(<em>i.e.</em> an integral number of dwell
times, dt, in the time domain or
integral number of df in the frequency
domain).
While it is possible to shift by a
non-integral number of datapoints,
this is done by applying a
phase-dependent shift in the inverse
domain.
Applying such a axis-dependent shift
can have vary unexpected effects if the
data in the inverse domain is aliased,
and is therefore heavily discouraged.
(For example, consider what happens if
we attempt to apply a
frequency-dependent phase shift to data
where a peak at 110 Hz is aliased and
appears at the 10 Hz position.)</p>
<p>Setting <cite>nearest</cite> to <strong>True</strong>
will choose a startpoint at the closest
integral datapoint to what you have
specified.</p>
<p>Setting <cite>nearest</cite> to <strong>False</strong>
will explicitly override the safeties –
essentially telling the code that you
know the data is not aliased in the
inverse domain and/or are willing to
deal with the consequences.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.ft_state_to_str">
<code class="descname">ft_state_to_str</code><span class="sig-paren">(</span><em>*axes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ft_state_to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string that lists the FT domain for the given axes.</p>
<p><span class="math notranslate nohighlight">\(u\)</span> refers to the original domain (typically time) and <span class="math notranslate nohighlight">\(v\)</span> refers to the FT’d domain (typically frequency)
If no axes are passed as arguments, it does this for all axes.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.ftshift">
<code class="descname">ftshift</code><span class="sig-paren">(</span><em>axis</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ftshift" title="Permalink to this definition">¶</a></dt>
<dd><p>FT-based shift.  Currently only works in time domain.</p>
<p>This was previously made obsolete, but is now a demo of how to use the ft properties.
It is not the most efficient way to do this.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.get_covariance">
<code class="descname">get_covariance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>this returns the covariance matrix of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.get_error">
<code class="descname">get_error</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_error" title="Permalink to this definition">¶</a></dt>
<dd><p>get a copy of the errors
either set_error(‘axisname’,error_for_axis) or set_error(error_for_data)</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.get_ft_prop">
<code class="descname">get_ft_prop</code><span class="sig-paren">(</span><em>axis</em>, <em>propname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_ft_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if no <cite>propname</cite> is given, this just sets the <cite>FT</cite> property, which tells if a dimension is frequency or time domain</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.get_plot_color">
<code class="descname">get_plot_color</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_plot_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.get_prop">
<code class="descname">get_prop</code><span class="sig-paren">(</span><em>propname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>return arbitrary ND-data properties (typically acquisition parameters <em>etc.</em>) by name (<cite>propname</cite>)</p>
<p>In order to allow ND-data to store acquisition parameters and other info that accompanies the data,
but might not be structured in a gridded format, nddata instances
always have a <cite>other_info</cite> dictionary attribute,
which stores these properties by name.</p>
<p>If the property doesn’t exist, this returns <cite>None</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>propname</strong> (<em>str</em>) – <p>Name of the property that you’re want returned.
If this is left out or set to “None” (not given), the names of the available
properties are returned.
If no exact match is found, and propname contains a . or * or [, it’s
assumed to be a regular expression.
If several such matches are found, the error message is informative.</p>
<span class="target" id="index-3"></span><div class="admonition-todo admonition">
<p class="first admonition-title">Todo</p>
<p class="last">have it recursively search dictionaries (e.g. bruker acq)</p>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">The value of the property (can by any type) or <cite>None</cite> if the property doesn’t exist.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.get_units">
<code class="descname">get_units</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.getaxis">
<code class="descname">getaxis</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.getaxis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.getaxisshape">
<code class="descname">getaxisshape</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.getaxisshape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.gnuplot_save">
<code class="descname">gnuplot_save</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.gnuplot_save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.hdf5_write">
<code class="descname">hdf5_write</code><span class="sig-paren">(</span><em>h5path</em>, <em>directory='.'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.hdf5_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the nddata to an HDF5 file.</p>
<p><cite>h5path</cite> is the name of the file followed by the node path where
you want to put it – it does <strong>not</strong> include the directory where
the file lives.
The directory can be passed to the <cite>directory</cite> argument.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>h5path</strong> (<em>str</em>) – The name of the file followed by the node path where
you want to put it – it does <strong>not</strong> include the directory where
the file lives.
(Because HDF5 files contain an internal directory-like group
structure.)</li>
<li><strong>directory</strong> (<em>str</em>) – the directory where the HDF5 file lives.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.histogram">
<code class="descname">histogram</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.histogram" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.human_units">
<code class="descname">human_units</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.human_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.ift">
<code class="descname">ift</code><span class="sig-paren">(</span><em>axes</em>, <em>n=False</em>, <em>tolerance=1e-05</em>, <em>verbose=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ift" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs a Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="docutils">
<dt>It adjusts normalization and units so that the result conforms to</dt>
<dd><span class="math notranslate nohighlight">\(s(t)=t_{dw} \int_{x_min}^{x_max} \tilde{s}(t) e^{i 2 \pi f t} df\)</span></dd>
</dl>
<p>Where <span class="math notranslate nohighlight">\(t_{dw}=\frac{1}{\Delta f}\)</span>, is the dwell time (with <span class="math notranslate nohighlight">\(\Delta f\)</span> the spectral width).</p>
<p><em>Why do we do this?</em> Note that while the analytical integral this corresponds to is normalized, performing
<a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata.ft" title="pyspecdata.nddata.ft"><code class="xref py py-func docutils literal notranslate"><span class="pre">ft()</span></code></a> followed by <a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata.ift" title="pyspecdata.nddata.ift"><code class="xref py py-func docutils literal notranslate"><span class="pre">ift()</span></code></a> on a discrete sequence is NOT completely invertible
(due to integration of the implied comb function??),
and would require division by a factor of $Delta f$ (the spectral width) in order
to retrieve the original function</p>
<p><strong>pre-IFT</strong>, we use the axis to cyclically permute $f=0$ to the first index</p>
<p><strong>post-IFT</strong>, we assume that the data has previously been FT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard ifftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <p><cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.   It uses the
<cite>start_time</cite> ft property to determine the start of the axis.  To
do this, it assumes that it is a stationary signal
(convolved with infinite comb function).
The value of <cite>start_time</cite> can differ from by a non-integral multiple of
<span class="math notranslate nohighlight">\(\Delta t\)</span>, though the routine will check whether or not it is safe to
do this.</p>
<dl class="docutils">
<dt>..note ::</dt>
<dd>In the code, this is controlled by <cite>p2_post</cite> (the integral
<span class="math notranslate nohighlight">\(\Delta t\)</span> and <cite>p2_post_discrepancy</cite> – the non-integral.</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.nddata.imag">
<code class="descname">imag</code><a class="headerlink" href="#pyspecdata.nddata.imag" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the imag component of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.indices">
<code class="descname">indices</code><span class="sig-paren">(</span><em>axis_name</em>, <em>values</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string of indeces that most closely match the axis labels corresponding to values. Filter them to make sure they are unique.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.inhomog_coords">
<code class="descname">inhomog_coords</code><span class="sig-paren">(</span><em>direct_dim</em>, <em>indirect_dim</em>, <em>tolerance=1e-05</em>, <em>method='linear'</em>, <em>plot_name=None</em>, <em>fl=None</em>, <em>debug_kwargs={}</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.inhomog_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the “inhomogeneity transform,” which rotates the data by <span class="math notranslate nohighlight">\(45^{\circ}\)</span>, and then mirrors the portion with <span class="math notranslate nohighlight">\(t_2&lt;0\)</span> in order to transform from a <span class="math notranslate nohighlight">\((t_1,t_2)\)</span> coordinate system to a <span class="math notranslate nohighlight">\((t_{inh},t_{homog})\)</span> coordinate system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>direct_dim</strong> (<em>str</em>) – Label of the direct dimension (typically <span class="math notranslate nohighlight">\(t_2\)</span>)</li>
<li><strong>indirect_dim</strong> (<em>str</em>) – Label of the indirect dimension (typically <span class="math notranslate nohighlight">\(t_1\)</span>)</li>
<li><strong>method</strong> (<em>'linear'</em><em>, </em><em>'fourier'</em>) – The interpolation method used to rotate the data and to mirror the data.
<strong>Note</strong> currently, both use a fourier-based mirroring method.</li>
<li><strong>plot_name</strong> (<em>str</em>) – the base name for the plots that are generated</li>
<li><strong>fl</strong> (<em>figlist_var</em>) – </li>
<li><strong>debug_kwargs</strong> (<em>dict</em>) – <p>with keys:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2"><cite>correct_overlap</cite>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">if False, doesn’t correct for the overlap error that occurs during mirroring</td>
</tr>
</tbody>
</table>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.integrate">
<code class="descname">integrate</code><span class="sig-paren">(</span><em>thisaxis</em>, <em>backwards=False</em>, <em>cumulative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>this performs an integration – which is similar to a sum, except that it takes the axis into account, i.e., it performs:
$int f(x) dx$
rather than
$sum_i f(x_i)$</p>
<p>Gaussian quadrature, etc, is planned for a future version.</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.interp">
<code class="descname">interp</code><span class="sig-paren">(</span><em>axis</em>, <em>axisvalues</em>, <em>past_bounds=None</em>, <em>verbose=False</em>, <em>return_func=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.interp" title="Permalink to this definition">¶</a></dt>
<dd><p>interpolate data values given axis values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_func</strong> (<em>boolean</em>) – defaults to False.  If True, it returns a function that accepts
axis values and returns a data value.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.invinterp">
<code class="descname">invinterp</code><span class="sig-paren">(</span><em>axis</em>, <em>values</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.invinterp" title="Permalink to this definition">¶</a></dt>
<dd><p>interpolate axis values given data values</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.item">
<code class="descname">item</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.item" title="Permalink to this definition">¶</a></dt>
<dd><p>like numpy item – returns a number when zero-dimensional</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">labels</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span></dt>
<dd><p>label the dimensions, given in listofstrings with the axis labels given in listofaxes – listofaxes must be a numpy array;
you can pass either a dictionary or a axis name (string)/axis label (numpy array) pair</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.like">
<code class="descname">like</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.like" title="Permalink to this definition">¶</a></dt>
<dd><p>provide “zeros_like” and “ones_like” functionality</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>float</em>) – 1 is “ones_like” 0 is “zeros_like”, etc.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.linear_shear">
<code class="descname">linear_shear</code><span class="sig-paren">(</span><em>along_axis</em>, <em>propto_axis</em>, <em>shear_amnt</em>, <em>zero_fill=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.linear_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>the linear shear – see <cite>self.shear</cite> for documentation</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.matchdims">
<code class="descname">matchdims</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.matchdims" title="Permalink to this definition">¶</a></dt>
<dd><p>add any dimensions to self that are not present in other</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.matrices_3d">
<code class="descname">matrices_3d</code><span class="sig-paren">(</span><em>also1d=False</em>, <em>invert=False</em>, <em>max_dimsize=1024</em>, <em>downsample_self=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.matrices_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>returns X,Y,Z,x_axis,y_axis
matrices X,Y,Z, are suitable for a variety of mesh plotting, etc, routines
x_axis and y_axis are the x and y axes</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.mayavi_surf">
<code class="descname">mayavi_surf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mayavi_surf" title="Permalink to this definition">¶</a></dt>
<dd><p>use the mayavi surf function, assuming that we’ve already loaded mlab
during initialization</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.mean">
<code class="descname">mean</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Take the mean and set the error to the standard deviation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_error</strong> (<em>bool</em>) – whether or note to return the standard deviation as an error</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.mean_all_but">
<code class="descname">mean_all_but</code><span class="sig-paren">(</span><em>listofdims</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mean_all_but" title="Permalink to this definition">¶</a></dt>
<dd><p>take the mean over all dimensions not in the list</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.mean_nopop">
<code class="descname">mean_nopop</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mean_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.mean_weighted">
<code class="descname">mean_weighted</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mean_weighted" title="Permalink to this definition">¶</a></dt>
<dd><p>perform  the weighted mean along <cite>axisname</cite> (use $sigma$ from $sigma = $self.get_error() do generate $1/sigma$ weights)
for now, it clears the error of <cite>self</cite>, though it would be easy to calculate the new error, since everything is linear</p>
<p>unlike other functions, this creates working objects that are themselves nddata objects
this strategy is easier than coding out the raw numpy math, but probably less efficient</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.meshplot">
<code class="descname">meshplot</code><span class="sig-paren">(</span><em>stride=None</em>, <em>alpha=1.0</em>, <em>onlycolor=False</em>, <em>light=None</em>, <em>rotation=None</em>, <em>cmap=&lt;matplotlib.colors.LinearSegmentedColormap object&gt;</em>, <em>ax=None</em>, <em>invert=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.meshplot" title="Permalink to this definition">¶</a></dt>
<dd><p>takes both rotation and light as elevation, azimuth
only use the light kwarg to generate a black and white shading display</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.mkd">
<code class="descname">mkd</code><span class="sig-paren">(</span><em>*arg</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mkd" title="Permalink to this definition">¶</a></dt>
<dd><p>make dictionary format</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.multimin">
<code class="descname">multimin</code><span class="sig-paren">(</span><em>minfunc</em>, <em>axisname</em>, <em>filterwidth</em>, <em>numberofmins</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.multimin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.name">
<code class="descname">name</code><span class="sig-paren">(</span><em>*arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.name" title="Permalink to this definition">¶</a></dt>
<dd><p>args:
.name(newname) –&gt; Name the object (for storage, etc)
.name() –&gt; Return the name</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.nnls">
<code class="descname">nnls</code><span class="sig-paren">(</span><em>dimname</em>, <em>newaxis_dict</em>, <em>kernel_func</em>, <em>l=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.nnls" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform regularized non-negative least-squares “fit” on self.</p>
<p>Capable of solving for solution in 1 or 2 dimensions.</p>
<p>We seek to minimize
<span class="math notranslate nohighlight">\(Q = \| Ax - b \|_2 + \|\lambda x\|_2\)</span>
in order to obtain solution vector <span class="math notranslate nohighlight">\(x\)</span> subject to non-negativity constraint
given input matrix <span class="math notranslate nohighlight">\(A\)</span>, the kernel, and input vector <span class="math notranslate nohighlight">\(b\)</span>, the data.</p>
<p>The first term assesses agreement between the fit <span class="math notranslate nohighlight">\(Ax\)</span> and the data <span class="math notranslate nohighlight">\(b\)</span>,
and the second term accounts for noise with the regularization parameter <span class="math notranslate nohighlight">\(\lambda\)</span>
according to Tikhonov regularization.</p>
<p>To perform regularized minimization in 2 dimensions, set <cite>l</cite> to <a href="#id19"><span class="problematic" id="id20">:str:`BRD`</span></a> and provide a
tuple of parameters <a href="#id21"><span class="problematic" id="id22">:str:`dimname`</span></a>, <a href="#id23"><span class="problematic" id="id24">:nddata:`newaxis_dict`</span></a>, and <a href="#id25"><span class="problematic" id="id26">:function:`kernel_func`</span></a>.
Algorithm described in Venkataramanan et al. 2002 is performed which determines optimal <span class="math notranslate nohighlight">\(\lambda\)</span>
for the data (DOI:10.1109/78.995059).</p>
<p>See: <a class="reference external" href="https://en.wikipedia.org/wiki/Non-negative_least_squares">Wikipedia page on NNLS</a>,
<a class="reference external" href="https://en.wikipedia.org/wiki/Tikhonov_regularization">Wikipedia page on Tikhonov regularization</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dimname</strong> (<em>str</em>) – Name of the “data” dimension that is to be replaced by a
distribution (the “fit” dimension);
<em>e.g.</em> if you are regularizing a set of functions
<span class="math notranslate nohighlight">\(\exp(-\tau*R_1)\)</span>, then this is <span class="math notranslate nohighlight">\(\tau\)</span></li>
<li><strong>newaxis_dict</strong> (<em>dict</em><em> or </em><a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata" title="pyspecdata.nddata"><em>nddata</em></a>) – a dictionary whose key is the name of the “fit” dimension
(<span class="math notranslate nohighlight">\(R_1\)</span> in the example above)
and whose value is an array with the new axis labels.
OR
this can be a 1D nddata
– if it has an axis, the axis will be used to create the
fit axis; if it has no axis, the data will be used</li>
<li><strong>kernel_func</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – a function giving the kernel for the regularization.
The first argument is the “data” variable
and the second argument is the “fit” variable
(in the example above, this would be something like
<code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x,y:</span> <span class="pre">exp(-x*y)</span></code>)</li>
<li><strong>l</strong> (<em>double</em><em> (</em><em>default 0</em><em>) or </em><em>str</em>) – the regularization parameter
<span class="math notranslate nohighlight">\(lambda\)</span> – if this is set to 0, the algorithm reverts to
standard nnls.
If this is set to <a href="#id29"><span class="problematic" id="id30">:str:`BRD`</span></a>, then algorithm expects tuple of each parameter
described above in order to perform a 2-dimensional fit.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The regularized result.
For future use, both the kernel (as an nddata, in a property called
“nnls_kernel”) and the residual (as an nddata, in a property called
“nnls_residual”) are stored as properties of the nddata.
The regularized dimension is always last
(innermost).
If <a href="#id31"><span class="problematic" id="id32">:str:`BRD`</span></a> is specified, then the individual, uncompressed kernels <span class="math notranslate nohighlight">\(K_{1}\)</span> and <span class="math notranslate nohighlight">\(K_{2}\)</span> are returned as properties of the nddata “K1” and “K2” respectively. The number of singular values used to compressed each kernel is returned in properties of the nddata called, respectively, “s1” and “s2”.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">self</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.normalize">
<code class="descname">normalize</code><span class="sig-paren">(</span><em>axis</em>, <em>first_figure=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.normalize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.oldtimey">
<code class="descname">oldtimey</code><span class="sig-paren">(</span><em>alpha=0.5</em>, <em>ax=None</em>, <em>linewidth=None</em>, <em>sclinewidth=20.0</em>, <em>light=True</em>, <em>rotation=None</em>, <em>invert=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.oldtimey" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.plot_labels">
<code class="descname">plot_labels</code><span class="sig-paren">(</span><em>labels</em>, <em>fmt=None</em>, <em>**kwargs_passed</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.plot_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>this only works for one axis now</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.polyfit">
<code class="descname">polyfit</code><span class="sig-paren">(</span><em>axis</em>, <em>order=1</em>, <em>force_y_intercept=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.polyfit" title="Permalink to this definition">¶</a></dt>
<dd><p>polynomial fitting routine – return the coefficients and the fit
..note:</p>
<blockquote>
<div>later, should probably branch this off as a new type of fit class</div></blockquote>
<dl class="docutils">
<dt>..warning:</dt>
<dd>for some reason, this version doesn’t use orthogonal polynomials,
as the numpy routine does – we had diagnosed and determined that
that creates noticeably different results, so fix that here.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>axis</strong> (<em>str</em>) – name of the axis that you want to fit along
(not sure if this is currently tested for multi-dimensional data,
but the idea should be that multiple fits would be returned.)</li>
<li><strong>order</strong> (<em>int</em>) – the order of the polynomial to be fit</li>
<li><strong>force_y_intercept</strong> (<em>double</em><em> or </em><em>None</em>) – force the y intercept to a particular value (e.g. 0)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>c</strong> (<em>ndarray</em>) – a standard numpy array containing the coefficients (in ascending polynomial order)</li>
<li><strong>formult</strong> (<em>nddata</em>) – an nddata containing the result of the fit</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.popdim">
<code class="descname">popdim</code><span class="sig-paren">(</span><em>dimname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.popdim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.random_mask">
<code class="descname">random_mask</code><span class="sig-paren">(</span><em>axisname</em>, <em>threshold=None</em>, <em>inversion=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.random_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a random mask with about ‘threshold’ of the points thrown out</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.nddata.real">
<code class="descname">real</code><a class="headerlink" href="#pyspecdata.nddata.real" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the real component of the data</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.register_axis">
<code class="descname">register_axis</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.register_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate the data so that the given axes are in register with a set of specified values. Does not change the spacing of the axis labels.</p>
<p>It finds the axis label position that is closest to the values given in <cite>arg</cite>, then interpolates (Fourier/sinc method) the data onto a new, slightly shifted, axis that passes exactly through the value given.
To do this, it uses
<a class="reference internal" href="#pyspecdata.core.nddata.ft_clear_startpoints" title="pyspecdata.core.nddata.ft_clear_startpoints"><code class="xref py py-func docutils literal notranslate"><span class="pre">.ft_clear_startpoints()</span></code></a>
and uses
<a class="reference internal" href="#pyspecdata.core.nddata.set_ft_prop" title="pyspecdata.core.nddata.set_ft_prop"><code class="xref py py-func docutils literal notranslate"><span class="pre">.set_ft_prop()</span></code></a>
to override the “not aliased” flag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>arg</strong> (<em>dict</em><em> (</em><em>key</em><em>,</em><em>value = str</em><em>,</em><em>double</em><em>)</em>) – A list of the dimensions that you want to place in register, and the values you want them registered to.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>previous</em>, <em>new</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.rename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.reorder">
<code class="descname">reorder</code><span class="sig-paren">(</span><em>*axes</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.reorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorder the dimensions
the first arguments are a list of dimensions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>*axes</strong> (<em>str</em>) – Accept any number of arguments that gives the dimensions, in the
order that you want thee.</li>
<li><strong>first</strong> (<em>bool</em>) – (default True)
Put this list of dimensions first, while False puts them last (where they then come in the order given).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.replicate_units">
<code class="descname">replicate_units</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.replicate_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.repwlabels">
<code class="descname">repwlabels</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.repwlabels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.retaxis">
<code class="descname">retaxis</code><span class="sig-paren">(</span><em>axisname</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.retaxis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run a standard numpy function on the nddata:</p>
<p><code class="docutils literal notranslate"><span class="pre">d.run(func,'axisname')</span></code> will run function <cite>func</cite> (<em>e.g.</em> a
lambda function) along axis named ‘axisname’</p>
<p><code class="docutils literal notranslate"><span class="pre">d.run(func)</span></code> will run function <cite>func</cite> on the data</p>
<p><strong>in general</strong>: if the result of func reduces a dimension size to
1, the ‘axisname’ dimension will be “popped” (it will not exist in
the result) – if this is not what you want, use <code class="docutils literal notranslate"><span class="pre">run_nopop</span></code></p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.run_avg">
<code class="descname">run_avg</code><span class="sig-paren">(</span><em>thisaxisname</em>, <em>decimation=20</em>, <em>centered=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.run_avg" title="Permalink to this definition">¶</a></dt>
<dd><p>a simple running average</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.run_nopop">
<code class="descname">run_nopop</code><span class="sig-paren">(</span><em>func</em>, <em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.run_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.runcopy">
<code class="descname">runcopy</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.runcopy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.secsy_transform">
<code class="descname">secsy_transform</code><span class="sig-paren">(</span><em>direct_dim</em>, <em>indirect_dim</em>, <em>has_indirect=True</em>, <em>method='fourier'</em>, <em>truncate=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.secsy_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the time-domain data backwards by the echo time.</p>
<p>As opposed to <code class="xref py py-func docutils literal notranslate"><span class="pre">secsy_transform_manual</span></code>, this calls on on <code class="xref py py-func docutils literal notranslate"><span class="pre">skew</span></code>,
rather than directly manipulating the phase of the function, which can lead to aliasing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>has_indirect</strong> (<em>bool</em>) – <p>(This option is largely specific to data loaded by <code class="xref py py-func docutils literal notranslate"><span class="pre">acert_hdf5</span></code>)</p>
<p>Does the data actually have an indirect dimension?
If not, assume that there is a constant echo time,
that can be retrieved with <code class="docutils literal notranslate"><span class="pre">.get_prop('te')</span></code>.</p>
</li>
<li><strong>truncate</strong> (<em>bool</em>) – If this is set, <cite>register_axis &lt;pyspecdata.axis_manipulation.register_axis&gt;</cite> to <span class="math notranslate nohighlight">\(t_{direct}=0\)</span>,
and then throw out the data for which <span class="math notranslate nohighlight">\(t_{direct}&lt;0\)</span>.</li>
<li><strong>method</strong> (<em>str</em>) – The shear method (linear or fourier).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.secsy_transform_manual">
<code class="descname">secsy_transform_manual</code><span class="sig-paren">(</span><em>direct_dim</em>, <em>indirect_dim</em>, <em>has_indirect=True</em>, <em>truncate=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.secsy_transform_manual" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the time-domain data backwards by the echo time.
As opposed to <code class="xref py py-func docutils literal notranslate"><span class="pre">secsy_transform</span></code>, this directlly manipulates the phase of the function, rather than calling on <code class="xref py py-func docutils literal notranslate"><span class="pre">skew</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>has_indirect</strong> (<em>bool</em>) – <p>(This option is largely specific to data loaded by <code class="xref py py-func docutils literal notranslate"><span class="pre">acert_hdf5</span></code>)</p>
<p>Does the data actually have an indirect dimension?
If not, assume that there is a constant echo time,
that can be retrieved with <code class="docutils literal notranslate"><span class="pre">.get_prop('te')</span></code>.</p>
</li>
<li><strong>truncate</strong> (<em>bool</em>) – If this is set, <cite>register_axis &lt;pyspecdata.axis_manipulation.register_axis&gt;</cite> to <span class="math notranslate nohighlight">\(t_{direct}=0\)</span>,
and then throw out the data for which <span class="math notranslate nohighlight">\(t_{direct}&lt;0\)</span>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.set_error">
<code class="descname">set_error</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_error" title="Permalink to this definition">¶</a></dt>
<dd><p>set the errors: either</p>
<p><cite>set_error(‘axisname’,error_for_axis)</cite> or <cite>set_error(error_for_data)</cite></p>
<p><cite>error_for_data</cite> can be a scalar, in which case, <strong>all</strong> the data errors are set to <cite>error_for_data</cite></p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.set_ft_prop">
<code class="descname">set_ft_prop</code><span class="sig-paren">(</span><em>axis</em>, <em>propname=None</em>, <em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_ft_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if <cite>propname</cite> is a boolean, and <cite>value</cite> is True (the default), it’s assumed that propname is actually None, and that <cite>value</cite> is set to the <cite>propname</cite> argument (this allows us to set the <cite>FT</cite> property more easily)</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.set_plot_color">
<code class="descname">set_plot_color</code><span class="sig-paren">(</span><em>thiscolor</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_plot_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.set_prop">
<code class="descname">set_prop</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>set a ‘property’ of the nddata
This is where you can put all unstructured information (e.g. experimental parameters, etc)</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.set_to">
<code class="descname">set_to</code><span class="sig-paren">(</span><em>otherinst</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Set data inside the current instance to that of the other instance.</p>
<p>Goes through the list of attributes specified in copy,
and assigns them to the element of the current instance.</p>
<p>This is to be used:</p>
<ul class="simple">
<li>for constructing classes that inherit nddata with additional methods.</li>
<li>for overwriting the current data with the result of a slicing operation</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.set_units">
<code class="descname">set_units</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.setaxis">
<code class="descname">setaxis</code><span class="sig-paren">(</span><em>axis</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.setaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>set the value of the axis if you pass a function as the <cite>value</cite>, it will use the existing axis labels as the argument of the function, and then put the result into the axis labels</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.shear">
<code class="descname">shear</code><span class="sig-paren">(</span><em>along_axis</em>, <em>propto_axis</em>, <em>shear_amnt</em>, <em>zero_fill=True</em>, <em>start_in_conj=False</em>, <em>method='linear'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.shear" title="Permalink to this definition">¶</a></dt>
<dd><p>Shear the data <span class="math notranslate nohighlight">\(s\)</span>:</p>
<p><span class="math notranslate nohighlight">\(s(x',y,z) = s(x+ay,y,z)\)</span></p>
<p>where <span class="math notranslate nohighlight">\(x\)</span> is the <cite>altered_axis</cite> and <span class="math notranslate nohighlight">\(y\)</span> is the
<cite>propto_axis</cite>.  (Actually typically 2D, but <span class="math notranslate nohighlight">\(z\)</span> included
just to illustrate other dimensions that aren’t involved)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>method</strong> (<em>{'fourier'</em><em>,</em><em>'linear'}</em>) – <dl class="docutils">
<dt>fourier</dt>
<dd>Use the Fourier shift theorem (<em>i.e.</em>, sinc interpolation).  A
shear is equivalent to the following in the conjugate domain:<p>..math: <cite>tilde{s}(f_x,f’_y,z) = tilde{s}(f_x,f_y-af_x,f_z)</cite></p>
<p class="last">Because of this, the algorithm <strong>also</strong>
automatically <cite>extend`s the data in `f_y</cite> axis.
Equivalently, it increases the resolution
(decreases the interval between points) in the
<cite>propto_axis</cite> dimension.  This prevents aliasing
in the conjugate domain, which will corrupt the
data <em>w.r.t.</em> successive transformations. It does
this whether or not <cite>zero_fill</cite> is set
(<cite>zero_fill</cite> only controls filling in the
“current” dimension)</p>
</dd>
<dt>linear</dt>
<dd>Use simple linear interpolation.</dd>
</dl>
</li>
<li><strong>altered_axis</strong> (<em>str</em>) – The coordinate for which data is altered, <em>i.e.</em>
..math: <cite>x</cite> such that ..math: <cite>f(x+ay,y)</cite>.</li>
<li><strong>by_amount</strong> (<em>double</em>) – The amount of the shear (..math: <cite>a</cite> in the previous)</li>
<li><strong>propto_axis</strong> (<em>str</em>) – The shift along the <cite>altered_axis</cite> dimension is
proportional to the shift along <cite>propto_axis</cite>.
The position of data relative to the <cite>propto_axis</cite> is not
changed.
Note that by the shift theorem, in the frequency domain,
an equivalent magnitude, opposite sign, shear is applied
with the <cite>propto_axis</cite> and <cite>altered_axis</cite> dimensions
flipped.</li>
<li><strong>start_in_conj</strong> (<em>{False</em><em>, </em><em>True}</em><em>, </em><em>optional</em>) – <p>Defaults to False</p>
<p>For efficiency, one can replace a double (I)FT call followed by a
shear call with a single shear call where <cite>start_in_conj</cite> is set.</p>
<p><cite>self</cite> before the call is given in the conjugate domain  (<em>i.e.</em>,
<span class="math notranslate nohighlight">\(f\)</span> <em>vs.</em> <span class="math notranslate nohighlight">\(t\)</span>) along both dimensions from the one that’s
desired.  This means: (1) <cite>self</cite> after the function call transformed
into the conjugate domain from that before the call and (2)
<cite>by_amount</cite>, <cite>altered_axis</cite>, and <cite>propto_axis</cite> all refer to the shear
in the conjugate domain that the data is in at the end of the
function call.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.smoosh">
<code class="descname">smoosh</code><span class="sig-paren">(</span><em>dimstocollapse</em>, <em>dimname=0</em>, <em>noaxis=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.smoosh" title="Permalink to this definition">¶</a></dt>
<dd><p>Collapse (smoosh) multiple dimensions into one dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dimstocollapse</strong> (<em>list of strings</em>) – the dimensions you want to collapse to one result dimension</li>
<li><strong>dimname</strong> (<em>None</em><em>, </em><em>string</em><em>, </em><em>integer</em><em> (</em><em>default 0</em><em>)</em>) – <p>if dimname is:</p>
<ul>
<li>None: create a new (direct product) name,</li>
<li>a number: an index to the <code class="docutils literal notranslate"><span class="pre">dimstocollapse</span></code> list.  The resulting smooshed dimension will be named <code class="docutils literal notranslate"><span class="pre">dimstocollapse[dimname]</span></code>. Because the default is the number 0, the new dimname will be the first dimname given in the list.</li>
<li>a string: the name of the resulting smooshed dimension (can be part of the <code class="docutils literal notranslate"><span class="pre">dimstocollapse</span></code> list or not)</li>
</ul>
</li>
<li><strong>noaxis</strong> (<em>bool</em>) – if set, then just skip calculating the axis for the new dimension,
which otherwise is typically a complicated record array</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>self</strong> (<em>nddata</em>) – the dimensions <cite>dimstocollapse</cite> are smooshed into a single dimension,
whose name is determined by <cite>dimname</cite>.
The axis for the resulting, smooshed dimension is a structured
array consisting of two fields that give the labels along the
original axes.</li>
<li><em>..todo::</em> – when we transition to axes that are stored using a
slice/linspace-like format,
allow for smooshing to determine a new axes that is standard
(not a structured array) and that increases linearly.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.sort">
<code class="descname">sort</code><span class="sig-paren">(</span><em>axisname</em>, <em>reverse=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.sort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.sort_and_xy">
<code class="descname">sort_and_xy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.sort_and_xy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.squeeze">
<code class="descname">squeeze</code><span class="sig-paren">(</span><em>return_dropped=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.squeeze" title="Permalink to this definition">¶</a></dt>
<dd><p>squeeze singleton dimensions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>return_dropped</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – return a list of the dimensions that were dropped as a second argument</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><em>self</em></li>
<li><strong>return_dropped</strong> (<em>list</em>) – (optional, only if return_dropped is True)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><em>axes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.sum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.sum_nopop">
<code class="descname">sum_nopop</code><span class="sig-paren">(</span><em>axes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.sum_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.to_ppm">
<code class="descname">to_ppm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.to_ppm" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that converts from Hz to ppm using Bruker parameters</p>
<div class="admonition-todo admonition" id="index-4">
<p class="first admonition-title">Todo</p>
<p>Figure out what the units of PHC1 in Topspin are (degrees per <em>what??</em>), and apply those as well.</p>
<p class="last">make this part of an inherited bruker class</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.unitify_axis">
<code class="descname">unitify_axis</code><span class="sig-paren">(</span><em>axis_name</em>, <em>is_axis=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.unitify_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>this just generates an axis label with appropriate units</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.units_texsafe">
<code class="descname">units_texsafe</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.units_texsafe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.unset_prop">
<code class="descname">unset_prop</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.unset_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a ‘property’</p>
</dd></dl>

<dl class="attribute">
<dt id="pyspecdata.nddata.want_to_prospa_decim_correct">
<code class="descname">want_to_prospa_decim_correct</code><em class="property"> = False</em><a class="headerlink" href="#pyspecdata.nddata.want_to_prospa_decim_correct" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.nddata.waterfall">
<code class="descname">waterfall</code><span class="sig-paren">(</span><em>alpha=0.3</em>, <em>ax=None</em>, <em>rotation=None</em>, <em>color='b'</em>, <em>edgecolor='k'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.waterfall" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.nddata_hdf5">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">nddata_hdf5</code><span class="sig-paren">(</span><em>pathstring</em>, <em>directory='.'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.ndgrid">
<code class="descclassname">pyspecdata.</code><code class="descname">ndgrid</code><span class="sig-paren">(</span><em>*input</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndgrid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.ndshape">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">ndshape</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyspecdata.ndshape.ndshape_base" title="pyspecdata.ndshape.ndshape_base"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.ndshape.ndshape_base</span></code></a></p>
<p>The ndshape class, including the allocation method</p>
<dl class="method">
<dt id="pyspecdata.ndshape.alloc">
<code class="descname">alloc</code><span class="sig-paren">(</span><em>dtype='complex128'</em>, <em>labels=False</em>, <em>format=0</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.alloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the shape object to allocate an empty nddata object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> – Needs documentation</li>
<li><strong>format</strong> (<em>0</em><em>, </em><em>1</em><em>, or </em><em>None</em>) – What goes in the allocated array.
<cite>None</cite> uses numpy empty.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.ndshape_base">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">ndshape_base</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base" title="Permalink to this definition">¶</a></dt>
<dd><p>The base ndshape class, which doesn’t include an allocation method.</p>
<dl class="method">
<dt id="pyspecdata.ndshape_base.axn">
<code class="descname">axn</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.axn" title="Permalink to this definition">¶</a></dt>
<dd><p>return the number for the axis with the name “axis”</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape_base.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape_base.matchdims">
<code class="descname">matchdims</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.matchdims" title="Permalink to this definition">¶</a></dt>
<dd><p>returns shape with [not in self, len 1] + [overlapping dims between arg + self] + [not in arg] –&gt; this is better accomplished by using sets as I do in the matchdims below</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape_base.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><em>label</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a dimension</p>
</dd></dl>

<dl class="method">
<dt id="pyspecdata.ndshape_base.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>before</em>, <em>after</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>rename a dimension</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyspecdata.newcol_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">newcol_rec</code><span class="sig-paren">(</span><em>A</em>, <em>new_dtypes</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.newcol_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>add new, empty (i.e. random numbers) fields to A, as given by new_dtypes
–&gt; note that there are deeply nested numpy functions to do this, but the options are confusing, and I think the way these work is efficient</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.nextfigure">
<code class="descclassname">pyspecdata.</code><code class="descname">nextfigure</code><span class="sig-paren">(</span><em>figurelist</em>, <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nextfigure" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – now use class</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.nnls_regularized">
<code class="descclassname">pyspecdata.</code><code class="descname">nnls_regularized</code><span class="sig-paren">(</span><em>A</em>, <em>b</em>, <em>l=0</em>, <em>maxiter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nnls_regularized" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve math:<cite>argmin_x || Ax - b ||_2^2 + lambda^2 ||x||_2^2</cite> for <code class="docutils literal notranslate"><span class="pre">x&gt;=0</span></code>.
This is a wrapper for a FORTRAN non-negative least squares solver,
with regularization (added by stacking $A$ on top an identity matrix
times $lambda$ and $b$ on top of a matching array of zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<em>ndarray</em>) – Matrix <code class="docutils literal notranslate"><span class="pre">A</span></code> as shown above.</li>
<li><strong>b</strong> (<em>ndarray</em>) – Right-hand side vector.</li>
<li><strong>l</strong> (<em>double</em><em> (</em><em>default 0</em><em>)</em>) – <span class="math notranslate nohighlight">\(lambda\)</span> – if this is set to 0, the algorithm reverts to
standard nnls (rather than stacking on top of two zero matrices
for no reason)</li>
<li><strong>maxiter</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of iterations, optional.
Default is <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">*</span> <span class="pre">A.shape[1]</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>x</strong> (<em>ndarray</em>) – Solution vector.</li>
<li><strong>rnorm</strong> (<em>float</em>) – The residual, <code class="docutils literal notranslate"><span class="pre">||</span> <span class="pre">Ax-b</span> <span class="pre">||_2</span></code>.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The FORTRAN code was published in the book below. The algorithm
is an active set method. It solves the KKT (Karush-Kuhn-Tucker)
conditions for the non-negative least squares problem.</p>
<p>This was adapted from the source distributed with scipy –
see scipy for relevant licensing.</p>
<p class="rubric">References</p>
<p>Lawson C., Hanson R.J., (1987) Solving Least Squares Problems, SIAM</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.normal_attrs">
<code class="descclassname">pyspecdata.</code><code class="descname">normal_attrs</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.normal_attrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.obs">
<code class="descclassname">pyspecdata.</code><code class="descname">obs</code><span class="sig-paren">(</span><em>*x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.obs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.obsn">
<code class="descclassname">pyspecdata.</code><code class="descname">obsn</code><span class="sig-paren">(</span><em>*x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.obsn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.othergridandtick">
<code class="descclassname">pyspecdata.</code><code class="descname">othergridandtick</code><span class="sig-paren">(</span><em>ax</em>, <em>rotation=(0</em>, <em>0)</em>, <em>precision=(2</em>, <em>2)</em>, <em>labelstring=(''</em>, <em>'')</em>, <em>gridcolor=None</em>, <em>y=True</em>, <em>x=True</em>, <em>spines=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.othergridandtick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.pinvr">
<code class="descclassname">pyspecdata.</code><code class="descname">pinvr</code><span class="sig-paren">(</span><em>C</em>, <em>alpha</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.pinvr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.plot">
<code class="descclassname">pyspecdata.</code><code class="descname">plot</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>The base plotting function that wraps around matplotlib to do a couple convenient things.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>label_format_string</strong> (<em>str</em>) – If supplied, it formats the values of the other dimension to turn them into a label string.</li>
<li><strong>human_units</strong> (<em>bool</em>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.plot_color_counter">
<code class="descclassname">pyspecdata.</code><code class="descname">plot_color_counter</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.plot_color_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Try not to use this function any more – the version-to-version support for capturing and setting color cycles in matplotlib is very very bad.  (And, the cycler object in newer versions of matplolib is confusing.) So, just import <cite>cycle</cite> from <cite>itertools</cite>, and use it to build a cycle that you directly call to set your properties.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>previous description:</p>
<p>if passed an argument: make it so that the next line will have the properties given by the argument</p>
<p class="last">if not passed an argument: just return the current plot properties,so that I can cycle back to it</p>
</div>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.plot_label_points">
<code class="descclassname">pyspecdata.</code><code class="descname">plot_label_points</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>labels</em>, <em>**kwargs_passed</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.plot_label_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.plot_updown">
<code class="descclassname">pyspecdata.</code><code class="descname">plot_updown</code><span class="sig-paren">(</span><em>data</em>, <em>axis</em>, <em>color1</em>, <em>color2</em>, <em>symbol=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.plot_updown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.process_kwargs">
<code class="descclassname">pyspecdata.</code><code class="descname">process_kwargs</code><span class="sig-paren">(</span><em>listoftuples</em>, <em>kwargs</em>, <em>pass_through=False</em>, <em>as_attr=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.process_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>This function allows dynamically processed (<em>i.e.</em> function definitions with <cite>**kwargs</cite>) kwargs (keyword arguments) to be dealt with in a fashion more like standard kwargs.
The defaults set in <cite>listoftuples</cite> are used to process <cite>kwargs</cite>, which are then returned as a set of values (that are set to defaults as needed).</p>
<p>Note that having <cite>kwargs</cite> as an explicit argument avoids errors where the user forgets to pass the <cite>kwargs</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>kwargs</strong> (<a href="#id33"><span class="problematic" id="id34">**</span></a>dictionary) – The keyword arguments that you want to process.</li>
<li><strong>listoftuples</strong> (<em>list of tuple pairs</em>) – Tuple pairs, consisting of <code class="docutils literal notranslate"><span class="pre">('param_name',param_value)</span></code>, that give the default values for the various parameters.</li>
<li><strong>pass_through</strong> (<em>bool</em>) – Defaults to False.  If it’s true, then it’s OK not to process all the kwargs here.
In that case, the used kwargs are popped out of the dictionary, and you are expected to pass the unprocessed values (in the dictionary after the call) on to subsequent processing.
Importantly, you should <em>always</em> end with a <cite>pass_through`=`False</cite> call of this function, or by passing <a href="#id35"><span class="problematic" id="id36">**</span></a>kwargs to a standard function in the standard way.
Otherwise it’s possible for the user to pass kwargs that are never processed!</li>
<li><strong>as_attr</strong> (<em>bool</em><em>, </em><em>object</em>) – Defaults to False. If not False, it must be an object whose attributes are set to the value of the respective kwargs.</li>
<li><strong>return</strong> (<em>tuple</em>) – It’s expected that the output is assigned to variables with the <strong>exact same</strong> names as the string in the first half of the tuples, in the <strong>exact same</strong> order.
These parameters will then be set to the appropriate values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.prospa_t1_info">
<code class="descclassname">pyspecdata.</code><code class="descname">prospa_t1_info</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.prospa_t1_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.rc">
<code class="descclassname">pyspecdata.</code><code class="descname">rc</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.rc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.rclass">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">rclass</code><a class="headerlink" href="#pyspecdata.rclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.redim_C_to_F">
<code class="descclassname">pyspecdata.</code><code class="descname">redim_C_to_F</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.redim_C_to_F" title="Permalink to this definition">¶</a></dt>
<dd><p>see redim_F_to_C</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.redim_F_to_C">
<code class="descclassname">pyspecdata.</code><code class="descname">redim_F_to_C</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.redim_F_to_C" title="Permalink to this definition">¶</a></dt>
<dd><p>the following creates a C array, reversing the <em>apparent</em> order of dimensions, while preserving the order in memory</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.reformat_exp">
<code class="descclassname">pyspecdata.</code><code class="descname">reformat_exp</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.reformat_exp" title="Permalink to this definition">¶</a></dt>
<dd><p>reformat scientific notation in a nice latex format – used in both pdf and jupyter notebooks</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.rename_fields">
<code class="descclassname">pyspecdata.</code><code class="descname">rename_fields</code><span class="sig-paren">(</span><em>base</em>, <em>namemapper</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.rename_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename the fields from a flexible-datatype ndarray or recarray.</p>
<p>Nested fields are supported.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>base</strong> (<em>ndarray</em>) – Input array whose fields must be modified.</li>
<li><strong>namemapper</strong> (<em>dictionary</em>) – Dictionary mapping old field names to their new version.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.lib</span> <span class="k">import</span> <span class="n">recfunctions</span> <span class="k">as</span> <span class="n">rfn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">30.</span><span class="p">])),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">60.</span><span class="p">]))],</span>
<span class="gp">... </span>  <span class="n">dtype</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">),(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;ba&#39;</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;bb&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="mi">2</span><span class="p">))])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span><span class="o">.</span><span class="n">rename_fields</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;BB&#39;</span><span class="p">})</span>
<span class="go">array([(1, (2.0, [3.0, 30.0])), (4, (5.0, [6.0, 60.0]))],</span>
<span class="go">      dtype=[(&#39;A&#39;, &#39;&lt;i4&#39;), (&#39;b&#39;, [(&#39;ba&#39;, &#39;&lt;f8&#39;), (&#39;BB&#39;, &#39;&lt;f8&#39;, 2)])])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.render_matrix">
<code class="descclassname">pyspecdata.</code><code class="descname">render_matrix</code><span class="sig-paren">(</span><em>arg</em>, <em>format_code='%.4g'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.render_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>return latex string representing 2D matrix</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.reorder_rec">
<code class="descclassname">pyspecdata.</code><code class="descname">reorder_rec</code><span class="sig-paren">(</span><em>myarray</em>, <em>listofnames</em>, <em>first=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.reorder_rec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.scipy_griddata">
<code class="descclassname">pyspecdata.</code><code class="descname">scipy_griddata</code><span class="sig-paren">(</span><em>points</em>, <em>values</em>, <em>xi</em>, <em>method='linear'</em>, <em>fill_value=nan</em>, <em>rescale=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.scipy_griddata" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate unstructured D-dimensional data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>points</strong> (<em>ndarray of floats</em><em>, </em><em>shape</em><em> (</em><em>n</em><em>, </em><em>D</em><em>)</em>) – Data point coordinates. Can either be an array of
shape (n, D), or a tuple of <cite>ndim</cite> arrays.</li>
<li><strong>values</strong> (<em>ndarray of float</em><em> or </em><em>complex</em><em>, </em><em>shape</em><em> (</em><em>n</em><em>,</em><em>)</em>) – Data values.</li>
<li><strong>xi</strong> (<em>2-D ndarray of float</em><em> or </em><em>tuple of 1-D array</em><em>, </em><em>shape</em><em> (</em><em>M</em><em>, </em><em>D</em><em>)</em>) – Points at which to interpolate data.</li>
<li><strong>method</strong> (<em>{'linear'</em><em>, </em><em>'nearest'</em><em>, </em><em>'cubic'}</em><em>, </em><em>optional</em>) – <p>Method of interpolation. One of</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">nearest</span></code></dt>
<dd>return the value at the data point closest to
the point of interpolation.  See <cite>NearestNDInterpolator</cite> for
more details.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">linear</span></code></dt>
<dd>tessellate the input point set to n-dimensional
simplices, and interpolate linearly on each simplex.  See
<cite>LinearNDInterpolator</cite> for more details.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cubic</span></code> (1-D)</dt>
<dd>return the value determined from a cubic
spline.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cubic</span></code> (2-D)</dt>
<dd>return the value determined from a
piecewise cubic, continuously differentiable (C1), and
approximately curvature-minimizing polynomial surface. See
<cite>CloughTocher2DInterpolator</cite> for more details.</dd>
</dl>
</li>
<li><strong>fill_value</strong> (<em>float</em><em>, </em><em>optional</em>) – Value used to fill in for requested points outside of the
convex hull of the input points.  If not provided, then the
default is <code class="docutils literal notranslate"><span class="pre">nan</span></code>. This option has no effect for the
‘nearest’ method.</li>
<li><strong>rescale</strong> (<em>bool</em><em>, </em><em>optional</em>) – <p>Rescale points to unit cube before performing interpolation.
This is useful if some of the input dimensions have
incommensurable units and differ by many orders of magnitude.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.14.0.</span></p>
</div>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Array of interpolated values.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.9.</span></p>
</div>
<p class="rubric">Examples</p>
<p>Suppose we want to interpolate the 2-D function</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>on a grid in [0, 1]x[0, 1]</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mgrid</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">100</span><span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">200</span><span class="n">j</span><span class="p">]</span>
</pre></div>
</div>
<p>but we only know its values at 1000 data points:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">points</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">points</span><span class="p">[:,</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>This can be done with <cite>griddata</cite> – below we try out all of the
interpolation methods:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="k">import</span> <span class="n">griddata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_z0</span> <span class="o">=</span> <span class="n">griddata</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="p">(</span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span><span class="p">),</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_z1</span> <span class="o">=</span> <span class="n">griddata</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="p">(</span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span><span class="p">),</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_z2</span> <span class="o">=</span> <span class="n">griddata</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="p">(</span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span><span class="p">),</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;cubic&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>One can see that the exact result is reproduced by all of the
methods to some degree, but for this smooth function the piecewise
cubic interpolant gives the best results:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">221</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">points</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">points</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;k.&#39;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Original&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">222</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">grid_z0</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Nearest&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">223</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">grid_z1</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Linear&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">224</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">grid_z2</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Cubic&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.search_filename">
<code class="descclassname">pyspecdata.</code><code class="descname">search_filename</code><span class="sig-paren">(</span><em>searchstring</em>, <em>exp_type</em>, <em>print_result=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.search_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Use regular expression <cite>searchstring</cite> to find a file inside the directory indicated by <cite>exp_type</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>searchstring</strong> (<em>str</em>) – Most commonly, this is just a fragment of the file name,
with any literal <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">.</span></code>, or <code class="docutils literal notranslate"><span class="pre">?</span></code> characters preceded by
a backslash.
More generally, it is a regular expression,
where <code class="docutils literal notranslate"><span class="pre">.*searchstring.*</span></code> matches a filename inside the
directory appropriate for <cite>exp_type</cite>.</li>
<li><strong>exp_type</strong> (<em>str</em>) – Since the function assumes that you have different types of
experiments sorted into different directories, this argument
specifies the type of experiment see <a class="reference internal" href="#pyspecdata.datadir.getDATADIR" title="pyspecdata.datadir.getDATADIR"><code class="xref py py-func docutils literal notranslate"><span class="pre">getDATADIR()</span></code></a> for
more info.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.sech">
<code class="descclassname">pyspecdata.</code><code class="descname">sech</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.sech" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.showtype">
<code class="descclassname">pyspecdata.</code><code class="descname">showtype</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.showtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.spectrogram">
<code class="descclassname">pyspecdata.</code><code class="descname">spectrogram</code><span class="sig-paren">(</span><em>waveform</em>, <em>f_start</em>, <em>f_stop</em>, <em>npoints_fdom=40</em>, <em>tdom_div=2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.spectrogram" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.sqrt">
<code class="descclassname">pyspecdata.</code><code class="descname">sqrt</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.sqrt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.strm">
<code class="descclassname">pyspecdata.</code><code class="descname">strm</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.strm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyspecdata.subplot_dim">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">subplot_dim</code><span class="sig-paren">(</span><em>firstdim</em>, <em>seconddim</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.subplot_dim" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="pyspecdata.subplot_dim.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>args</em>, <em>x=''</em>, <em>g=True</em>, <em>y=''</em>, <em>t=''</em>, <em>a=''</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.subplot_dim.set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyspecdata.testclass">
<em class="property">class </em><code class="descclassname">pyspecdata.</code><code class="descname">testclass</code><a class="headerlink" href="#pyspecdata.testclass" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.text_on_plot">
<code class="descclassname">pyspecdata.</code><code class="descname">text_on_plot</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>thistext</em>, <em>coord='axes'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.text_on_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.textlabel_bargraph">
<code class="descclassname">pyspecdata.</code><code class="descname">textlabel_bargraph</code><span class="sig-paren">(</span><em>mystructarray</em>, <em>othersort=None</em>, <em>spacing=0.1</em>, <em>verbose=False</em>, <em>ax=None</em>, <em>tickfontsize=8</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.textlabel_bargraph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyspecdata.unmake_ndarray">
<code class="descclassname">pyspecdata.</code><code class="descname">unmake_ndarray</code><span class="sig-paren">(</span><em>array_to_conv</em>, <em>name_forprint='unknown'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.unmake_ndarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert this item to an ndarray</p>
</dd></dl>

<dl class="function">
<dt id="pyspecdata.whereblocks">
<code class="descclassname">pyspecdata.</code><code class="descname">whereblocks</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.whereblocks" title="Permalink to this definition">¶</a></dt>
<dd><p>returns contiguous chunks where the condition is true
but, see the “contiguous” method, which is more OO</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, John M. Franck

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
>>>>>>> update documentation, and add version tag
